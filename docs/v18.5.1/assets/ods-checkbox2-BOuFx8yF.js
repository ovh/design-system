import{p as h,H as u,c as s,h as r,a as v}from"./index-DAZhnxgO.js";import{s as b}from"./dom-CO1DdTQY.js";const k='.ods-checkbox{display:inline-flex;width:inherit;height:inherit}.ods-checkbox__checkbox{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:inline-flex;position:relative;align-items:center;justify-content:center;margin:0;border:solid 1px var(--ods-color-neutral-300);border-radius:var(--ods-border-radius-sm);background:var(--ods-color-primary-000);cursor:pointer;width:16px;height:16px}.ods-checkbox__checkbox::before{line-height:1;font-family:"ODS Icon", serif !important;speak:never;font-weight:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-variant:normal;font-style:normal;position:absolute;color:var(--ods-color-primary-000);font-size:0.5rem}.ods-checkbox__checkbox:focus{outline:var(--ods-outline-style-default) var(--ods-outline-width) var(--ods-outline-color-default);outline-offset:var(--ods-outline-offset)}.ods-checkbox__checkbox:not(.ods-checkbox__checkbox--error):focus{border-color:var(--ods-color-form-element-border-focus-default)}.ods-checkbox__checkbox:not(.ods-checkbox__checkbox--error):hover{border-color:var(--ods-color-form-element-border-hover-default)}.ods-checkbox__checkbox:checked::before{content:"\\e914"}.ods-checkbox__checkbox:indeterminate::before{content:"\\e963"}.ods-checkbox__checkbox:disabled{border-color:var(--ods-color-border-disabled-default);background-color:var(--ods-color-background-disabled-default);cursor:not-allowed;color:var(--ods-color-text-disabled-default)}.ods-checkbox__checkbox:disabled::before{color:var(--ods-color-text-disabled-default)}.ods-checkbox__checkbox:not(:disabled):checked,.ods-checkbox__checkbox:not(:disabled):indeterminate{border-color:var(--ods-color-primary-500);background:var(--ods-color-primary-500)}.ods-checkbox__checkbox:not(:disabled):checked:focus,.ods-checkbox__checkbox:not(:disabled):checked:hover,.ods-checkbox__checkbox:not(:disabled):indeterminate:focus,.ods-checkbox__checkbox:not(:disabled):indeterminate:hover{border-color:var(--ods-color-primary-700);background:var(--ods-color-primary-700)}.ods-checkbox__checkbox--error{border-color:var(--ods-color-form-element-border-critical)}',m=k,f=h(class extends u{constructor(){super(),this.__registerHost(),this.odsBlur=s(this,"odsBlur",7),this.odsChange=s(this,"odsChange",7),this.odsClear=s(this,"odsClear",7),this.odsFocus=s(this,"odsFocus",7),this.odsInvalid=s(this,"odsInvalid",7),this.odsReset=s(this,"odsReset",7),this.isInvalid=void 0,this.ariaLabel=null,this.ariaLabelledby=void 0,this.hasError=!1,this.inputId=void 0,this.isChecked=!1,this.isDisabled=!1,this.isIndeterminate=!1,this.isRequired=!1,this.name=void 0,this.value=null}async checkValidity(){var e,i;return this.isInvalid=!(!((e=this.inputEl)===null||e===void 0)&&e.validity.valid),(i=this.inputEl)===null||i===void 0?void 0:i.checkValidity()}async clear(){var e,i,o;this.inputEl&&(this.inputEl.checked=!1),this.odsClear.emit(),this.odsChange.emit({checked:!1,name:this.name,validity:(e=this.inputEl)===null||e===void 0?void 0:e.validity,value:(i=this.value)!==null&&i!==void 0?i:null}),(o=this.inputEl)===null||o===void 0||o.focus()}async getValidationMessage(){var e;return(e=this.inputEl)===null||e===void 0?void 0:e.validationMessage}async getValidity(){var e;return(e=this.inputEl)===null||e===void 0?void 0:e.validity}async reportValidity(){var e,i;return this.isInvalid=!(!((e=this.inputEl)===null||e===void 0)&&e.validity.valid),(i=this.inputEl)===null||i===void 0?void 0:i.reportValidity()}async reset(){var e,i;const o=[];this.getOdsCheckboxGroupByName().forEach(a=>{const t=a.querySelector('input[type="checkbox"]');t&&(a.getAttribute("is-checked")!==null&&a.getAttribute("is-checked")!=="false"?(t.checked=!0,o.push(t.value)):t.checked=!1)}),this.odsReset.emit(),this.odsChange.emit({checked:!!o.length,name:this.name,validity:(e=this.inputEl)===null||e===void 0?void 0:e.validity,value:o.length?o.join(","):(i=this.value)!==null&&i!==void 0?i:null})}async willValidate(){var e;return(e=this.inputEl)===null||e===void 0?void 0:e.willValidate}onIsInvalidChange(){this.odsInvalid.emit({isInvalid:!!this.isInvalid})}componentWillLoad(){this.observer=new MutationObserver(e=>{var i;for(const o of e)o.attributeName==="required"&&(this.isInvalid=!(!((i=this.inputEl)===null||i===void 0)&&i.validity.valid))})}componentDidLoad(){var e;this.inputEl&&((e=this.observer)===null||e===void 0||e.observe(this.inputEl,{attributeFilter:["required"],attributeOldValue:!1}))}disconnectedCallback(){var e;(e=this.observer)===null||e===void 0||e.disconnect()}async formResetCallback(){await this.reset()}getOdsCheckboxGroupByName(){return document.querySelectorAll(`ods-checkbox[name="${this.name}"]`)}onBlur(){var e;this.isInvalid=!(!((e=this.inputEl)===null||e===void 0)&&e.validity.valid),this.odsBlur.emit()}onInput(){var e,i;const{checked:o,validity:a,values:t}=Array.from(this.getOdsCheckboxGroupByName()).reduce((d,c)=>{const l=c.querySelector('input[type="checkbox"]');return l&&l.checked&&(d.checked=!0,d.validity=l.validity,d.values.push(l.value)),d},{checked:!1,validity:(e=this.inputEl)===null||e===void 0?void 0:e.validity,values:[]});this.odsChange.emit({checked:o,name:this.name,validity:a,value:t.length?t.join(","):(i=this.value)!==null&&i!==void 0?i:null})}onInvalidEvent(e){e.preventDefault(),e.stopPropagation(),this.isInvalid=!0}render(){var e;return r(v,{key:"23332b528e785402a82aa2083f646aeaf25227ab",class:"ods-checkbox",disabled:this.isDisabled},r("input",{key:"d5cad3a2aaf53e8460d11cd14213117c9537a06c","aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,class:{"ods-checkbox__checkbox":!0,"ods-checkbox__checkbox--error":this.hasError||!!this.isInvalid},checked:this.isChecked,disabled:this.isDisabled,id:this.inputId,indeterminate:this.isIndeterminate,name:this.name,onBlur:()=>this.onBlur(),onFocus:()=>this.odsFocus.emit(),onInput:()=>this.onInput(),onInvalid:i=>this.onInvalidEvent(i),onKeyUp:i=>this.inputEl&&b(i,this.inputEl.form),ref:i=>this.inputEl=i,required:this.isRequired,type:"checkbox",value:((e=this.value)===null||e===void 0?void 0:e.toString())||""}))}static get formAssociated(){return!0}static get watchers(){return{isInvalid:["onIsInvalidChange"]}}static get style(){return m}},[64,"ods-checkbox",{ariaLabel:[513,"aria-label"],ariaLabelledby:[513,"aria-labelledby"],hasError:[516,"has-error"],inputId:[513,"input-id"],isChecked:[516,"is-checked"],isDisabled:[516,"is-disabled"],isIndeterminate:[516,"is-indeterminate"],isRequired:[516,"is-required"],name:[513],value:[1537],isInvalid:[32],checkValidity:[64],clear:[64],getValidationMessage:[64],getValidity:[64],reportValidity:[64],reset:[64],willValidate:[64]},void 0,{isInvalid:["onIsInvalidChange"]}]);function p(){if(typeof customElements>"u")return;["ods-checkbox"].forEach(e=>{switch(e){case"ods-checkbox":customElements.get(e)||customElements.define(e,f);break}})}p();export{p as d};
