import{p as c,H as h,c as l,h as o,a as u}from"./index-DAZhnxgO.js";var r;(function(s){s.md="md",s.sm="sm"})(r||(r={}));Object.freeze(Object.values(r));const n={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1};async function b(s){await Promise.all(a(s).map(e=>e.clear()))}function f(s){const e=a(s);e.length&&e[0].focusItem()}function v(s,e){const i=a(s).find(t=>t.hasAttribute("is-checked"));return{validity:e&&!i?Object.assign(Object.assign({},n),{valid:!1,valueMissing:!0}):n,value:i?i.value:null}}function a(s){return s.filter(y)}async function w(s){return(await Promise.all(a(s).map(i=>i.getValidationMessage()))).find(i=>i)||""}async function d(s){const i=(await Promise.all(a(s).map(t=>t.getValidity()))).find(t=>t&&!t.valid);return i||n}async function g(s){return(await Promise.all(a(s).map(i=>i.willValidate()))).some(i=>i)}function y(s){return s.tagName.toLowerCase()==="ods-switch-item"}function p(s,e){a(e).forEach((i,t)=>{i.setAttribute("input-id",`${s}-${t}`)})}function I(s,e){a(e).forEach(i=>{s?i.setAttribute("is-disabled",""):i.removeAttribute("is-disabled")})}function _(s,e){a(e).forEach(i=>{s?i.setAttribute("is-required",""):i.removeAttribute("is-required")})}function S(s,e){a(e).forEach(i=>{i.setAttribute("name",s)})}async function C(s){const e=a(s);if(e.length){for(const i of e){const t=await i.getValidity();if(t&&!t.valid)return i.reportValidity()}return e[0].reportValidity()}}async function k(s){var e;return(e=(await Promise.all(a(s).map(t=>t.reset()))).find(t=>t!==null))!==null&&e!==void 0?e:null}const E=":host(.ods-switch){box-sizing:border-box;display:inline-flex;gap:4px;align-items:center;justify-content:center;border-radius:var(--ods-border-radius-lg);background-color:var(--ods-color-neutral-100)}:host(.ods-switch--sm){height:24px}:host(.ods-switch--sm)::slotted(.ods-switch-item__label){padding:4px 12px}:host(.ods-switch--md){height:32px}:host(:not(.ods-switch--disabled).ods-switch--error){border:1px solid var(--ods-color-form-element-border-critical)}",V=E,A=c(class extends h{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.odsBlur=l(this,"odsBlur",7),this.odsChange=l(this,"odsChange",7),this.odsClear=l(this,"odsClear",7),this.odsFocus=l(this,"odsFocus",7),this.odsInvalid=l(this,"odsInvalid",7),this.odsReset=l(this,"odsReset",7),this.isInvalid=void 0,this.hasError=!1,this.isDisabled=!1,this.isRequired=!1,this.name=void 0,this.size=r.md}onOdsSwitchItemBlur(e){e.stopImmediatePropagation(),this.odsBlur.emit()}onOdsSwitchItemChange(e){e.stopImmediatePropagation(),this.odsChange.emit(e.detail)}onOdsSwitchItemFocus(e){e.stopImmediatePropagation(),this.odsFocus.emit()}onOdsInvalid(e){e.stopImmediatePropagation(),this.isInvalid=e.detail.isInvalid}async checkValidity(){const e=await d(Array.from(this.el.children));return this.isInvalid=!e.valid,e.valid}async clear(){this.odsClear.emit(),await b(Array.from(this.el.children)),f(Array.from(this.el.children)),this.odsChange.emit({name:this.name,validity:await d(Array.from(this.el.children)),value:null})}async getValidationMessage(){return w(Array.from(this.el.children))}async getValidity(){return d(Array.from(this.el.children))}async reportValidity(){const e=await C(Array.from(this.el.children));return this.isInvalid=!e,e}async reset(){this.odsReset.emit();const e=await k(Array.from(this.el.children));this.odsChange.emit({name:this.name,validity:await d(Array.from(this.el.children)),value:e})}async willValidate(){return g(Array.from(this.el.children))}onIsDisabledChange(e){I(e,Array.from(this.el.children))}onIsInvalidChange(){this.odsInvalid.emit({isInvalid:!!this.isInvalid})}onIsRequiredChange(e){_(e,Array.from(this.el.children))}onNameChange(e){S(e,Array.from(this.el.children))}componentDidLoad(){const{validity:e,value:i}=v(Array.from(this.el.children),this.isRequired);this.odsChange.emit({name:this.name,validity:e,value:i})}async formResetCallback(){await this.reset()}init(){var e,i;this.onIsDisabledChange((e=this.isDisabled)!==null&&e!==void 0?e:!1),this.onIsRequiredChange((i=this.isRequired)!==null&&i!==void 0?i:!1),this.onNameChange(this.name),p(this.name,Array.from(this.el.children))}render(){return o(u,{key:"abfb3eb38681a478b4c365f71b35c037a63acf3e",class:{[`ods-switch ods-switch--${this.size}`]:!0,"ods-switch--disabled":!!this.isDisabled,"ods-switch--error":this.hasError||!!this.isInvalid},disabled:this.isDisabled},o("slot",{key:"0c7f269952266e8ed4a02b423474d1a342110d31",onSlotchange:()=>this.init()}))}static get formAssociated(){return!0}get el(){return this}static get watchers(){return{isDisabled:["onIsDisabledChange"],isInvalid:["onIsInvalidChange"],isRequired:["onIsRequiredChange"],name:["onNameChange"]}}static get style(){return V}},[65,"ods-switch",{hasError:[516,"has-error"],isDisabled:[516,"is-disabled"],isRequired:[516,"is-required"],name:[513],size:[513],isInvalid:[32],checkValidity:[64],clear:[64],getValidationMessage:[64],getValidity:[64],reportValidity:[64],reset:[64],willValidate:[64]},[[0,"odsSwitchItemBlur","onOdsSwitchItemBlur"],[0,"odsSwitchItemChange","onOdsSwitchItemChange"],[0,"odsSwitchItemFocus","onOdsSwitchItemFocus"],[0,"odsSwitchItemInvalid","onOdsInvalid"]],{isDisabled:["onIsDisabledChange"],isInvalid:["onIsInvalidChange"],isRequired:["onIsRequiredChange"],name:["onNameChange"]}]);function D(){if(typeof customElements>"u")return;["ods-switch"].forEach(e=>{switch(e){case"ods-switch":customElements.get(e)||customElements.define(e,A);break}})}D();const q=".ods-switch-item{height:100%}.ods-switch-item__label{display:inline-flex;align-items:center;justify-content:center;transition:background-color 0.3s, color 0.3s;border-radius:var(--ods-border-radius-lg);cursor:pointer;padding:0 12px;height:inherit;color:var(--ods-color-primary-500);font-size:1rem;font-weight:600}.ods-switch-item__label:not(.ods-switch-item__label--disabled):focus{outline:var(--ods-outline-style-default) var(--ods-outline-width) var(--ods-outline-color-default);outline-offset:var(--ods-outline-offset);background-color:var(--ods-color-primary-100)}.ods-switch-item__label:not(.ods-switch-item__label--disabled):hover{background-color:var(--ods-color-primary-100)}.ods-switch-item__label--disabled{border-color:var(--ods-color-border-disabled-default);background-color:var(--ods-color-background-disabled-default);cursor:not-allowed;color:var(--ods-color-text-disabled-default)}.ods-switch-item__radio{display:none}.ods-switch-item__radio:checked:not(:disabled)+.ods-switch-item__label{background-color:var(--ods-color-primary-600);color:var(--ods-color-primary-000)}.ods-switch-item__radio:checked:disabled+.ods-switch-item__label{border-color:var(--ods-color-border-disabled-default);background-color:var(--ods-color-background-disabled-default);cursor:not-allowed;color:var(--ods-color-text-disabled-default);background-color:var(--ods-color-neutral-500);color:var(--ods-color-neutral-000)}",O=q,R=c(class extends h{constructor(){super(),this.__registerHost(),this.odsSwitchItemBlur=l(this,"odsSwitchItemBlur",7),this.odsSwitchItemChange=l(this,"odsSwitchItemChange",7),this.odsSwitchItemFocus=l(this,"odsSwitchItemFocus",7),this.odsSwitchItemInvalid=l(this,"odsSwitchItemInvalid",7),this.inputId="",this.isDisabled=!1,this.isRequired=!1,this.ariaLabel=null,this.ariaLabelledby=void 0,this.isChecked=!1,this.value=null}async clear(){this.inputEl&&(this.inputEl.checked=!1)}async focusItem(){var e;(e=this.labelEl)===null||e===void 0||e.focus()}async getValidationMessage(){var e;return(e=this.inputEl)===null||e===void 0?void 0:e.validationMessage}async getValidity(){var e;return(e=this.inputEl)===null||e===void 0?void 0:e.validity}async reportValidity(){var e;return(e=this.inputEl)===null||e===void 0?void 0:e.reportValidity()}async reset(){if(this.inputEl){const e=this.el.getAttribute("is-checked");if(e!==null&&e!=="false")return this.inputEl.checked=!0,this.value;this.inputEl.checked=!1}return null}async willValidate(){var e;return(e=this.inputEl)===null||e===void 0?void 0:e.willValidate}componentWillLoad(){this.observer=new MutationObserver(e=>{var i,t;for(const m of e)switch(m.attributeName){case"input-id":this.inputId=(i=this.el.getAttribute("input-id"))!==null&&i!==void 0?i:"";break;case"is-disabled":this.isDisabled=this.el.getAttribute("is-disabled")==="";break;case"is-required":this.isRequired=this.el.getAttribute("is-required")==="";break;case"required":this.odsSwitchItemInvalid.emit({isInvalid:!(!((t=this.inputEl)===null||t===void 0)&&t.validity.valid)});break}})}componentDidLoad(){var e,i;(e=this.observer)===null||e===void 0||e.observe(this.el,{attributeFilter:["input-id","is-disabled","is-required"]}),this.inputEl&&((i=this.observer)===null||i===void 0||i.observe(this.inputEl,{attributeFilter:["required"],attributeOldValue:!1}))}disconnectedCallback(){var e;(e=this.observer)===null||e===void 0||e.disconnect()}handleKeyDown(e){e.key===" "&&e.preventDefault()}handleKeyUp(e){var i;this.isDisabled||(e.key==="Enter"||e.key===" ")&&((i=this.inputEl)===null||i===void 0||i.click())}onBlur(){this.odsSwitchItemInvalid.emit({isInvalid:!this.inputEl.validity.valid}),this.odsSwitchItemBlur.emit()}onInput(e){var i,t;this.odsSwitchItemChange.emit({name:this.el.getAttribute("name")||"",validity:(i=this.inputEl)===null||i===void 0?void 0:i.validity,value:!((t=e.target)===null||t===void 0)&&t.checked?this.value:null})}onInvalidEvent(e){e.preventDefault(),this.odsSwitchItemInvalid.emit({isInvalid:!0})}render(){var e,i;return o(u,{key:"1d574085e9e2337131e0f4a8fdcb6fd1bdd39833",class:"ods-switch-item",disabled:this.isDisabled},o("input",{key:"7352b5bcf4d7f1ddfb73612e1b06065e40faab33","aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,class:"ods-switch-item__radio",checked:this.isChecked,disabled:this.isDisabled,id:this.inputId,onInput:t=>this.onInput(t),onInvalid:t=>this.onInvalidEvent(t),name:(e=this.el.getAttribute("name"))!==null&&e!==void 0?e:"",ref:t=>this.inputEl=t,required:this.isRequired,type:"radio",value:((i=this.value)===null||i===void 0?void 0:i.toString())||""}),o("label",{key:"90cb71e4cd6479000410c2fdffd26829f52126cc",class:{"ods-switch-item__label":!0,"ods-switch-item__label--disabled":this.isDisabled},htmlFor:this.inputId,onBlur:()=>this.onBlur(),onFocus:()=>this.odsSwitchItemFocus.emit(),onKeyDown:t=>this.handleKeyDown(t),onKeyUp:t=>this.handleKeyUp(t),ref:t=>this.labelEl=t,tabindex:this.isDisabled?-1:0},o("slot",{key:"7f518edbc2d77d3a4eae0b1c6a5bd1604c529316"})))}get el(){return this}static get style(){return O}},[4,"ods-switch-item",{ariaLabel:[513,"aria-label"],ariaLabelledby:[513,"aria-labelledby"],isChecked:[516,"is-checked"],value:[513],inputId:[32],isDisabled:[32],isRequired:[32],clear:[64],focusItem:[64],getValidationMessage:[64],getValidity:[64],reportValidity:[64],reset:[64],willValidate:[64]}]);function x(){if(typeof customElements>"u")return;["ods-switch-item"].forEach(e=>{switch(e){case"ods-switch-item":customElements.get(e)||customElements.define(e,R);break}})}x();export{x as a,D as d};
