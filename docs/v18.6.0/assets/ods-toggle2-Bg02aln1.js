import{p as n,H as d,c as i,h as l,a as _}from"./index-DAZhnxgO.js";import{s as c,a as u}from"./dom-8hoR-urs.js";function g(s,e){switch(e){case"":case"true":return s===!1||s===null;case null:case"false":return s===!0;default:return!1}}function r(s,e,o){var t;s.setFormValue((t=e==null?void 0:e.toString())!==null&&t!==void 0?t:""),o&&u(o,s)}const h=':host(.ods-toggle){display:inline-block}.ods-toggle__container{box-sizing:border-box;display:inline-block;position:relative;border-radius:1rem;width:48px;height:24px}.ods-toggle__container__slider{position:absolute;inset:0;border:1px solid var(--ods-color-neutral-200);border-radius:1rem;background-color:var(--ods-color-neutral-200);cursor:pointer}.ods-toggle__container__slider::before{position:absolute;bottom:1px;left:1px;transition:all 0.4s ease;z-index:1;border-radius:1rem;box-shadow:0 1px 1px 0 rgba(0, 0, 0, 0.2509803922);background-color:var(--ods-color-neutral-000);width:20px;height:20px;content:""}.ods-toggle__container__slider:not(.ods-toggle__container__slider--disabled,.ods-toggle__container__slider--error):hover{border-color:var(--ods-color-neutral-300);background-color:var(--ods-color-neutral-300)}.ods-toggle__container__slider:not(.ods-toggle__container__slider--disabled,.ods-toggle__container__slider--error):hover .ods-toggle__container__slider__label{color:var(--ods-color-neutral-800)}.ods-toggle__container__slider:not(.ods-toggle__container__slider--disabled).ods-toggle__container__slider--error{border-color:var(--ods-color-form-element-border-critical)}.ods-toggle__container__slider--disabled{border-color:var(--ods-color-border-disabled-default);background-color:var(--ods-color-background-disabled-default);cursor:not-allowed;color:var(--ods-color-text-disabled-default);border-color:var(--ods-color-background-disabled-default)}.ods-toggle__container__slider--disabled::before{box-shadow:none}.ods-toggle__container__slider--disabled .ods-toggle__container__slider__label{color:var(--ods-color-text-disabled-default)}.ods-toggle__container__slider__label{display:flex;position:absolute;top:0;right:0;bottom:0;align-items:center;padding-right:1px;color:var(--ods-color-neutral-700);font-size:12px;font-weight:700;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ods-toggle__container__input{opacity:0;width:0;height:0}.ods-toggle__container__input:focus+.ods-toggle__container__slider{outline:var(--ods-outline-style-default) var(--ods-outline-width) var(--ods-outline-color-default);outline-offset:var(--ods-outline-offset)}.ods-toggle__container__input:focus+.ods-toggle__container__slider+:not(.ods-toggle__container__slider--error){border-color:var(--ods-color-neutral-300);background-color:var(--ods-color-neutral-300)}.ods-toggle__container__input:focus+.ods-toggle__container__slider .ods-toggle__container__slider__label{color:var(--ods-color-neutral-800)}.ods-toggle__container__input:focus:checked+:not(.ods-toggle__container__slider--disabled).ods-toggle__container__slider{background-color:var(--ods-color-primary-700)}.ods-toggle__container__input:focus:checked+:not(.ods-toggle__container__slider--disabled).ods-toggle__container__slider:not(.ods-toggle__container__slider--error){border-color:var(--ods-color-primary-700)}.ods-toggle__container__input:focus:checked+:not(.ods-toggle__container__slider--disabled).ods-toggle__container__slider .ods-toggle__container__slider__label{color:var(--ods-color-neutral-000)}.ods-toggle__container__input:checked+.ods-toggle__container__slider::before{transform:translateX(24px)}.ods-toggle__container__input:checked+.ods-toggle__container__slider .ods-toggle__container__slider__label{left:0;padding-left:4px}.ods-toggle__container__input:checked+:not(.ods-toggle__container__slider--disabled).ods-toggle__container__slider{border-color:var(--ods-color-primary-500);background-color:var(--ods-color-primary-500)}.ods-toggle__container__input:checked+:not(.ods-toggle__container__slider--disabled).ods-toggle__container__slider:hover{border-color:var(--ods-color-primary-700);background-color:var(--ods-color-primary-700)}.ods-toggle__container__input:checked+:not(.ods-toggle__container__slider--disabled).ods-toggle__container__slider .ods-toggle__container__slider__label{color:var(--ods-color-neutral-000)}',v=h,b=n(class extends d{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.odsBlur=i(this,"odsBlur",7),this.odsChange=i(this,"odsChange",7),this.odsClear=i(this,"odsClear",7),this.odsFocus=i(this,"odsFocus",7),this.odsInvalid=i(this,"odsInvalid",7),this.odsReset=i(this,"odsReset",7),this.internals=this.attachInternals(),this.shouldUpdateIsInvalidState=!1,this.isInvalid=void 0,this.defaultValue=void 0,this.hasError=!1,this.isDisabled=!1,this.isRequired=!1,this.name=void 0,this.value=null,this.withLabel=!1}onInvalidEvent(e){e.preventDefault(),this.isInvalid=!0}async checkValidity(){return this.isInvalid=!this.internals.validity.valid,this.internals.checkValidity()}async clear(){var e;this.value=null,(e=this.inputEl)===null||e===void 0||e.focus(),this.odsClear.emit(),this.shouldUpdateIsInvalidState=!0}async getValidationMessage(){return this.internals.validationMessage}async getValidity(){return this.internals.validity}async reportValidity(){return this.isInvalid=!this.internals.validity.valid,this.internals.reportValidity()}async reset(){var e;this.value=(e=this.defaultValue)!==null&&e!==void 0?e:null,this.odsReset.emit(),this.shouldUpdateIsInvalidState=!0}async toggle(){this.value=!this.value}async willValidate(){return this.internals.willValidate}onIsInvalidChange(){this.odsInvalid.emit({isInvalid:!!this.isInvalid})}componentWillLoad(){var e;this.observer=new MutationObserver(o=>{for(const t of o){const a=g(this.value,t.oldValue);t.attributeName==="value"&&a&&this.onValueChange(),t.attributeName==="required"&&(r(this.internals,this.value,this.inputEl),this.isInvalid=!this.internals.validity.valid)}}),this.value||(this.value=(e=this.defaultValue)!==null&&e!==void 0?e:null)}componentDidLoad(){var e,o;this.onValueChange(),(e=this.observer)===null||e===void 0||e.observe(this.el,{attributeFilter:["value"],attributeOldValue:!0}),this.inputEl&&((o=this.observer)===null||o===void 0||o.observe(this.inputEl,{attributeFilter:["required"],attributeOldValue:!1}))}async formResetCallback(){await this.reset()}onBlur(){this.isInvalid=!this.internals.validity.valid,this.odsBlur.emit()}onInput(){this.isDisabled||(this.value=!this.value)}onValueChange(){var e;r(this.internals,this.value,this.inputEl),this.shouldUpdateIsInvalidState&&(this.isInvalid=!this.internals.validity.valid,this.shouldUpdateIsInvalidState=!1),this.odsChange.emit({name:this.name,previousValue:!this.value,validity:this.internals.validity,value:(e=this.value)!==null&&e!==void 0?e:!1})}render(){var e,o;return l(_,{key:"80b91f62676f59d9c18bd3278e2c2169509ad659",class:"ods-toggle",disabled:this.isDisabled},l("label",{key:"9de13a4164515e8aedb0a1f03f658a55cd280b13",class:"ods-toggle__container"},l("input",{key:"8fb6dc792526ac9fc8d0430765a8f7f7f533ee41",checked:(e=this.value)!==null&&e!==void 0?e:!1,class:"ods-toggle__container__input",disabled:this.isDisabled,name:this.name,onBlur:()=>this.onBlur(),onFocus:()=>this.odsFocus.emit(),onInput:()=>this.onInput(),onKeyUp:t=>c(t,this.internals.form),ref:t=>this.inputEl=t,required:this.isRequired,role:"switch",type:"checkbox"}),l("span",{key:"38a017d18b2c25c91945ea808e310e3548d8c088",class:{"ods-toggle__container__slider":!0,"ods-toggle__container__slider--checked":(o=this.value)!==null&&o!==void 0?o:!1,"ods-toggle__container__slider--disabled":this.isDisabled,"ods-toggle__container__slider--error":this.hasError||!!this.isInvalid},part:`slider ${this.value?"checked":""}`},this.withLabel&&l("span",{key:"809b45b77722d26d21f132544b6e77a24cb28868",class:"ods-toggle__container__slider__label",part:`label ${this.value?"checked":""}`},this.value?"ON":"OFF"))))}static get delegatesFocus(){return!0}static get formAssociated(){return!0}get el(){return this}static get watchers(){return{isInvalid:["onIsInvalidChange"]}}static get style(){return v}},[81,"ods-toggle",{defaultValue:[516,"default-value"],hasError:[516,"has-error"],isDisabled:[516,"is-disabled"],isRequired:[516,"is-required"],name:[513],value:[1540],withLabel:[516,"with-label"],isInvalid:[32],checkValidity:[64],clear:[64],getValidationMessage:[64],getValidity:[64],reportValidity:[64],reset:[64],toggle:[64],willValidate:[64]},[[0,"invalid","onInvalidEvent"]],{isInvalid:["onIsInvalidChange"]}]);function f(){if(typeof customElements>"u")return;["ods-toggle"].forEach(e=>{switch(e){case"ods-toggle":customElements.get(e)||customElements.define(e,b);break}})}f();export{f as d};
