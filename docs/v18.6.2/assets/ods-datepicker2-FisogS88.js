import{p as Ze,H as et,c as N,h as _,a as tt}from"./index-DAZhnxgO.js";import{i as it}from"./type-B5zI8QxY.js";import{d as at,b as rt,O as st,a as nt}from"./ods-button2-dPaqs0uX.js";import{O as W}from"./icon-name-C6aMXAXT.js";import{d as ot}from"./ods-icon2-DRPHarK1.js";import{d as dt,O as ke}from"./ods-spinner2-CPyWCS2f.js";import{O as ct}from"./locale-NOa-Gxlr.js";import{O as lt}from"./overlay-KZpfSxWH.js";import{a as ut}from"./dom-8hoR-urs.js";function le(i){return i[i.length-1]}function K(i,...e){return e.forEach(t=>{i.includes(t)||i.push(t)}),i}function be(i,e){return i?i.split(e):[]}function ue(i,e,t){const a=e===void 0||i>=e,r=t===void 0||i<=t;return a&&r}function Ae(i,e,t){return i<e?e:i>t?t:i}function A(i,e,t={},a=0,r=""){const s=Object.keys(t).reduce((d,c)=>{let o=t[c];return typeof o=="function"&&(o=o(a)),`${d} ${c}="${o}"`},i);r+=`<${s}></${i}>`;const n=a+1;return n<e?A(i,e,t,n,r):r}function he(i){return i.replace(/>\s+/g,">").replace(/\s+</,"<")}function oe(i){return new Date(i).setHours(0,0,0,0)}function F(){return new Date().setHours(0,0,0,0)}function B(...i){switch(i.length){case 0:return F();case 1:return oe(i[0])}const e=new Date(0);return e.setFullYear(...i),e.setHours(0,0,0,0)}function j(i,e){const t=new Date(i);return t.setDate(t.getDate()+e)}function ht(i,e){return j(i,e*7)}function $(i,e){const t=new Date(i),a=t.getMonth()+e;let r=a%12;r<0&&(r+=12);const s=t.setMonth(a);return t.getMonth()!==r?t.setDate(0):s}function R(i,e){const t=new Date(i),a=t.getMonth(),r=t.setFullYear(t.getFullYear()+e);return a===1&&t.getMonth()===2?t.setDate(0):r}function ge(i,e){return(i-e+7)%7}function V(i,e,t=0){const a=new Date(i).getDay();return j(i,ge(e,t)-ge(a,t))}function Be(i,e){return Math.round((i-e)/6048e5)+1}function ft(i){const e=V(i,4,1),t=V(new Date(e).setMonth(0,4),4,1);return Be(e,t)}function We(i,e){const t=V(new Date(i).setMonth(0,1),e,e),a=V(i,e,e),r=Be(a,t);if(r<53)return r;const s=V(new Date(i).setDate(32),e,e);return a===s?1:r}function pt(i){return We(i,0)}function mt(i){return We(i,6)}function L(i,e){const t=new Date(i).getFullYear();return Math.floor(t/e)*e}function C(i,e,t){if(e!==1&&e!==2)return i;const a=new Date(i);return e===1?t?a.setMonth(a.getMonth()+1,0):a.setDate(1):t?a.setFullYear(a.getFullYear()+1,0,0):a.setMonth(0,1),a.setHours(0,0,0,0)}const de=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,kt=/[\s!-/:-@[-`{-~年月日]+/;let te={};const ye={y(i,e){return new Date(i).setFullYear(parseInt(e,10))},m(i,e,t){const a=new Date(i);let r=parseInt(e,10)-1;if(isNaN(r)){if(!e)return NaN;const s=e.toLowerCase(),n=d=>d.toLowerCase().startsWith(s);if(r=t.monthsShort.findIndex(n),r<0&&(r=t.months.findIndex(n)),r<0)return NaN}return a.setMonth(r),a.getMonth()!==Te(r)?a.setDate(0):a.getTime()},d(i,e){return new Date(i).setDate(parseInt(e,10))}},bt={d(i){return i.getDate()},dd(i){return P(i.getDate(),2)},D(i,e){return e.daysShort[i.getDay()]},DD(i,e){return e.days[i.getDay()]},m(i){return i.getMonth()+1},mm(i){return P(i.getMonth()+1,2)},M(i,e){return e.monthsShort[i.getMonth()]},MM(i,e){return e.months[i.getMonth()]},y(i){return i.getFullYear()},yy(i){return P(i.getFullYear(),2).slice(-2)},yyyy(i){return P(i.getFullYear(),4)}};function Te(i){return i>-1?i%12:Te(i+12)}function P(i,e){return i.toString().padStart(e,"0")}function ze(i){if(typeof i!="string")throw new Error("Invalid date format.");if(i in te)return te[i];const e=i.split(de),t=i.match(new RegExp(de,"g"));if(e.length===0||!t)throw new Error("Invalid date format.");const a=t.map(s=>bt[s]),r=Object.keys(ye).reduce((s,n)=>(t.find(c=>c[0]!=="D"&&c[0].toLowerCase()===n)&&s.push(n),s),[]);return te[i]={parser(s,n){const d=s.split(kt).reduce((c,o,u)=>{if(o.length>0&&t[u]){const f=t[u][0];f==="M"?c.m=o:f!=="D"&&(c[f]=o)}return c},{});return r.reduce((c,o)=>{const u=ye[o](c,d[o],n);return isNaN(u)?c:u},F())},formatter(s,n){let d=a.reduce((c,o,u)=>c+=`${e[u]}${o(s,n)}`,"");return d+=le(e)}}}function E(i,e,t){if(i instanceof Date||typeof i=="number"){const a=oe(i);return isNaN(a)?void 0:a}if(i){if(i==="today")return F();if(e&&e.toValue){const a=e.toValue(i,e,t);return isNaN(a)?void 0:oe(a)}return ze(e).parser(i,t)}}function X(i,e,t){if(isNaN(i)||!i&&i!==0)return"";const a=typeof i=="number"?new Date(i):i;return e.toDisplay?e.toDisplay(a,e,t):ze(e).formatter(a,t)}const gt=document.createRange();function S(i){return gt.createContextualFragment(i)}function Ye(i){return i.parentElement||(i.parentNode instanceof ShadowRoot?i.parentNode.host:void 0)}function Z(i){return i.getRootNode().activeElement===i}function z(i){i.style.display!=="none"&&(i.style.display&&(i.dataset.styleDisplay=i.style.display),i.style.display="none")}function Y(i){i.style.display==="none"&&(i.dataset.styleDisplay?(i.style.display=i.dataset.styleDisplay,delete i.dataset.styleDisplay):i.style.display="")}function U(i){i.firstChild&&(i.removeChild(i.firstChild),U(i))}function yt(i,e){U(i),e instanceof DocumentFragment?i.appendChild(e):typeof e=="string"?i.appendChild(S(e)):typeof e.forEach=="function"&&e.forEach(t=>{i.appendChild(t)})}const q=new WeakMap,{addEventListener:wt,removeEventListener:vt}=EventTarget.prototype;function ce(i,e){let t=q.get(i);t||(t=[],q.set(i,t)),e.forEach(a=>{wt.call(...a),t.push(a)})}function Dt(i){let e=q.get(i);e&&(e.forEach(t=>{vt.call(...t)}),q.delete(i))}if(!Event.prototype.composedPath){const i=(e,t=[])=>{t.push(e);let a;return e.parentNode?a=e.parentNode:e.host?a=e.host:e.defaultView&&(a=e.defaultView),a?i(a,t):t};Event.prototype.composedPath=function(){return i(this.target)}}function je(i,e,t){const[a,...r]=i;if(e(a))return a;if(!(a===t||a.tagName==="HTML"||r.length===0))return je(r,e,t)}function Re(i,e){const t=typeof e=="function"?e:a=>a instanceof Element&&a.matches(e);return je(i.composedPath(),t,i.currentTarget)}const T={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},fe={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,clearButton:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,enableOnReadonly:!0,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"»",orientation:"auto",pickLevel:0,prevArrow:"«",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayButton:!1,todayButtonMode:0,todayHighlight:!1,updateOnBlur:!0,weekNumbers:0,weekStart:0},{language:ie,format:xt,weekStart:Mt}=fe;function we(i,e){return i.length<6&&e>=0&&e<7?K(i,e):i}function Ke(i,e){switch(i===4?e===6?3:!e+1:i){case 1:return ft;case 2:return pt;case 3:return mt}}function ve(i,e,t){return e.weekStart=i,e.weekEnd=(i+6)%7,t===4&&(e.getWeekNumber=Ke(4,i)),i}function De(i,e,t,a){const r=E(i,e,t);return r!==void 0?r:a}function ae(i,e,t=3){const a=parseInt(i,10);return a>=0&&a<=t?a:e}function H(i,e,t,a=void 0){e in i&&(t in i||(i[t]=a?a(i[e]):i[e]),delete i[e])}function re(i,e){const t=Object.assign({},i),a={},r=e.constructor.locales,s=!!e.rangeSideIndex;let{datesDisabled:n,format:d,language:c,locale:o,maxDate:u,maxView:f,minDate:M,pickLevel:p,startView:b,weekNumbers:h,weekStart:g}=e.config||{};if(H(t,"calendarWeeks","weekNumbers",l=>l?1:0),H(t,"clearBtn","clearButton"),H(t,"todayBtn","todayButton"),H(t,"todayBtnMode","todayButtonMode"),t.language){let l;if(t.language!==c&&(r[t.language]?l=t.language:(l=t.language.split("-")[0],r[l]||(l=!1))),delete t.language,l){c=a.language=l;const m=o||r[ie];o=Object.assign({format:xt,weekStart:Mt},r[ie]),c!==ie&&Object.assign(o,r[c]),a.locale=o,d===m.format&&(d=a.format=o.format),g===m.weekStart&&(g=ve(o.weekStart,a,h))}}if(t.format){const l=typeof t.format.toDisplay=="function",m=typeof t.format.toValue=="function",k=de.test(t.format);(l&&m||k)&&(d=a.format=t.format),delete t.format}let v=p;"pickLevel"in t&&(v=ae(t.pickLevel,p,2),delete t.pickLevel),v!==p&&(v>p&&("minDate"in t||(t.minDate=M),"maxDate"in t||(t.maxDate=u)),n&&!t.datesDisabled&&(t.datesDisabled=[]),p=a.pickLevel=v);let x=M,y=u;if("minDate"in t){const l=B(0,0,1);x=t.minDate===null?l:De(t.minDate,d,o,x),x!==l&&(x=C(x,p,!1)),delete t.minDate}if("maxDate"in t&&(y=t.maxDate===null?void 0:De(t.maxDate,d,o,y),y!==void 0&&(y=C(y,p,!0)),delete t.maxDate),y<x?(M=a.minDate=y,u=a.maxDate=x):(M!==x&&(M=a.minDate=x),u!==y&&(u=a.maxDate=y)),t.datesDisabled){const l=t.datesDisabled;if(typeof l=="function")a.datesDisabled=null,a.checkDisabled=(m,k)=>l(new Date(m),k,s);else{const m=a.datesDisabled=l.reduce((k,ee)=>{const me=E(ee,d,o);return me!==void 0?K(k,C(me,p,s)):k},[]);a.checkDisabled=k=>m.includes(k)}delete t.datesDisabled}if("defaultViewDate"in t){const l=E(t.defaultViewDate,d,o);l!==void 0&&(a.defaultViewDate=l),delete t.defaultViewDate}if("weekStart"in t){const l=Number(t.weekStart)%7;isNaN(l)||(g=ve(l,a,h)),delete t.weekStart}if(t.daysOfWeekDisabled&&(a.daysOfWeekDisabled=t.daysOfWeekDisabled.reduce(we,[]),delete t.daysOfWeekDisabled),t.daysOfWeekHighlighted&&(a.daysOfWeekHighlighted=t.daysOfWeekHighlighted.reduce(we,[]),delete t.daysOfWeekHighlighted),"weekNumbers"in t){let l=t.weekNumbers;if(l){const m=typeof l=="function"?(k,ee)=>l(new Date(k),ee):Ke(l=parseInt(l,10),g);m&&(h=a.weekNumbers=l,a.getWeekNumber=m)}else h=a.weekNumbers=0,a.getWeekNumber=null;delete t.weekNumbers}if("maxNumberOfDates"in t){const l=parseInt(t.maxNumberOfDates,10);l>=0&&(a.maxNumberOfDates=l,a.multidate=l!==1),delete t.maxNumberOfDates}t.dateDelimiter&&(a.dateDelimiter=String(t.dateDelimiter),delete t.dateDelimiter);let O=f;"maxView"in t&&(O=ae(t.maxView,f),delete t.maxView),O=p>O?p:O,O!==f&&(f=a.maxView=O);let w=b;if("startView"in t&&(w=ae(t.startView,w),delete t.startView),w<p?w=p:w>f&&(w=f),w!==b&&(a.startView=w),t.prevArrow){const l=S(t.prevArrow);l.childNodes.length>0&&(a.prevArrow=l.childNodes),delete t.prevArrow}if(t.nextArrow){const l=S(t.nextArrow);l.childNodes.length>0&&(a.nextArrow=l.childNodes),delete t.nextArrow}if("disableTouchKeyboard"in t&&(a.disableTouchKeyboard="ontouchstart"in document&&!!t.disableTouchKeyboard,delete t.disableTouchKeyboard),t.orientation){const l=t.orientation.toLowerCase().split(/\s+/g);a.orientation={x:l.find(m=>m==="left"||m==="right")||"auto",y:l.find(m=>m==="top"||m==="bottom")||"auto"},delete t.orientation}if("todayButtonMode"in t){switch(t.todayButtonMode){case 0:case 1:a.todayButtonMode=t.todayButtonMode}delete t.todayButtonMode}return Object.entries(t).forEach(([l,m])=>{m!==void 0&&l in fe&&(a[l]=m)}),a}const xe={show:{key:"ArrowDown"},hide:null,toggle:{key:"Escape"},prevButton:{key:"ArrowLeft",ctrlOrMetaKey:!0},nextButton:{key:"ArrowRight",ctrlOrMetaKey:!0},viewSwitch:{key:"ArrowUp",ctrlOrMetaKey:!0},clearButton:{key:"Backspace",ctrlOrMetaKey:!0},todayButton:{key:".",ctrlOrMetaKey:!0},exitEditMode:{key:"ArrowDown",ctrlOrMetaKey:!0}};function Ot(i){return Object.keys(xe).reduce((e,t)=>{const a=i[t]===void 0?xe[t]:i[t],r=a&&a.key;if(!r||typeof r!="string")return e;const s={key:r,ctrlOrMetaKey:!!(a.ctrlOrMetaKey||a.ctrlKey||a.metaKey)};return r.length>1&&(s.altKey=!!a.altKey,s.shiftKey=!!a.shiftKey),e[t]=s,e},{})}const Me=i=>i.map(e=>`<button type="button" class="%buttonClass% ${e}" tabindex="-1"></button>`).join(""),St=he(`<div class="datepicker">
  <div class="datepicker-picker">
    <div class="datepicker-header">
      <div class="datepicker-title"></div>
      <div class="datepicker-controls">
        ${Me(["prev-button prev-btn","view-switch","next-button next-btn"])}
      </div>
    </div>
    <div class="datepicker-main"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls">
        ${Me(["today-button today-btn","clear-button clear-btn"])}
      </div>
    </div>
  </div>
</div>`),Ct=he(`<div class="days">
  <div class="days-of-week">${A("span",7,{class:"dow"})}</div>
  <div class="datepicker-grid">${A("span",42)}</div>
</div>`),_t=he(`<div class="week-numbers calendar-weeks">
  <div class="days-of-week"><span class="dow"></span></div>
  <div class="weeks">${A("span",6,{class:"week"})}</div>
</div>`);class pe{constructor(e,t){Object.assign(this,t,{picker:e,element:S('<div class="datepicker-view"></div>').firstChild,selected:[],isRangeEnd:!!e.datepicker.rangeSideIndex}),this.init(this.picker.datepicker.config)}init(e){"pickLevel"in e&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}prepareForRender(e,t,a){this.disabled=[];const r=this.picker;r.setViewSwitchLabel(e),r.setPrevButtonDisabled(t),r.setNextButtonDisabled(a)}setDisabled(e,t){t.add("disabled"),K(this.disabled,e)}performBeforeHook(e,t){let a=this.beforeShow(new Date(t));switch(typeof a){case"boolean":a={enabled:a};break;case"string":a={classes:a}}if(a){const r=e.classList;if(a.enabled===!1&&this.setDisabled(t,r),a.classes){const s=a.classes.split(/\s+/);r.add(...s),s.includes("disabled")&&this.setDisabled(t,r)}a.content&&yt(e,a.content)}}renderCell(e,t,a,r,{selected:s,range:n},d,c=[]){e.textContent=t,this.isMinView&&(e.dataset.date=r);const o=e.classList;if(e.className=`datepicker-cell ${this.cellClass}`,a<this.first?o.add("prev"):a>this.last&&o.add("next"),o.add(...c),(d||this.checkDisabled(r,this.id))&&this.setDisabled(r,o),n){const[u,f]=n;a>u&&a<f&&o.add("range"),a===u&&o.add("range-start"),a===f&&o.add("range-end")}s.includes(a)&&o.add("selected"),a===this.focused&&o.add("focused"),this.beforeShow&&this.performBeforeHook(e,r)}refreshCell(e,t,a,[r,s]){const n=e.classList;n.remove("range","range-start","range-end","selected","focused"),t>r&&t<s&&n.add("range"),t===r&&n.add("range-start"),t===s&&n.add("range-end"),a.includes(t)&&n.add("selected"),t===this.focused&&n.add("focused")}changeFocusedCell(e){this.grid.querySelectorAll(".focused").forEach(t=>{t.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}class Vt extends pe{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,t=!0){if(t){const a=S(Ct).firstChild;this.dow=a.firstChild,this.grid=a.lastChild,this.element.appendChild(a)}super.init(e)}setOptions(e){let t;if("minDate"in e&&(this.minDate=e.minDate),"maxDate"in e&&(this.maxDate=e.maxDate),e.checkDisabled&&(this.checkDisabled=e.checkDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,t=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),"todayHighlight"in e&&(this.todayHighlight=e.todayHighlight),"weekStart"in e&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,t=!0),e.locale){const a=this.locale=e.locale;this.dayNames=a.daysMin,this.switchLabelFormat=a.titleFormat,t=!0}if("beforeShowDay"in e&&(this.beforeShow=typeof e.beforeShowDay=="function"?e.beforeShowDay:void 0),"weekNumbers"in e)if(e.weekNumbers&&!this.weekNumbers){const a=S(_t).firstChild;this.weekNumbers={element:a,dow:a.firstChild,weeks:a.lastChild},this.element.insertBefore(a,this.element.firstChild)}else this.weekNumbers&&!e.weekNumbers&&(this.element.removeChild(this.weekNumbers.element),this.weekNumbers=null);"getWeekNumber"in e&&(this.getWeekNumber=e.getWeekNumber),"showDaysOfWeek"in e&&(e.showDaysOfWeek?(Y(this.dow),this.weekNumbers&&Y(this.weekNumbers.dow)):(z(this.dow),this.weekNumbers&&z(this.weekNumbers.dow))),t&&Array.from(this.dow.children).forEach((a,r)=>{const s=(this.weekStart+r)%7;a.textContent=this.dayNames[s],a.className=this.daysOfWeekDisabled.includes(s)?"dow disabled":"dow"})}updateFocus(){const e=new Date(this.picker.viewDate),t=e.getFullYear(),a=e.getMonth(),r=B(t,a,1),s=V(r,this.weekStart,this.weekStart);this.first=r,this.last=B(t,a+1,0),this.start=s,this.focused=this.picker.viewDate}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e,t&&(this.range=t.dates)}render(){if(this.today=this.todayHighlight?F():void 0,this.prepareForRender(X(this.focused,this.switchLabelFormat,this.locale),this.first<=this.minDate,this.last>=this.maxDate),this.weekNumbers){const e=this.weekStart,t=V(this.first,e,e);Array.from(this.weekNumbers.weeks.children).forEach((a,r)=>{const s=ht(t,r);a.textContent=this.getWeekNumber(s,e),r>3&&a.classList[s>this.last?"add":"remove"]("next")})}Array.from(this.grid.children).forEach((e,t)=>{const a=j(this.start,t),r=new Date(a),s=r.getDay(),n=[];this.today===a&&n.push("today"),this.daysOfWeekHighlighted.includes(s)&&n.push("highlighted"),this.renderCell(e,r.getDate(),a,a,this,a<this.minDate||a>this.maxDate||this.daysOfWeekDisabled.includes(s),n)})}refresh(){const e=this.range||[];Array.from(this.grid.children).forEach(t=>{this.refreshCell(t,Number(t.dataset.date),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/864e5))}}function Oe(i,e){if(!i||!i[0]||!i[1])return;const[[t,a],[r,s]]=i;if(!(t>e||r<e))return[t===e?a:-1,r===e?s:12]}class Et extends pe{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,t=!0){t&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(S(A("span",12,{"data-month":a=>a}))),this.first=0,this.last=11),super.init(e)}setOptions(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),"minDate"in e)if(e.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{const t=new Date(e.minDate);this.minYear=t.getFullYear(),this.minMonth=t.getMonth(),this.minDate=t.setDate(1)}if("maxDate"in e)if(e.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{const t=new Date(e.maxDate);this.maxYear=t.getFullYear(),this.maxMonth=t.getMonth(),this.maxDate=B(this.maxYear,this.maxMonth+1,0)}e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),"beforeShowMonth"in e&&(this.beforeShow=typeof e.beforeShowMonth=="function"?e.beforeShowMonth:void 0)}updateFocus(){const e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((a,r)=>{const s=new Date(r),n=s.getFullYear(),d=s.getMonth();return a[n]===void 0?a[n]=[d]:K(a[n],d),a},{}),t&&t.dates&&(this.range=t.dates.map(a=>{const r=new Date(a);return isNaN(r)?void 0:[r.getFullYear(),r.getMonth()]}))}render(){this.prepareForRender(this.year,this.year<=this.minYear,this.year>=this.maxYear);const e=this.selected[this.year]||[],t=this.year<this.minYear||this.year>this.maxYear,a=this.year===this.minYear,r=this.year===this.maxYear,s=Oe(this.range,this.year);Array.from(this.grid.children).forEach((n,d)=>{const c=C(new Date(this.year,d,1),1,this.isRangeEnd);this.renderCell(n,this.monthNames[d],d,c,{selected:e,range:s},t||a&&d<this.minMonth||r&&d>this.maxMonth)})}refresh(){const e=this.selected[this.year]||[],t=Oe(this.range,this.year)||[];Array.from(this.grid.children).forEach((a,r)=>{this.refreshCell(a,r,e,t)})}refreshFocus(){this.changeFocusedCell(this.focused)}}function Ft(i){return[...i].reduce((e,t,a)=>e+=a?t:t.toUpperCase(),"")}class Se extends pe{constructor(e,t){super(e,t)}init(e,t=!0){t&&(this.navStep=this.step*10,this.beforeShowOption=`beforeShow${Ft(this.cellClass)}`,this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(S(A("span",12)))),super.init(e)}setOptions(e){if("minDate"in e&&(e.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=L(e.minDate,this.step),this.minDate=B(this.minYear,0,1))),"maxDate"in e&&(e.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=L(e.maxDate,this.step),this.maxDate=B(this.maxYear,11,31))),e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),this.beforeShowOption in e){const t=e[this.beforeShowOption];this.beforeShow=typeof t=="function"?t:void 0}}updateFocus(){const e=new Date(this.picker.viewDate),t=L(e,this.navStep),a=t+9*this.step;this.first=t,this.last=a,this.start=t-this.step,this.focused=L(e,this.step)}updateSelection(){const{dates:e,rangepicker:t}=this.picker.datepicker;this.selected=e.reduce((a,r)=>K(a,L(r,this.step)),[]),t&&t.dates&&(this.range=t.dates.map(a=>{if(a!==void 0)return L(a,this.step)}))}render(){this.prepareForRender(`${this.first}-${this.last}`,this.first<=this.minYear,this.last>=this.maxYear),Array.from(this.grid.children).forEach((e,t)=>{const a=this.start+t*this.step,r=C(new Date(a,0,1),2,this.isRangeEnd);e.dataset.year=a,this.renderCell(e,a,a,r,this,a<this.minYear||a>this.maxYear)})}refresh(){const e=this.range||[];Array.from(this.grid.children).forEach(t=>{this.refreshCell(t,Number(t.textContent),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/this.step))}}function I(i,e){const t={bubbles:!0,cancelable:!0,detail:{date:i.getDate(),viewDate:new Date(i.picker.viewDate),viewId:i.picker.currentView.id,datepicker:i}};i.element.dispatchEvent(new CustomEvent(e,t))}function G(i,e){const{config:t,picker:a}=i,{currentView:r,viewDate:s}=a;let n;switch(r.id){case 0:n=$(s,e);break;case 1:n=R(s,e);break;default:n=R(s,e*r.navStep)}n=Ae(n,t.minDate,t.maxDate),a.changeFocus(n).render()}function Pe(i){const e=i.picker.currentView.id;e!==i.config.maxView&&i.picker.changeView(e+1).render()}function He(i){i.setDate({clear:!0})}function Je(i){const e=F();i.config.todayButtonMode===1?i.setDate(e,{forceRefresh:!0,viewDate:e}):i.setFocusedDate(e,!0)}function $e(i){const e=()=>{i.config.updateOnBlur?i.update({revert:!0}):i.refresh("input"),i.hide()},t=i.element;Z(t)?t.addEventListener("blur",e,{once:!0}):e()}function Ce(i,e){const t=i.picker,a=new Date(t.viewDate),r=t.currentView.id,s=r===1?$(a,e-a.getMonth()):R(a,e-a.getFullYear());t.changeFocus(s).changeView(r-1).render()}function Nt(i){Pe(i)}function Lt(i){G(i,-1)}function It(i){G(i,1)}function At(i,e){const t=Re(e,".datepicker-cell");if(!t||t.classList.contains("disabled"))return;const{id:a,isMinView:r}=i.picker.currentView,s=t.dataset;r?i.setDate(Number(s.date)):a===1?Ce(i,Number(s.month)):Ce(i,Number(s.year))}function Bt(i){i.preventDefault()}const se=["left","top","right","bottom"].reduce((i,e)=>(i[e]=`datepicker-orient-${e}`,i),{}),_e=i=>i&&`${i}px`;function Ve(i,e){if("title"in e&&(e.title?(i.controls.title.textContent=e.title,Y(i.controls.title)):(i.controls.title.textContent="",z(i.controls.title))),e.prevArrow){const t=i.controls.prevButton;U(t),e.prevArrow.forEach(a=>{t.appendChild(a.cloneNode(!0))})}if(e.nextArrow){const t=i.controls.nextButton;U(t),e.nextArrow.forEach(a=>{t.appendChild(a.cloneNode(!0))})}if(e.locale&&(i.controls.todayButton.textContent=e.locale.today,i.controls.clearButton.textContent=e.locale.clear),"todayButton"in e&&(e.todayButton?Y(i.controls.todayButton):z(i.controls.todayButton)),"minDate"in e||"maxDate"in e){const{minDate:t,maxDate:a}=i.datepicker.config;i.controls.todayButton.disabled=!ue(F(),t,a)}"clearButton"in e&&(e.clearButton?Y(i.controls.clearButton):z(i.controls.clearButton))}function Ee(i){const{dates:e,config:t,rangeSideIndex:a}=i,r=e.length>0?le(e):C(t.defaultViewDate,t.pickLevel,a);return Ae(r,t.minDate,t.maxDate)}function Fe(i,e){!("_oldViewDate"in i)&&e!==i.viewDate&&(i._oldViewDate=i.viewDate),i.viewDate=e;const{id:t,year:a,first:r,last:s}=i.currentView,n=new Date(e).getFullYear();switch(t){case 0:return e<r||e>s;case 1:return n!==a;default:return n<r||n>s}}function ne(i){return window.getComputedStyle(i).direction}function Ue(i){const e=Ye(i);if(!(e===document.body||!e))return window.getComputedStyle(e).overflow!=="visible"?e:Ue(e)}class Wt{constructor(e){const{config:t,inputField:a}=this.datepicker=e,r=St.replace(/%buttonClass%/g,t.buttonClass),s=this.element=S(r).firstChild,[n,d,c]=s.firstChild.children,o=n.firstElementChild,[u,f,M]=n.lastElementChild.children,[p,b]=c.firstChild.children,h={title:o,prevButton:u,viewSwitch:f,nextButton:M,todayButton:p,clearButton:b};this.main=d,this.controls=h;const g=a?"dropdown":"inline";s.classList.add(`datepicker-${g}`),Ve(this,t),this.viewDate=Ee(e),ce(e,[[s,"mousedown",Bt],[d,"click",At.bind(null,e)],[h.viewSwitch,"click",Nt.bind(null,e)],[h.prevButton,"click",Lt.bind(null,e)],[h.nextButton,"click",It.bind(null,e)],[h.todayButton,"click",Je.bind(null,e)],[h.clearButton,"click",He.bind(null,e)]]),this.views=[new Vt(this),new Et(this),new Se(this,{id:2,name:"years",cellClass:"year",step:1}),new Se(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[t.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),t.container?t.container.appendChild(this.element):a.after(this.element)}setOptions(e){Ve(this,e),this.views.forEach(t=>{t.init(e,!1)}),this.currentView.render()}detach(){this.element.remove()}show(){if(this.active)return;const{datepicker:e,element:t}=this,a=e.inputField;if(a){const r=ne(a);r!==ne(Ye(t))?t.dir=r:t.dir&&t.removeAttribute("dir"),this.place(),t.classList.add("active"),e.config.disableTouchKeyboard&&a.blur()}else t.classList.add("active");this.active=!0,I(e,"show")}hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,I(this.datepicker,"hide"))}place(){const{classList:e,style:t}=this.element;t.display="block";const{width:a,height:r}=this.element.getBoundingClientRect(),s=this.element.offsetParent;t.display="";const{config:n,inputField:d}=this.datepicker,{left:c,top:o,right:u,bottom:f,width:M,height:p}=d.getBoundingClientRect();let{x:b,y:h}=n.orientation,g=c,v=o;if(s===document.body||!s)g+=window.scrollX,v+=window.scrollY;else{const k=s.getBoundingClientRect();g-=k.left-s.scrollLeft,v-=k.top-s.scrollTop}const x=Ue(d);let y=0,O=0,{clientWidth:w,clientHeight:l}=document.documentElement;if(x){const k=x.getBoundingClientRect();k.top>0&&(O=k.top),k.left>0&&(y=k.left),k.right<w&&(w=k.right),k.bottom<l&&(l=k.bottom)}let m=0;b==="auto"&&(c<y?(b="left",m=y-c):c+a>w?(b="right",w<u&&(m=w-u)):ne(d)==="rtl"?b=u-a<y?"left":"right":b="left"),b==="right"&&(g+=M-a),g+=m,h==="auto"&&(o-r>O?h=f+r>l?"top":"bottom":h="bottom"),h==="top"?v-=r:v+=p,e.remove(...Object.values(se)),e.add(se[b],se[h]),t.left=_e(g),t.top=_e(v)}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevButtonDisabled(e){this.controls.prevButton.disabled=e}setNextButtonDisabled(e){this.controls.nextButton.disabled=e}changeView(e){const t=this.currentView;return e!==t.id&&(this._oldView||(this._oldView=t),this.currentView=this.views[e],this._renderMethod="render"),this}changeFocus(e){return this._renderMethod=Fe(this,e)?"render":"refreshFocus",this.views.forEach(t=>{t.updateFocus()}),this}update(e=void 0){const t=e===void 0?Ee(this.datepicker):e;return this._renderMethod=Fe(this,t)?"render":"refresh",this.views.forEach(a=>{a.updateFocus(),a.updateSelection()}),this}render(e=!0){const{currentView:t,datepicker:a,_oldView:r}=this,s=new Date(this._oldViewDate),n=e&&this._renderMethod||"render";if(delete this._oldView,delete this._oldViewDate,delete this._renderMethod,t[n](),r&&(this.main.replaceChild(t.element,r.element),I(a,"changeView")),!isNaN(s)){const d=new Date(this.viewDate);d.getFullYear()!==s.getFullYear()&&I(a,"changeYear"),d.getMonth()!==s.getMonth()&&I(a,"changeMonth")}}}function qe(i,e,t,a,r,s){if(ue(i,r,s)){if(a(i)){const n=e(i,t);return qe(n,e,t,a,r,s)}return i}}function Tt(i,e,t){const a=i.picker,r=a.currentView,s=r.step||1;let n=a.viewDate,d;switch(r.id){case 0:n=j(n,t?e*7:e),d=j;break;case 1:n=$(n,t?e*4:e),d=$;break;default:n=R(n,e*(t?4:1)*s),d=R}n=qe(n,d,e<0?-s:s,c=>r.disabled.includes(c),r.minDate,r.maxDate),n!==void 0&&a.changeFocus(n).render()}function zt(i,e){const{config:t,picker:a,editMode:r}=i,s=a.active,{key:n,altKey:d,shiftKey:c}=e,o=e.ctrlKey||e.metaKey,u=()=>{e.preventDefault(),e.stopPropagation()};if(n==="Tab"){$e(i);return}if(n==="Enter"){if(!s)i.update();else if(r)i.exitEditMode({update:!0,autohide:t.autohide});else{const h=a.currentView;h.isMinView?i.setDate(a.viewDate):(a.changeView(h.id-1).render(),u())}return}const f=t.shortcutKeys,M={key:n,ctrlOrMetaKey:o,altKey:d,shiftKey:c},p=Object.keys(f).find(h=>{const g=f[h];return!Object.keys(g).find(v=>g[v]!==M[v])});if(p){let h;if(p==="toggle"?h=p:r?p==="exitEditMode"&&(h=p):s?p==="hide"?h=p:p==="prevButton"?h=[G,[i,-1]]:p==="nextButton"?h=[G,[i,1]]:p==="viewSwitch"?h=[Pe,[i]]:t.clearButton&&p==="clearButton"?h=[He,[i]]:t.todayButton&&p==="todayButton"&&(h=[Je,[i]]):p==="show"&&(h=p),h){Array.isArray(h)?h[0].apply(null,h[1]):i[h](),u();return}}if(!s||r)return;const b=(h,g)=>{c||o||d?i.enterEditMode():(Tt(i,h,g),e.preventDefault())};n==="ArrowLeft"?b(-1,!1):n==="ArrowRight"?b(1,!1):n==="ArrowUp"?b(-1,!0):n==="ArrowDown"?b(1,!0):(n==="Backspace"||n==="Delete"||n&&n.length===1&&!o)&&i.enterEditMode()}function Yt(i){i.config.showOnFocus&&!i._showing&&i.show()}function jt(i,e){const t=e.target;(i.picker.active||i.config.showOnClick)&&(t._active=Z(t),t._clicking=setTimeout(()=>{delete t._active,delete t._clicking},2e3))}function Rt(i,e){const t=e.target;t._clicking&&(clearTimeout(t._clicking),delete t._clicking,t._active&&i.enterEditMode(),delete t._active,i.config.showOnClick&&i.show())}function Kt(i,e){e.clipboardData.types.includes("text/plain")&&i.enterEditMode()}function Pt(i,e){const{element:t,picker:a}=i;if(!a.active&&!Z(t))return;const r=a.element;Re(e,s=>s===t||s===r)||$e(i)}function Ge(i,e){return i.map(t=>X(t,e.format,e.locale)).join(e.dateDelimiter)}function Qe(i,e,t=!1){if(e.length===0)return t?[]:void 0;const{config:a,dates:r,rangeSideIndex:s}=i,{pickLevel:n,maxNumberOfDates:d}=a;let c=e.reduce((o,u)=>{let f=E(u,a.format,a.locale);return f===void 0||(f=C(f,n,s),ue(f,a.minDate,a.maxDate)&&!o.includes(f)&&!a.checkDisabled(f,n)&&(n>0||!a.daysOfWeekDisabled.includes(new Date(f).getDay()))&&o.push(f)),o},[]);if(c.length!==0)return a.multidate&&!t&&(c=c.reduce((o,u)=>(r.includes(u)||o.push(u),o),r.filter(o=>!c.includes(o)))),d&&c.length>d?c.slice(d*-1):c}function Q(i,e=3,t=!0,a=void 0){const{config:r,picker:s,inputField:n}=i;if(e&2){const d=s.active?r.pickLevel:r.startView;s.update(a).changeView(d).render(t)}e&1&&n&&(n.value=Ge(i.dates,r))}function Ne(i,e,t){const a=i.config;let{clear:r,render:s,autohide:n,revert:d,forceRefresh:c,viewDate:o}=t;s===void 0&&(s=!0),s?n===void 0&&(n=a.autohide):n=c=!1,o=E(o,a.format,a.locale);const u=Qe(i,e,r);!u&&!d||(u&&u.toString()!==i.dates.toString()?(i.dates=u,Q(i,s?3:1,!0,o),I(i,"changeDate")):Q(i,c?3:1,!0,o),n&&i.hide())}function Le(i,e){return e?t=>X(t,e,i.config.locale):t=>new Date(t)}class D{constructor(e,t={},a=void 0){e.datepicker=this,this.element=e,this.dates=[];const r=this.config=Object.assign({buttonClass:t.buttonClass&&String(t.buttonClass)||"button",container:null,defaultViewDate:F(),maxDate:void 0,minDate:void 0},re(fe,this));let s;if(e.tagName==="INPUT"?(s=this.inputField=e,s.classList.add("datepicker-input"),t.container&&(r.container=t.container instanceof HTMLElement?t.container:document.querySelector(t.container))):r.container=e,a){const u=a.inputs.indexOf(s),f=a.datepickers;if(u<0||u>1||!Array.isArray(f))throw Error("Invalid rangepicker object.");f[u]=this,this.rangepicker=a,this.rangeSideIndex=u}this._options=t,Object.assign(r,re(t,this)),r.shortcutKeys=Ot(t.shortcutKeys||{});const n=be(e.value||e.dataset.date,r.dateDelimiter);delete e.dataset.date;const d=Qe(this,n);d&&d.length>0&&(this.dates=d),s&&(s.value=Ge(this.dates,r));const c=this.picker=new Wt(this),o=[e,"keydown",zt.bind(null,this)];s?ce(this,[o,[s,"focus",Yt.bind(null,this)],[s,"mousedown",jt.bind(null,this)],[s,"click",Rt.bind(null,this)],[s,"paste",Kt.bind(null,this)],[document,"mousedown",Pt.bind(null,this)],[window,"resize",c.place.bind(c)]]):(ce(this,[o]),this.show())}static formatDate(e,t,a){return X(e,t,a&&T[a]||T.en)}static parseDate(e,t,a){return E(e,t,a&&T[a]||T.en)}static get locales(){return T}get active(){return!!(this.picker&&this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){const t=re(e,this);Object.assign(this._options,e),Object.assign(this.config,t),this.picker.setOptions(t),Q(this,3)}show(){if(this.inputField){const{config:e,inputField:t}=this;if(t.disabled||t.readOnly&&!e.enableOnReadonly)return;!Z(t)&&!e.disableTouchKeyboard&&(this._showing=!0,t.focus(),delete this._showing)}this.picker.show()}hide(){this.inputField&&(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}toggle(){this.picker.active?this.inputField&&this.picker.hide():this.show()}destroy(){this.hide(),Dt(this),this.picker.detach();const e=this.element;return e.classList.remove("datepicker-input"),delete e.datepicker,this}getDate(e=void 0){const t=Le(this,e);if(this.config.multidate)return this.dates.map(t);if(this.dates.length>0)return t(this.dates[0])}setDate(...e){const t=[...e],a={},r=le(e);r&&typeof r=="object"&&!Array.isArray(r)&&!(r instanceof Date)&&Object.assign(a,t.pop());const s=Array.isArray(t[0])?t[0]:t;Ne(this,s,a)}update(e=void 0){if(!this.inputField)return;const t=Object.assign(e||{},{clear:!0,render:!0,viewDate:void 0}),a=be(this.inputField.value,this.config.dateDelimiter);Ne(this,a,t)}getFocusedDate(e=void 0){return Le(this,e)(this.picker.viewDate)}setFocusedDate(e,t=!1){const{config:a,picker:r,active:s,rangeSideIndex:n}=this,d=a.pickLevel,c=E(e,a.format,a.locale);c!==void 0&&(r.changeFocus(C(c,d,n)),s&&t&&r.changeView(d),r.render())}refresh(e=void 0,t=!1){e&&typeof e!="string"&&(t=e,e=void 0);let a;e==="picker"?a=2:e==="input"?a=1:a=3,Q(this,a,!t)}enterEditMode(){const e=this.inputField;!e||e.readOnly||!this.picker.active||this.editMode||(this.editMode=!0,e.classList.add("in-edit"))}exitEditMode(e=void 0){if(!this.inputField||!this.editMode)return;const t=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit"),t.update&&this.update(t)}}const Ht={de:{days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],daysShort:["So","Mo","Di","Mi","Do","Fr","Sa"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",monthsTitle:"Monate",clear:"Löschen",weekStart:1,format:"dd.mm.yyyy"}},Jt={es:{days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],daysShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy",monthsTitle:"Meses",clear:"Borrar",weekStart:1,format:"dd/mm/yyyy"}},$t={fr:{days:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],daysShort:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],daysMin:["d","l","ma","me","j","v","s"],months:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],monthsShort:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],today:"Aujourd'hui",monthsTitle:"Mois",clear:"Effacer",weekStart:1,format:"dd/mm/yyyy"}},Ut={it:{days:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],daysShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],daysMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",monthsTitle:"Mesi",clear:"Cancella",weekStart:1,format:"dd/mm/yyyy"}},qt={nl:{days:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],daysShort:["zo","ma","di","wo","do","vr","za"],daysMin:["zo","ma","di","wo","do","vr","za"],months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],today:"Vandaag",monthsTitle:"Maanden",clear:"Wissen",weekStart:1,format:"dd-mm-yyyy"}},Gt={pl:{days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],daysShort:["Niedz.","Pon.","Wt.","Śr.","Czw.","Piąt.","Sob."],daysMin:["Ndz.","Pn.","Wt.","Śr.","Czw.","Pt.","Sob."],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthsShort:["Sty.","Lut.","Mar.","Kwi.","Maj","Cze.","Lip.","Sie.","Wrz.","Paź.","Lis.","Gru."],today:"Dzisiaj",weekStart:1,clear:"Wyczyść",format:"dd.mm.yyyy"}},Qt={pt:{days:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],daysShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],daysMin:["Do","Se","Te","Qu","Qu","Se","Sa"],months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],today:"Hoje",monthsTitle:"Meses",clear:"Limpar",format:"dd/mm/yyyy"}},Xe=null;function J(i,e){return i?D.formatDate(i,e):""}function Xt(i,e,t){return t!==void 0&&i===Xe?new Date(D.parseDate(t,e)):i}function Ie(i,e,t){var a;i.setFormValue((a=e==null?void 0:e.toString())!==null&&a!==void 0?a:""),t&&ut(t,i)}const Zt='.datepicker{width:-moz-min-content;width:min-content}.datepicker:not(.active){display:none}.datepicker-dropdown{padding-top:4px;position:absolute;z-index:20}.datepicker-dropdown.datepicker-orient-top{padding-bottom:4px;padding-top:0}.datepicker-picker{background-color:#fff;border-radius:4px;display:flex;flex-direction:column}.datepicker-dropdown .datepicker-picker{box-shadow:0 2px 3px hsla(0,0%,4%,.1),0 0 0 1px hsla(0,0%,4%,.1)}.datepicker-main{flex:auto;padding:2px}.datepicker-footer{background-color:#f5f5f5;box-shadow:inset 0 1px 1px hsla(0,0%,4%,.1)}.datepicker-title{background-color:#f5f5f5;box-shadow:inset 0 -1px 1px hsla(0,0%,4%,.1);font-weight:700;padding:.375rem .75rem;text-align:center}.datepicker-controls{display:flex}.datepicker-header .datepicker-controls{padding:2px 2px 0}.datepicker-controls .button{align-items:center;background-color:#fff;border:1px solid #dcdcdc;border-radius:4px;box-shadow:none;color:#363636;cursor:pointer;display:inline-flex;font-size:1rem;height:2.25em;justify-content:center;line-height:1.5;margin:0;padding:calc(.375em - 1px) .75em;position:relative;text-align:center;vertical-align:top;white-space:nowrap}.datepicker-controls .button:active,.datepicker-controls .button:focus{outline:none}.datepicker-controls .button:hover{border-color:#b8b8b8;color:#363636}.datepicker-controls .button:focus{border-color:#3273dc;color:#363636}.datepicker-controls .button:focus:not(:active){box-shadow:0 0 0 .125em rgba(50,115,220,.25)}.datepicker-controls .button:active{border-color:#474747;color:#363636}.datepicker-controls .button[disabled]{cursor:not-allowed}.datepicker-header .datepicker-controls .button{border-color:transparent;font-weight:700}.datepicker-header .datepicker-controls .button:hover{background-color:#f9f9f9}.datepicker-header .datepicker-controls .button:active{background-color:#f2f2f2}.datepicker-footer .datepicker-controls .button{border-radius:2px;flex:auto;font-size:.75rem;margin:calc(.375rem - 1px) .375rem}.datepicker-controls .view-switch{flex:auto}.datepicker-controls .next-button,.datepicker-controls .prev-button{flex:0 0 14.2857142857%;padding-left:.375rem;padding-right:.375rem}.datepicker-controls .next-button.disabled,.datepicker-controls .prev-button.disabled{visibility:hidden}.datepicker-grid,.datepicker-view{display:flex}.datepicker-view{align-items:stretch;width:15.75rem}.datepicker-grid{flex:auto;flex-wrap:wrap}.datepicker .days{display:flex;flex:auto;flex-direction:column}.datepicker .days-of-week{display:flex}.datepicker .week-numbers{display:flex;flex:0 0 9.6774193548%;flex-direction:column}.datepicker .weeks{align-items:stretch;display:flex;flex:auto;flex-direction:column}.datepicker span{-webkit-touch-callout:none;align-items:center;border-radius:4px;cursor:default;display:flex;justify-content:center;-webkit-user-select:none;-moz-user-select:none;user-select:none}.datepicker .dow{font-size:.875rem;font-weight:700;height:1.5rem}.datepicker .week{color:#b8b8b8;flex:auto;font-size:.75rem}.datepicker .days .dow,.datepicker-cell{flex-basis:14.2857142857%}.datepicker-cell{height:2.25rem}.datepicker-cell:not(.day){flex-basis:25%;height:4.5rem}.datepicker-cell:not(.disabled):hover{background-color:#f9f9f9;cursor:pointer}.datepicker-cell.focused:not(.selected){background-color:#e9e9e9}.datepicker-cell.selected,.datepicker-cell.selected:hover{background-color:#3273dc;color:#fff;font-weight:600}.datepicker-cell.disabled{color:#dcdcdc}.datepicker-cell.next:not(.disabled),.datepicker-cell.prev:not(.disabled){color:#7a7a7a}.datepicker-cell.next.selected,.datepicker-cell.prev.selected{color:#e6e6e6}.datepicker-cell.highlighted:not(.selected):not(.range):not(.today){background-color:#f5f5f5;border-radius:0}.datepicker-cell.highlighted:not(.selected):not(.range):not(.today):not(.disabled):hover{background-color:#efefef}.datepicker-cell.highlighted:not(.selected):not(.range):not(.today).focused{background-color:#e9e9e9}.datepicker-cell.today:not(.selected){background-color:#00d1b2}.datepicker-cell.today:not(.selected):not(.disabled){color:#fff}.datepicker-cell.today.focused:not(.selected){background-color:#00ccad}.datepicker-cell.range-end:not(.selected),.datepicker-cell.range-start:not(.selected){background-color:#b8b8b8;color:#fff}.datepicker-cell.range-end.focused:not(.selected),.datepicker-cell.range-start.focused:not(.selected){background-color:#b3b3b3}.datepicker-cell.range-start:not(.range-end){border-radius:4px 0 0 4px}.datepicker-cell.range-end:not(.range-start){border-radius:0 4px 4px 0}.datepicker-cell.range{background-color:#dcdcdc;border-radius:0}.datepicker-cell.range:not(.disabled):not(.focused):not(.today):hover{background-color:#d7d7d7}.datepicker-cell.range.disabled{color:#c6c6c6}.datepicker-cell.range.focused{background-color:#d1d1d1}.datepicker-input.in-edit{border-color:#276bda}.datepicker-input.in-edit:active,.datepicker-input.in-edit:focus{box-shadow:0 0 .25em .25em rgba(39,107,218,.2)}:host(.ods-datepicker){display:inline-block;position:relative}:host(.ods-datepicker--fixed){position:fixed}.ods-datepicker__input{box-sizing:border-box;border:var(--ods-border-width-sm) solid var(--ods-color-form-element-border-default);border-radius:var(--ods-border-radius-sm);padding:4px 8px;width:100%;height:var(--ods-form-element-input-height);color:var(--ods-color-text);font-family:inherit;font-size:1rem;padding-right:28px}.ods-datepicker__input::-moz-placeholder{color:var(--ods-color-form-element-text-placeholder-default)}.ods-datepicker__input::placeholder{color:var(--ods-color-form-element-text-placeholder-default)}.ods-datepicker__input:focus{outline:var(--ods-outline-style-default) var(--ods-outline-width) var(--ods-outline-color-default);outline-offset:var(--ods-outline-offset)}.ods-datepicker__input:disabled{border-color:var(--ods-color-border-disabled-default);background-color:var(--ods-color-background-disabled-default);cursor:not-allowed;color:var(--ods-color-text-disabled-default)}.ods-datepicker__input:not(:disabled):-moz-read-only{border-color:var(--ods-color-border-readonly-default);background-color:var(--ods-color-background-readonly-default)}.ods-datepicker__input:not(:disabled):read-only{border-color:var(--ods-color-border-readonly-default);background-color:var(--ods-color-background-readonly-default)}.ods-datepicker__input:not(.ods-datepicker__input--error,:disabled,:-moz-read-only):focus{border-color:var(--ods-color-form-element-border-focus-default)}.ods-datepicker__input:not(.ods-datepicker__input--error,:disabled,:read-only):focus{border-color:var(--ods-color-form-element-border-focus-default)}.ods-datepicker__input:not(.ods-datepicker__input--error,:disabled,:-moz-read-only):hover{border-color:var(--ods-color-form-element-border-hover-default)}.ods-datepicker__input:not(.ods-datepicker__input--error,:disabled,:read-only):hover{border-color:var(--ods-color-form-element-border-hover-default)}.ods-datepicker__input:not(:disabled).ods-datepicker__input--error{border-color:var(--ods-color-form-element-border-critical)}.ods-datepicker__input:not(:disabled).ods-datepicker__input--error~.datepicker .datepicker-picker{border-color:var(--ods-color-form-element-border-critical)}.ods-datepicker__input--clearable,.ods-datepicker__input--loading{padding-right:56px}.ods-datepicker__actions{display:flex;position:absolute;top:0;right:0;bottom:0;flex-flow:row;-moz-column-gap:6px;column-gap:6px;align-items:center;padding:6px}.ods-datepicker__actions__spinner{margin-right:6px;height:auto}.ods-datepicker__actions__spinner::part(spinner){width:1rem;height:1rem}.ods-datepicker__actions__icon{color:var(--ods-color-primary-500)}.ods-datepicker__actions__icon--disabled,.ods-datepicker__actions__icon--readonly{color:var(--ods-color-neutral-500)}.datepicker .datepicker-picker{border:var(--ods-border-width-sm) solid var(--ods-color-form-element-border-default);box-shadow:none;padding:4px}.datepicker .datepicker-picker .datepicker-header .datepicker-controls .next-button:not(:disabled),.datepicker .datepicker-picker .datepicker-header .datepicker-controls .prev-button:not(:disabled),.datepicker .datepicker-picker .datepicker-header .datepicker-controls .view-switch{color:var(--ods-color-primary-500)}.datepicker .datepicker-picker .datepicker-header .datepicker-controls .next-button:not(:disabled):hover,.datepicker .datepicker-picker .datepicker-header .datepicker-controls .prev-button:not(:disabled):hover,.datepicker .datepicker-picker .datepicker-header .datepicker-controls .view-switch:hover{background-color:var(--ods-color-primary-100)}.datepicker .datepicker-picker .datepicker-header .datepicker-controls .next-button:disabled,.datepicker .datepicker-picker .datepicker-header .datepicker-controls .prev-button:disabled{color:var(--ods-color-text-disabled-default)}.datepicker .datepicker-picker .datepicker-header .datepicker-controls .next-button:disabled:hover,.datepicker .datepicker-picker .datepicker-header .datepicker-controls .prev-button:disabled:hover{background-color:inherit}.datepicker .datepicker-picker .datepicker-header .datepicker-controls .view-switch{display:flex;flex-flow:row;-moz-column-gap:6px;column-gap:6px;font-weight:600}.datepicker .datepicker-picker .datepicker-main .datepicker-view.months .month{height:36px}.datepicker .datepicker-picker .datepicker-main .datepicker-view.months .month:not(.disabled){color:var(--ods-color-primary-500)}.datepicker .datepicker-picker .datepicker-main .datepicker-view.months .month:not(.disabled):not(.selected):hover{background-color:var(--ods-color-primary-100)}.datepicker .datepicker-picker .datepicker-main .datepicker-view.months .month.disabled{cursor:not-allowed;color:var(--ods-color-text-disabled-default)}.datepicker .datepicker-picker .datepicker-main .datepicker-view.months .month.focused{outline:var(--ods-outline-style-default) var(--ods-outline-width) var(--ods-outline-color-default);outline-offset:var(--ods-outline-offset);z-index:1;outline-offset:0;background-color:var(--ods-color-primary-100)}.datepicker .datepicker-picker .datepicker-main .datepicker-view.months .month.selected{background-color:var(--ods-color-primary-800);color:var(--ods-color-primary-000)}.datepicker .datepicker-picker .datepicker-main .datepicker-view.years .year{height:36px}.datepicker .datepicker-picker .datepicker-main .datepicker-view.years .year:not(.disabled){color:var(--ods-color-primary-500)}.datepicker .datepicker-picker .datepicker-main .datepicker-view.years .year:not(.disabled):not(.selected):hover{background-color:var(--ods-color-primary-100)}.datepicker .datepicker-picker .datepicker-main .datepicker-view.years .year.disabled{cursor:not-allowed;color:var(--ods-color-text-disabled-default)}.datepicker .datepicker-picker .datepicker-main .datepicker-view.years .year.focused{outline:var(--ods-outline-style-default) var(--ods-outline-width) var(--ods-outline-color-default);outline-offset:var(--ods-outline-offset);z-index:1;outline-offset:0;background-color:var(--ods-color-primary-100)}.datepicker .datepicker-picker .datepicker-main .datepicker-view.years .year.selected{background-color:var(--ods-color-primary-800);color:var(--ods-color-primary-000)}.datepicker .datepicker-picker .datepicker-main .datepicker-view .days .days-of-week .dow{width:36px;height:36px;color:var(--ods-color-text);font-size:1rem;font-weight:400}.datepicker .datepicker-picker .datepicker-main .datepicker-view .days .datepicker-grid .day{height:36px;border-radius:50%;font-weight:600}.datepicker .datepicker-picker .datepicker-main .datepicker-view .days .datepicker-grid .day:not(.disabled){color:var(--ods-color-primary-500)}.datepicker .datepicker-picker .datepicker-main .datepicker-view .days .datepicker-grid .day:not(.disabled):not(.selected):hover{background-color:var(--ods-color-primary-100)}.datepicker .datepicker-picker .datepicker-main .datepicker-view .days .datepicker-grid .day.disabled{cursor:not-allowed;color:var(--ods-color-text-disabled-default)}.datepicker .datepicker-picker .datepicker-main .datepicker-view .days .datepicker-grid .day.focused{outline:var(--ods-outline-style-default) var(--ods-outline-width) var(--ods-outline-color-default);outline-offset:var(--ods-outline-offset);z-index:1;outline-offset:0;background-color:var(--ods-color-primary-100)}.datepicker .datepicker-picker .datepicker-main .datepicker-view .days .datepicker-grid .day.selected{background-color:var(--ods-color-primary-800);color:var(--ods-color-primary-000)}.datepicker .datepicker-picker .datepicker-main .datepicker-view .days .datepicker-grid .day:not(.disabled).next,.datepicker .datepicker-picker .datepicker-main .datepicker-view .days .datepicker-grid .day:not(.disabled).prev{opacity:0.5}.datepicker .datepicker-picker .datepicker-main .datepicker-view .days .datepicker-grid .day.today{position:relative}.datepicker .datepicker-picker .datepicker-main .datepicker-view .days .datepicker-grid .day.today::after{position:absolute;bottom:3px;border-radius:50%;background-color:var(--ods-color-primary-500);width:4px;height:4px;content:""}.datepicker .datepicker-picker .datepicker-main .datepicker-view .days .datepicker-grid .day.today:not(.focused,.selected){background-color:inherit}.datepicker .datepicker-picker .datepicker-main .datepicker-view .days .datepicker-grid .day.today.selected::after{background-color:var(--ods-color-primary-000)}',ei=Zt;Object.assign(D.locales,Ht);Object.assign(D.locales,Jt);Object.assign(D.locales,$t);Object.assign(D.locales,Ut);Object.assign(D.locales,qt);Object.assign(D.locales,Gt);Object.assign(D.locales,Qt);const ti=Ze(class extends et{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.odsBlur=N(this,"odsBlur",7),this.odsChange=N(this,"odsChange",7),this.odsClear=N(this,"odsClear",7),this.odsFocus=N(this,"odsFocus",7),this.odsInvalid=N(this,"odsInvalid",7),this.odsReset=N(this,"odsReset",7),this.internals=this.attachInternals(),this.shouldUpdateIsInvalidState=!1,this.isInvalid=void 0,this.showClearable=!1,this.ariaLabel=null,this.ariaLabelledby=void 0,this.datesDisabled=[],this.daysOfWeekDisabled=[],this.defaultValue=void 0,this.format="dd/mm/yyyy",this.hasError=!1,this.isClearable=!1,this.isDisabled=!1,this.isLoading=!1,this.isReadonly=!1,this.isRequired=!1,this.locale=ct.en,this.max=void 0,this.min=void 0,this.name=void 0,this.placeholder=void 0,this.strategy=lt.absolute,this.value=Xe}onInvalidEvent(e){e.preventDefault(),this.isInvalid=!0}async checkValidity(){return this.isInvalid=!this.internals.validity.valid,this.internals.checkValidity()}async clear(){var e,t;this.odsClear.emit(),this.shouldUpdateIsInvalidState=!0,(e=this.datepickerInstance)===null||e===void 0||e.setDate({clear:!0}),(t=this.inputElement)===null||t===void 0||t.focus()}async close(){var e;(e=this.datepickerInstance)===null||e===void 0||e.hide()}async getValidationMessage(){return this.internals.validationMessage}async getValidity(){return this.internals.validity}async reportValidity(){return this.isInvalid=!this.internals.validity.valid,this.internals.reportValidity()}async open(){var e;(e=this.datepickerInstance)===null||e===void 0||e.show()}async reset(){var e,t;if(this.odsReset.emit(),this.shouldUpdateIsInvalidState=!0,this.defaultValue){const a=new Date(D.parseDate(this.defaultValue,this.format));(e=this.datepickerInstance)===null||e===void 0||e.setDate(a)}else(t=this.datepickerInstance)===null||t===void 0||t.setDate({clear:!0})}async willValidate(){return this.internals.willValidate}onDatesDisabledChange(){var e,t;(e=this.datepickerInstance)===null||e===void 0||e.setOptions({datesDisabled:(t=this.datesDisabled)===null||t===void 0?void 0:t.map(a=>D.formatDate(a,this.format))})}onDaysOfWeekDisabledChange(){var e;(e=this.datepickerInstance)===null||e===void 0||e.setOptions({daysOfWeekDisabled:this.daysOfWeekDisabled})}onFormatChange(){var e;(e=this.datepickerInstance)===null||e===void 0||e.setOptions({format:this.format})}onIsInvalidChange(){this.odsInvalid.emit({isInvalid:!!this.isInvalid})}onLocaleChange(){var e;(e=this.datepickerInstance)===null||e===void 0||e.setOptions({language:this.locale})}onMaxChange(){var e;(e=this.datepickerInstance)===null||e===void 0||e.setOptions({maxDate:this.max})}onMinChange(){var e;(e=this.datepickerInstance)===null||e===void 0||e.setOptions({minDate:this.min})}onValueChangeFromJs(){var e;this.value&&it(this.value)&&((e=this.datepickerInstance)===null||e===void 0||e.setDate(new Date(this.value.toDateString())))}componentWillLoad(){_("ods-icon"),this.value=Xt(this.value,this.format,this.defaultValue),this.observer=new MutationObserver(e=>{for(const t of e)t.attributeName==="required"&&(Ie(this.internals,J(this.value,this.format),this.inputElement),this.isInvalid=!this.internals.validity.valid)})}componentDidLoad(){var e;!this.datepickerInstance&&this.inputElement&&(this.datepickerInstance=new D(this.inputElement,{autohide:!0,datesDisabled:this.datesDisabled.map(t=>D.formatDate(t,this.format)),daysOfWeekDisabled:this.daysOfWeekDisabled.map(t=>parseInt(t,10)),enableOnReadonly:!1,format:this.format,language:this.locale,maxDate:this.max,maxView:2,minDate:this.min,nextArrow:`<ods-icon name="${W.chevronRight}"></ods-icon>`,prevArrow:`<ods-icon name="${W.chevronLeft}"></ods-icon>`,showOnClick:!0,showOnFocus:!0,todayHighlight:!0,updateOnBlur:!0}),this.updateViewSwitch(),["changeView","changeMonth","changeYear"].forEach(t=>{var a;(a=this.inputElement)===null||a===void 0||a.addEventListener(t,r=>{r.detail.viewId<2&&this.updateViewSwitch()})}),this.inputElement.addEventListener("changeDate",t=>{const a=t.detail.date,r=J(a,this.format),s=this.value;this.value=a??null,this.onValueChange(r,s),r?this.showClearable=!0:this.showClearable=!1})),this.onValueChange(J(this.value,this.format)),this.inputElement&&((e=this.observer)===null||e===void 0||e.observe(this.inputElement,{attributeFilter:["required"],attributeOldValue:!1}))}disconnectedCallback(){var e;(e=this.observer)===null||e===void 0||e.disconnect()}async formResetCallback(){await this.reset()}onClearButtonKeyUp(e){e.preventDefault(),e.key===" "&&!this.isDisabled&&this.clear()}updateViewSwitch(){var e;const t=(e=this.el.shadowRoot)===null||e===void 0?void 0:e.querySelector(".view-switch");if(t&&t.childElementCount<1){const a=document.createElement("ods-icon");a.setAttribute("name",W.chevronDown),t.appendChild(a)}}onBlur(){this.isInvalid=!this.internals.validity.valid,this.shouldUpdateIsInvalidState=!0,this.odsBlur.emit()}onValueChange(e,t){Ie(this.internals,e,this.inputElement),this.shouldUpdateIsInvalidState&&(this.isInvalid=!this.internals.validity.valid,this.shouldUpdateIsInvalidState=!1),this.odsChange.emit({formattedValue:e,name:this.name,previousValue:t,validity:this.internals.validity,value:this.value})}onInput(e){this.showClearable=!!e.target.value}render(){const e=this.isClearable&&!this.isLoading&&(this.showClearable||!!this.value);return _(tt,{key:"197094dcac10b7e27d67e2ab56cfb45289219f81",class:`ods-datepicker ods-datepicker--${this.strategy}`,disabled:this.isDisabled,readonly:this.isReadonly},_("input",{key:"11bcefb2c2b269383da6c20b8aaa6f277f5cfe25","aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,class:{"ods-datepicker__input":!0,"ods-datepicker__input--clearable":e,"ods-datepicker__input--error":this.hasError||!!this.isInvalid,"ods-datepicker__input--loading":this.isLoading},disabled:this.isDisabled,name:this.name,onBlur:()=>this.onBlur(),onFocus:()=>this.odsFocus.emit(),onInput:t=>this.onInput(t),placeholder:this.placeholder,readonly:this.isReadonly,ref:t=>this.inputElement=t,required:this.isRequired,type:"text",value:J(this.value,this.format)}),_("div",{key:"de099db66fd304eb4a3b8b44b31c70e4c583845b",class:"ods-datepicker__actions"},this.isLoading&&_("ods-spinner",{key:"0942a6e89a856811c01d14b4ad92533697c29d44",class:"ods-datepicker__actions__spinner",color:this.isDisabled?ke.neutral:ke.primary}),e&&_("ods-button",{key:"01df32cea049e39a4868274131259ac4ac7f0f9e",color:rt.neutral,icon:W.xmark,isDisabled:this.isDisabled||this.isReadonly,label:"",onClick:()=>this.clear(),onKeyUp:t=>this.onClearButtonKeyUp(t),size:st.xs,variant:nt.ghost}),_("ods-icon",{key:"a2f6c05961597a41031f6cc917103c8ced4596d6",class:{"ods-datepicker__actions__icon":!0,"ods-datepicker__actions__icon--disabled":this.isDisabled,"ods-datepicker__actions__icon--readonly":this.isReadonly},name:W.calendar,onClick:()=>this.open()})))}static get delegatesFocus(){return!0}static get formAssociated(){return!0}get el(){return this}static get watchers(){return{datesDisabled:["onDatesDisabledChange"],daysOfWeekDisabled:["onDaysOfWeekDisabledChange"],format:["onFormatChange"],isInvalid:["onIsInvalidChange"],locale:["onLocaleChange"],max:["onMaxChange"],min:["onMinChange"],value:["onValueChangeFromJs"]}}static get style(){return ei}},[81,"ods-datepicker",{ariaLabel:[513,"aria-label"],ariaLabelledby:[513,"aria-labelledby"],datesDisabled:[16],daysOfWeekDisabled:[16],defaultValue:[513,"default-value"],format:[513],hasError:[516,"has-error"],isClearable:[516,"is-clearable"],isDisabled:[516,"is-disabled"],isLoading:[516,"is-loading"],isReadonly:[516,"is-readonly"],isRequired:[516,"is-required"],locale:[513],max:[513],min:[513],name:[513],placeholder:[513],strategy:[513],value:[1040],isInvalid:[32],showClearable:[32],checkValidity:[64],clear:[64],close:[64],getValidationMessage:[64],getValidity:[64],reportValidity:[64],open:[64],reset:[64],willValidate:[64]},[[0,"invalid","onInvalidEvent"]],{datesDisabled:["onDatesDisabledChange"],daysOfWeekDisabled:["onDaysOfWeekDisabledChange"],format:["onFormatChange"],isInvalid:["onIsInvalidChange"],locale:["onLocaleChange"],max:["onMaxChange"],min:["onMinChange"],value:["onValueChangeFromJs"]}]);function ii(){if(typeof customElements>"u")return;["ods-datepicker","ods-button","ods-icon","ods-spinner"].forEach(e=>{switch(e){case"ods-datepicker":customElements.get(e)||customElements.define(e,ti);break;case"ods-button":customElements.get(e)||at();break;case"ods-icon":customElements.get(e)||ot();break;case"ods-spinner":customElements.get(e)||dt();break}})}ii();export{ii as d};
