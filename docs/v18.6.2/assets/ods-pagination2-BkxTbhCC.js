import{p as b,H as P,c,f as C,h as a,a as T}from"./index-DAZhnxgO.js";import{g as v}from"./dom-8hoR-urs.js";import{d as y,b as h,O as p,a as u}from"./ods-button2-dPaqs0uX.js";import{O as _}from"./icon-name-C6aMXAXT.js";import{d as I}from"./ods-icon2-DRPHarK1.js";import{d as w}from"./ods-select2-C8koqTnw.js";import{d as L}from"./ods-spinner2-CPyWCS2f.js";import{d as x}from"./ods-tooltip2-CW12aP9b.js";var n;(function(i){i[i.option_10=10]="option_10",i[i.option_25=25]="option_25",i[i.option_50=50]="option_50",i[i.option_100=100]="option_100",i[i.option_300=300]="option_300"})(n||(n={}));const m=Object.freeze([n.option_10,n.option_25,n.option_50,n.option_100,n.option_300]),r=2,d=4,g=7,k=1;function f(i,t,e){return t?Math.ceil(t/(i||1)):e}function E(i,t){const e=Array.from({length:i},()=>({active:!1}));let s=Math.max(t-r,1);const l=Math.min(s+d,i);if(i<=g-r)for(let o=0;o<e.length;o++)e[o].active=!0;else{i-t<r&&(s=i-d);for(let o=s;o<=l;o++)o==t-r&&t<i-1&&t>d&&t<i-r||o==t+r&&t<i-(r+k)&&o>g-r||(e[o-1].active=!0);s>1&&(e[0].active=!0),l<i&&(e[i-1].active=!0)}return e}function D(i,t,e){return i>t?t:i<1?1:i||e}const M=":host(.ods-pagination){display:flex;flex-direction:row;align-items:center}:host(.ods-pagination--disabled){border-color:var(--ods-color-border-disabled-default);background-color:var(--ods-color-background-disabled-default);cursor:not-allowed;color:var(--ods-color-text-disabled-default);background-color:inherit}.ods-pagination__results,.ods-pagination__list{display:flex;flex-direction:row;align-items:center;padding:0;list-style-type:none}.ods-pagination__results{gap:8px}.ods-pagination__results__label{color:var(--ods-color-text);font-weight:600}.ods-pagination__results__label--disabled{color:var(--ods-color-text-disabled-default)}.ods-pagination__list{margin:0}.ods-pagination__list__page,.ods-pagination__list__arrow{display:flex;align-items:center}.ods-pagination__list__arrow{padding:0 8px}.ods-pagination__list__arrow__button::part(button){display:flex;justify-content:center;width:2.5rem}.ods-pagination__list__page__ellipsis{display:flex;justify-content:center;width:2.5rem}.ods-pagination__list__page__button::part(button){display:none;justify-content:center;width:2.5rem}.ods-pagination__list__page__button--visible::part(button){display:flex}.ods-pagination__list__page__button--visible::part(button):focus-visible{z-index:1}.ods-pagination__list__page__button--selected:not(.ods-pagination__list__page__button--disabled)::part(button){border-color:var(--ods-color-primary-800);background-color:var(--ods-color-primary-800)}",B=M,H=b(class extends P{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.odsChange=c(this,"odsChange",7),this.odsItemPerPageChange=c(this,"odsItemPerPageChange",7),this.actualTotalPages=1,this.leftArrowButtonId="pagination-left-arrow",this.rightArrowButtonId="pagination-right-arrow",this.hostId="",this.itemPerPage=n.option_10,this.pageList=[],this.current=1,this.defaultCurrentPage=1,this.defaultItemsPerPage=n.option_10,this.isDisabled=!1,this.labelTooltipNext=void 0,this.labelTooltipPrevious=void 0,this.totalItems=void 0,this.totalPages=1}updateLabelTooltip(){C(this.el)}async onCurrentChange(t,e){this.updatePageList(),this.emitChange(t,e)}async onTotalPagesChange(){this.totalItems||(this.actualTotalPages=this.totalPages),this.updatePageList()}async onItemPerPageChange(){await this.updatePagination(),this.odsItemPerPageChange.emit({current:this.itemPerPage,currentPage:this.current,totalPages:this.actualTotalPages})}async onTotalItemsChange(){await this.updatePagination()}async setCurrentPage(t){this.current=t}async getCurrentPage(){return this.current}componentWillLoad(){this.hostId=this.el.id||v(),this.itemPerPage=m.includes(this.defaultItemsPerPage)&&this.defaultItemsPerPage||n.option_10,this.totalItems?this.actualTotalPages=f(this.itemPerPage,this.totalItems,this.totalPages):this.actualTotalPages=this.totalPages,this.current=D(this.defaultCurrentPage,this.actualTotalPages,this.current),this.updatePageList()}updatePageList(){this.pageList=E(this.actualTotalPages,this.current)}emitChange(t,e){this.odsChange.emit({current:t,itemPerPage:this.itemPerPage,oldCurrent:e})}handlePreviousClick(t){this.setCurrentPage(t-1)}handleNextClick(t){this.setCurrentPage(t+1)}handlePageClick(t){this.setCurrentPage(t)}odsChangeHandler(t){t.preventDefault(),t.stopPropagation();const{value:e}=t.detail;e&&(this.itemPerPage=typeof e=="number"?e:parseInt(e,10))}async updatePagination(){this.actualTotalPages=f(this.itemPerPage,this.totalItems,this.totalPages),this.current===1?this.updatePageList():await this.setCurrentPage(1)}renderArrow(t){const e=t==="left",s=e?this.labelTooltipPrevious:this.labelTooltipNext,l=e?this.leftArrowButtonId:this.rightArrowButtonId,o=this.isDisabled||e&&this.current===1||!e&&this.current>=this.pageList.length;return a("li",{class:"ods-pagination__list__arrow"},a("ods-button",{color:h.primary,class:"ods-pagination__list__arrow__button",icon:e?_.chevronLeft:_.chevronRight,id:l,isDisabled:o,label:"",onClick:()=>{o||(e?this.handlePreviousClick(this.current):this.handleNextClick(this.current))},size:p.md,variant:u.ghost}),s&&!o&&a("ods-tooltip",{shadowDomTriggerId:l,triggerId:this.hostId},s))}renderEllipsis(t){return a("li",{key:t},a("ods-button",{class:"ods-pagination__list__page__ellipsis",color:h.primary,isDisabled:!0,label:"â€¦",variant:u.ghost}))}renderPage(t,e){return a("li",{key:t},a("ods-button",{class:{"ods-pagination__list__page__button":!0,"ods-pagination__list__page__button--disabled":this.isDisabled,"ods-pagination__list__page__button--selected":this.current===t,"ods-pagination__list__page__button--visible":e},variant:this.current===t?u.default:u.ghost,isDisabled:this.isDisabled,label:`${t}`,color:h.primary,size:p.md,onClick:()=>this.handlePageClick(t)}))}render(){if(!this.totalItems&&this.actualTotalPages<1)return;const t=this.current>d&&this.actualTotalPages>=g,e=this.current<this.actualTotalPages-d+1&&this.actualTotalPages>=g;return a(T,{class:{"ods-pagination":!0,"ods-pagination--disabled":this.isDisabled},id:this.hostId},!!this.totalItems&&a("div",{class:{"ods-pagination__results":!0,"ods-pagination__results--disabled":this.isDisabled}},a("ods-select",{isDisabled:this.isDisabled,onOdsChange:s=>this.odsChangeHandler(s),value:`${this.itemPerPage}`,name:"ods-pagination__items-per-page"},m.map(s=>a("option",{key:s,value:s},s))),a("span",{class:{"ods-pagination__results__label":!0,"ods-pagination__results__label--disabled":this.isDisabled}},a("slot",{name:"before-total-items"}),this.totalItems,a("slot",{name:"after-total-items"}))),a("ul",{class:"ods-pagination__list"},this.renderArrow("left"),(this.totalItems||this.actualTotalPages>=1)&&this.renderPage(1,!0),t&&this.renderEllipsis("left"),this.pageList.slice(1,this.pageList.length-1).map((s,l)=>this.renderPage(l+2,s.active)),e&&this.renderEllipsis("right"),this.actualTotalPages>1&&this.renderPage(this.actualTotalPages,!0),this.renderArrow("right")))}get el(){return this}static get watchers(){return{labelTooltipNext:["updateLabelTooltip"],labelTooltipPrevious:["updateLabelTooltip"],current:["onCurrentChange"],totalPages:["onTotalPagesChange"],itemPerPage:["onItemPerPageChange"],totalItems:["onTotalItemsChange"]}}static get style(){return B}},[1,"ods-pagination",{defaultCurrentPage:[514,"default-current-page"],defaultItemsPerPage:[514,"default-items-per-page"],isDisabled:[516,"is-disabled"],labelTooltipNext:[513,"label-tooltip-next"],labelTooltipPrevious:[513,"label-tooltip-previous"],totalItems:[514,"total-items"],totalPages:[514,"total-pages"],itemPerPage:[32],pageList:[32],current:[32],setCurrentPage:[64],getCurrentPage:[64]},void 0,{labelTooltipNext:["updateLabelTooltip"],labelTooltipPrevious:["updateLabelTooltip"],current:["onCurrentChange"],totalPages:["onTotalPagesChange"],itemPerPage:["onItemPerPageChange"],totalItems:["onTotalItemsChange"]}]);function O(){if(typeof customElements>"u")return;["ods-pagination","ods-button","ods-icon","ods-select","ods-spinner","ods-tooltip"].forEach(t=>{switch(t){case"ods-pagination":customElements.get(t)||customElements.define(t,H);break;case"ods-button":customElements.get(t)||y();break;case"ods-icon":customElements.get(t)||I();break;case"ods-select":customElements.get(t)||w();break;case"ods-spinner":customElements.get(t)||L();break;case"ods-tooltip":customElements.get(t)||x();break}})}O();export{O as d};
