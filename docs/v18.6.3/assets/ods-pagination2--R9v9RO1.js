import{p as C,H as T,c as _,f as I,h as a,a as v}from"./index-DAZhnxgO.js";import{g as y}from"./dom-8hoR-urs.js";import{d as x,b as c,O as m,a as h}from"./ods-button2-dPaqs0uX.js";import{O as f}from"./icon-name-C6aMXAXT.js";import{d as w}from"./ods-icon2-DRPHarK1.js";import{d as L}from"./ods-select2-C8koqTnw.js";import{d as k}from"./ods-spinner2-CPyWCS2f.js";import{d as E}from"./ods-tooltip2-CW12aP9b.js";var o;(function(i){i[i.option_10=10]="option_10",i[i.option_25=25]="option_25",i[i.option_50=50]="option_50",i[i.option_100=100]="option_100",i[i.option_300=300]="option_300"})(o||(o={}));const b=Object.freeze([o.option_10,o.option_25,o.option_50,o.option_100,o.option_300]),n=2,u=4,g=7,D=1;function P(i,t,e){return t?Math.ceil(t/(i||1)):e}function M(i,t){const e=[];let s=Math.max(t-n,1);const d=Math.min(s+u,i);if(i<=g-n){for(let l=0;l<i;l++)e.push({active:!0,pageId:l+1});return e}i-t<n&&(s=i-u),s>1&&e.push({active:!0,pageId:1});let r=s,p=d;t>u&&t<i-n&&(r=Math.max(r,t-n+1)),t<i-(n+D)&&t>g-n&&(p=Math.min(p,t+n-1));for(let l=r;l<=p;l++)e.push({active:!0,pageId:l});return d<i&&e.push({active:!0,pageId:i+1}),e}function B(i,t,e){return i>t?t:i<1?1:i||e}const H=":host(.ods-pagination){display:flex;flex-direction:row;align-items:center}:host(.ods-pagination--disabled){border-color:var(--ods-color-border-disabled-default);background-color:var(--ods-color-background-disabled-default);cursor:not-allowed;color:var(--ods-color-text-disabled-default);background-color:inherit}.ods-pagination__results,.ods-pagination__list{display:flex;flex-direction:row;align-items:center;padding:0;list-style-type:none}.ods-pagination__results{gap:8px}.ods-pagination__results__label{color:var(--ods-color-text);font-weight:600}.ods-pagination__results__label--disabled{color:var(--ods-color-text-disabled-default)}.ods-pagination__list{margin:0}.ods-pagination__list__page,.ods-pagination__list__arrow{display:flex;align-items:center}.ods-pagination__list__arrow{padding:0 8px}.ods-pagination__list__arrow__button::part(button){display:flex;justify-content:center;width:2.5rem}.ods-pagination__list__page__ellipsis{display:flex;justify-content:center;width:2.5rem}.ods-pagination__list__page__button::part(button){display:none;justify-content:center;width:2.5rem}.ods-pagination__list__page__button--visible::part(button){display:flex}.ods-pagination__list__page__button--visible::part(button):focus-visible{z-index:1}.ods-pagination__list__page__button--selected:not(.ods-pagination__list__page__button--disabled)::part(button){border-color:var(--ods-color-primary-800);background-color:var(--ods-color-primary-800)}",O=H,$=C(class extends T{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.odsChange=_(this,"odsChange",7),this.odsItemPerPageChange=_(this,"odsItemPerPageChange",7),this.actualTotalPages=1,this.leftArrowButtonId="pagination-left-arrow",this.rightArrowButtonId="pagination-right-arrow",this.hostId="",this.itemPerPage=o.option_10,this.pageList=[],this.current=1,this.defaultCurrentPage=1,this.defaultItemsPerPage=o.option_10,this.isDisabled=!1,this.labelTooltipNext=void 0,this.labelTooltipPrevious=void 0,this.totalItems=void 0,this.totalPages=1}updateLabelTooltip(){I(this.el)}async onCurrentChange(t,e){this.updatePageList(),this.emitChange(t,e)}async onTotalPagesChange(){this.totalItems||(this.actualTotalPages=this.totalPages),this.updatePageList()}async onItemPerPageChange(){await this.updatePagination(),this.odsItemPerPageChange.emit({current:this.itemPerPage,currentPage:this.current,totalPages:this.actualTotalPages})}async onTotalItemsChange(){await this.updatePagination()}async setCurrentPage(t){this.current=t}async getCurrentPage(){return this.current}componentWillLoad(){this.hostId=this.el.id||y(),this.itemPerPage=b.includes(this.defaultItemsPerPage)&&this.defaultItemsPerPage||o.option_10,this.totalItems?this.actualTotalPages=P(this.itemPerPage,this.totalItems,this.totalPages):this.actualTotalPages=this.totalPages,this.current=B(this.defaultCurrentPage,this.actualTotalPages,this.current),this.updatePageList()}updatePageList(){this.pageList=M(this.actualTotalPages,this.current)}emitChange(t,e){this.odsChange.emit({current:t,itemPerPage:this.itemPerPage,oldCurrent:e})}handlePreviousClick(t){this.setCurrentPage(t-1)}handleNextClick(t){this.setCurrentPage(t+1)}handlePageClick(t){this.setCurrentPage(t)}odsChangeHandler(t){t.preventDefault(),t.stopPropagation();const{value:e}=t.detail;e&&(this.itemPerPage=typeof e=="number"?e:parseInt(e,10))}async updatePagination(){this.actualTotalPages=P(this.itemPerPage,this.totalItems,this.totalPages),this.current===1?this.updatePageList():await this.setCurrentPage(1)}renderArrow(t){const e=t==="left",s=e?this.labelTooltipPrevious:this.labelTooltipNext,d=e?this.leftArrowButtonId:this.rightArrowButtonId,r=this.isDisabled||e&&this.current===1||!e&&this.current>=this.actualTotalPages;return a("li",{class:"ods-pagination__list__arrow"},a("ods-button",{color:c.primary,class:"ods-pagination__list__arrow__button",icon:e?f.chevronLeft:f.chevronRight,id:d,isDisabled:r,label:"",onClick:()=>{r||(e?this.handlePreviousClick(this.current):this.handleNextClick(this.current))},size:m.md,variant:h.ghost}),s&&!r&&a("ods-tooltip",{shadowDomTriggerId:d,triggerId:this.hostId},s))}renderEllipsis(t){return a("li",{key:t},a("ods-button",{class:"ods-pagination__list__page__ellipsis",color:c.primary,isDisabled:!0,label:"â€¦",variant:h.ghost}))}renderPage(t,e){return a("li",{key:t},a("ods-button",{class:{"ods-pagination__list__page__button":!0,"ods-pagination__list__page__button--disabled":this.isDisabled,"ods-pagination__list__page__button--selected":this.current===t,"ods-pagination__list__page__button--visible":e},variant:this.current===t?h.default:h.ghost,isDisabled:this.isDisabled,label:`${t}`,color:c.primary,size:m.md,onClick:()=>this.handlePageClick(t)}))}render(){if(!this.totalItems&&this.actualTotalPages<1)return;const t=this.current>u&&this.actualTotalPages>=g,e=this.current<this.actualTotalPages-u+1&&this.actualTotalPages>=g;return a(v,{class:{"ods-pagination":!0,"ods-pagination--disabled":this.isDisabled},id:this.hostId},!!this.totalItems&&a("div",{class:{"ods-pagination__results":!0,"ods-pagination__results--disabled":this.isDisabled}},a("ods-select",{isDisabled:this.isDisabled,onOdsChange:s=>this.odsChangeHandler(s),value:`${this.itemPerPage}`,name:"ods-pagination__items-per-page"},b.map(s=>a("option",{key:s,value:s},s))),a("span",{class:{"ods-pagination__results__label":!0,"ods-pagination__results__label--disabled":this.isDisabled}},a("slot",{name:"before-total-items"}),this.totalItems,a("slot",{name:"after-total-items"}))),a("ul",{class:"ods-pagination__list"},this.renderArrow("left"),(this.totalItems||this.actualTotalPages>=1)&&this.renderPage(1,!0),t&&this.renderEllipsis("left"),this.pageList.slice(1,this.pageList.length-1).map(s=>this.renderPage(s.pageId,s.active)),e&&this.renderEllipsis("right"),this.actualTotalPages>1&&this.renderPage(this.actualTotalPages,!0),this.renderArrow("right")))}get el(){return this}static get watchers(){return{labelTooltipNext:["updateLabelTooltip"],labelTooltipPrevious:["updateLabelTooltip"],current:["onCurrentChange"],totalPages:["onTotalPagesChange"],itemPerPage:["onItemPerPageChange"],totalItems:["onTotalItemsChange"]}}static get style(){return O}},[1,"ods-pagination",{defaultCurrentPage:[514,"default-current-page"],defaultItemsPerPage:[514,"default-items-per-page"],isDisabled:[516,"is-disabled"],labelTooltipNext:[513,"label-tooltip-next"],labelTooltipPrevious:[513,"label-tooltip-previous"],totalItems:[514,"total-items"],totalPages:[514,"total-pages"],itemPerPage:[32],pageList:[32],current:[32],setCurrentPage:[64],getCurrentPage:[64]},void 0,{labelTooltipNext:["updateLabelTooltip"],labelTooltipPrevious:["updateLabelTooltip"],current:["onCurrentChange"],totalPages:["onTotalPagesChange"],itemPerPage:["onItemPerPageChange"],totalItems:["onTotalItemsChange"]}]);function j(){if(typeof customElements>"u")return;["ods-pagination","ods-button","ods-icon","ods-select","ods-spinner","ods-tooltip"].forEach(t=>{switch(t){case"ods-pagination":customElements.get(t)||customElements.define(t,$);break;case"ods-button":customElements.get(t)||x();break;case"ods-icon":customElements.get(t)||w();break;case"ods-select":customElements.get(t)||L();break;case"ods-spinner":customElements.get(t)||k();break;case"ods-tooltip":customElements.get(t)||E();break}})}j();export{j as d};
