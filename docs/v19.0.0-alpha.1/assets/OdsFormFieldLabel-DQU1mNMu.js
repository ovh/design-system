import{j as n}from"./jsx-runtime-VM66peLj.js";import{c as E}from"./index-CkQHsVsO.js";import{r as o}from"./index-D_CmzhJ4.js";import{o as L,m as y,d as b,B as Q,g as U,C as l,D as X,p as Y,e as Z}from"./index-DDDhx9B2.js";const[ee,R]=L({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1}),M=o.forwardRef((t,s)=>{const e=R(),r=y(e.getErrorTextProps(),t);return e!=null&&e.invalid?n.jsx(b.span,{...r,ref:s}):null});M.displayName="FieldErrorText";const C=o.forwardRef((t,s)=>{const e=R(),r=y(e==null?void 0:e.getHelperTextProps(),t);return n.jsx(b.span,{...r,ref:s})});C.displayName="FieldHelperText";const $=o.forwardRef((t,s)=>{const e=R(),r=y(e==null?void 0:e.getLabelProps(),t);return n.jsx(b.label,{...r,ref:s})});$.displayName="FieldLabel";const re=typeof window<"u"?o.useLayoutEffect:o.useEffect,[me,oe]=L({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),te=Q("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator"),c=te.build(),se=(t={})=>{const s=oe(),{ids:e,disabled:r=!!(s!=null&&s.disabled),invalid:a=!1,readOnly:d=!1,required:f=!1}=t,[x,S]=o.useState(!1),[I,A]=o.useState(!1),i=t.id??o.useId(),_=o.useRef(null),g=(e==null?void 0:e.control)??`field::${i}`,p=(e==null?void 0:e.errorText)??`field::${i}::error-text`,m=(e==null?void 0:e.helperText)??`field::${i}::helper-text`,N=(e==null?void 0:e.label)??`field::${i}::label`;re(()=>{const u=_.current;if(!u)return;const j=U(u),w=j.document,q=()=>{S(!!w.getElementById(p)),A(!!w.getElementById(m))};q();const H=new j.MutationObserver(q);return H.observe(u,{childList:!0,subtree:!0}),()=>H.disconnect()},[p,m]);const P=o.useMemo(()=>{const u=[];return x&&a&&u.push(p),I&&u.push(m),u.join(" ")||void 0},[a,p,m,x,I]),B=o.useMemo(()=>()=>({...c.root.attrs,id:g,ref:_,role:"group","data-disabled":l(r),"data-invalid":l(a),"data-readonly":l(d)}),[r,a,d,g]),V=o.useMemo(()=>()=>({...c.label.attrs,id:N,"data-disabled":l(r),"data-invalid":l(a),"data-readonly":l(d),htmlFor:i}),[r,a,d,i,N]),F=o.useMemo(()=>()=>({"aria-describedby":P,"aria-invalid":X(a),"data-invalid":l(a),"data-required":l(f),"data-readonly":l(d),id:i,required:f,disabled:r,readOnly:d}),[P,a,f,d,i,r]),D=o.useMemo(()=>()=>({...F(),...c.input.attrs}),[F]),W=o.useMemo(()=>()=>({...F(),...c.textarea.attrs}),[F]),z=o.useMemo(()=>()=>({...F(),...c.select.attrs}),[F]),G=o.useMemo(()=>()=>({id:m,...c.helperText.attrs,"data-disabled":l(r)}),[r,m]),J=o.useMemo(()=>()=>({id:p,...c.errorText.attrs,"aria-live":"polite"}),[p]),K=o.useMemo(()=>()=>({"aria-hidden":!0,...c.requiredIndicator.attrs}),[]);return{ariaDescribedby:P,ids:{root:g,control:i,label:N,errorText:p,helperText:m},refs:{rootRef:_},disabled:r,invalid:a,readOnly:d,required:f,getLabelProps:V,getRootProps:B,getInputProps:D,getTextareaProps:W,getSelectProps:z,getHelperTextProps:G,getErrorTextProps:J,getRequiredIndicatorProps:K}},k=o.forwardRef((t,s)=>{const[e,r]=Y()(t,["id","ids","disabled","invalid","readOnly","required"]),a=se(e),d=y(a.getRootProps(),r);return n.jsx(ee,{value:a,children:n.jsx(b.div,{...d,ref:Z(s,a.refs.rootRef)})})});k.displayName="FieldRoot";const ae={"ods-form-field":"_ods-form-field_p52kn_1"},T=o.forwardRef(({children:t,className:s,disabled:e,invalid:r,readOnly:a,required:d,...f},x)=>n.jsx(k,{className:E(ae["ods-form-field"],s),disabled:e,invalid:r,readOnly:a,required:d,ref:x,...f,children:t}));T.displayName="OdsFormField";try{T.displayName="OdsFormField",T.__docgenInfo={description:"",displayName:"OdsFormField",props:{disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},invalid:{defaultValue:null,description:"",name:"invalid",required:!1,type:{name:"boolean"}},readOnly:{defaultValue:null,description:"",name:"readOnly",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}}}}}catch{}const de={"ods-form-field-error":"_ods-form-field-error_1cmhy_1"},h=o.forwardRef(({children:t,className:s,...e},r)=>n.jsx(M,{className:E(de["ods-form-field-error"],s),ref:r,...e,children:t}));h.displayName="OdsFormFieldError";try{h.displayName="OdsFormFieldError",h.__docgenInfo={description:"",displayName:"OdsFormFieldError",props:{}}}catch{}const v=o.forwardRef(({children:t,className:s,...e},r)=>n.jsx(C,{className:s,ref:r,...e,children:t}));v.displayName="OdsFormFieldHelper";try{v.displayName="OdsFormFieldHelper",v.__docgenInfo={description:"",displayName:"OdsFormFieldHelper",props:{}}}catch{}const le={"ods-form-field-label":"_ods-form-field-label_1sobj_1"},O=o.forwardRef(({children:t,className:s,...e},r)=>n.jsx($,{className:E(le["ods-form-field-label"],s),ref:r,...e,children:t}));O.displayName="OdsFormFieldLabel";try{O.displayName="OdsFormFieldLabel",O.__docgenInfo={description:"",displayName:"OdsFormFieldLabel",props:{}}}catch{}export{O,v as a,h as b,T as c,R as u};
