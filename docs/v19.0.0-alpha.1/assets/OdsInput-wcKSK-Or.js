import{j as s}from"./jsx-runtime-VM66peLj.js";import{c as V}from"./index-CkQHsVsO.js";import{r as n}from"./index-D_CmzhJ4.js";import{O as b,b as y,d as g,f as h}from"./OdsButton-BdAON5Xz.js";import{O as j,a as _}from"./icon-name-CmqPEXVL.js";import{O as D,d as w}from"./OdsSpinner-DCrUZmmt.js";import{m as F,d as H}from"./index-DDDhx9B2.js";import{u as L}from"./OdsFormFieldLabel-DQU1mNMu.js";const M=n.forwardRef((e,d)=>{const t=L(),i=F(t==null?void 0:t.getInputProps(),e);return s.jsx(H.input,{...i,ref:d})});M.displayName="FieldInput";var f=(e=>(e.close="close",e.open="open",e))(f||{});Object.freeze(Object.values(f));var u=(e=>(e.email="email",e.number="number",e.password="password",e.search="search",e.text="text",e.time="time",e.url="url",e))(u||{});const $=Object.freeze(Object.values(u));function p(e){return Array.isArray(e)?e.length>0:!!e||e===0}const o={"ods-input":"_ods-input_ickjd_1","ods-input__actions":"_ods-input__actions_ickjd_6","ods-input__actions__loading":"_ods-input__actions__loading_ickjd_17","ods-input__field":"_ods-input__field_ickjd_22","ods-input__field--clearable":"_ods-input__field--clearable_ickjd_63","ods-input__field--loading":"_ods-input__field--loading_ickjd_63","ods-input__field--toggle-mask":"_ods-input__field--toggle-mask_ickjd_63","ods-input__field--search":"_ods-input__field--search_ickjd_63"},x=n.forwardRef(({className:e,clearable:d=!1,loading:t=!1,maskOption:i={enable:!1,initialState:f.close},onClear:O,type:c=u.text,...a},R)=>{var N;const r=n.useRef(null),[v,I]=n.useState(p(a.defaultValue)||p(a.value)),[m,B]=n.useState((i==null?void 0:i.initialState)===f.open);n.useImperativeHandle(R,()=>r.current,[r]),n.useEffect(()=>{var l;I(p((l=r.current)==null?void 0:l.value))},[(N=r.current)==null?void 0:N.value]);const k=n.useMemo(()=>d&&!t&&v,[d,v,t]),S=n.useMemo(()=>c===u.search&&!t,[t,c]),C=n.useMemo(()=>i.enable&&!t,[t,i.enable]),q=n.useMemo(()=>i.enable&&!m?u.password:c,[m,i.enable,c]);function z(l){a.onChange&&a.onChange(l),I(p(l.target.value))}function A(){O&&O(),r.current&&(Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(r.current,""),r.current.dispatchEvent(new Event("input",{bubbles:!0})),r.current.focus())}function E(){B(l=>!l)}return s.jsxs("div",{className:V(o["ods-input"],e),children:[s.jsx(M,{className:V(o["ods-input__field"],{[o["ods-input__field--clearable"]]:k},{[o["ods-input__field--loading"]]:t},{[o["ods-input__field--search"]]:S},{[o["ods-input__field--toggle-mask"]]:C}),ref:r,type:q,...a,onChange:z}),s.jsxs("div",{className:o["ods-input__actions"],children:[t&&s.jsx(D,{className:o["ods-input__actions__loading"],color:a.disabled?w.neutral:w.primary}),k&&s.jsx(b,{color:h.neutral,disabled:a.disabled||a.readOnly,onClick:A,size:g.xs,type:"button",variant:y.ghost,children:s.jsx(j,{name:_.xmark})}),C&&s.jsx(b,{color:h.primary,disabled:a.disabled,onClick:E,size:g.xs,type:"button",variant:y.ghost,children:s.jsx(j,{name:m?_.eye:_.eyeOff})}),S&&s.jsx(b,{color:h.primary,disabled:a.disabled||a.readOnly,size:g.xs,type:"submit",variant:y.ghost,children:s.jsx(j,{name:_.magnifyingGlass})})]})]})});x.displayName="OdsInput";try{x.displayName="OdsInput",x.__docgenInfo={description:"",displayName:"OdsInput",props:{clearable:{defaultValue:{value:"false"},description:"",name:"clearable",required:!1,type:{name:"boolean"}},loading:{defaultValue:{value:"false"},description:"",name:"loading",required:!1,type:{name:"boolean"}},maskOption:{defaultValue:{value:"{ enable: false, initialState: ODS_INPUT_MASK_STATE.close }"},description:"",name:"maskOption",required:!1,type:{name:'{ enable: boolean; initialState?: "close" | "open"; }'}},onClear:{defaultValue:null,description:"",name:"onClear",required:!1,type:{name:"(() => void)"}},type:{defaultValue:{value:"ODS_INPUT_TYPE.text"},description:"",name:"type",required:!1,type:{name:'"number" | "search" | "time" | "text" | "url" | "email" | "password"'}}}}}catch{}export{x as O,$ as a,u as b};
