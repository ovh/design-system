import{j as x}from"./jsx-runtime-VM66peLj.js";import{c as v}from"./index-CkQHsVsO.js";import{r as d}from"./index-D_CmzhJ4.js";import{c as y,g as h,a as b,m as O,d as w,e as F}from"./index-DDDhx9B2.js";import{u as _}from"./OdsFormFieldLabel-DQU1mNMu.js";var T=e=>{var f,l;if(!e)return;const t=y(e),s=h(e),i=b(e),r=()=>{requestAnimationFrame(()=>{e.style.height="auto";let o;t.boxSizing==="content-box"?o=e.scrollHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):o=e.scrollHeight+parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),t.maxHeight!=="none"&&o>parseFloat(t.maxHeight)?(t.overflowY==="hidden"&&(e.style.overflowY="scroll"),o=parseFloat(t.maxHeight)):t.overflowY!=="hidden"&&(e.style.overflowY="hidden"),e.style.height=`${o}px`})};e.addEventListener("input",r),(f=e.form)==null||f.addEventListener("reset",r);const n=Object.getPrototypeOf(e),a=Object.getOwnPropertyDescriptor(n,"value");Object.defineProperty(e,"value",{...a,set(){var o;(o=a==null?void 0:a.set)==null||o.apply(this,arguments),r()}});const p=new s.ResizeObserver(()=>{requestAnimationFrame(()=>r())});p.observe(e);const m=new s.MutationObserver(()=>r());return m.observe(e,{attributes:!0,attributeFilter:["rows","placeholder"]}),(l=i.fonts)==null||l.addEventListener("loadingdone",r),()=>{var o,u;e.removeEventListener("input",r),(o=e.form)==null||o.removeEventListener("reset",r),(u=i.fonts)==null||u.removeEventListener("loadingdone",r),p.disconnect(),m.disconnect()}};const g=d.forwardRef((e,t)=>{const{autoresize:s,...i}=e,r=d.useRef(null),n=_(),a=O(n==null?void 0:n.getTextareaProps(),{style:{resize:s?"none":void 0}},i);return d.useEffect(()=>{if(s)return T(r.current)},[s]),x.jsx(w.textarea,{...a,ref:F(t,r)})});g.displayName="FieldTextarea";const E={"ods-textarea":"_ods-textarea_1ui4e_1"},c=d.forwardRef(({className:e,...t},s)=>x.jsx(g,{className:v(E["ods-textarea"],e),ref:s,...t}));c.displayName="OdsTextarea";try{c.displayName="OdsTextarea",c.__docgenInfo={description:"",displayName:"OdsTextarea",props:{}}}catch{}export{c as O};
