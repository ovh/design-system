import{j as n}from"./jsx-runtime-VM66peLj.js";import{c as R}from"./index-CkQHsVsO.js";import{r as o}from"./index-D_CmzhJ4.js";import{I as b,J as y,c as z,P as G,g as V,Q as l,U as X,a as Y,K as Z}from"./index-BCxMAfLs.js";import{u as v,F as ee}from"./use-field-context-BA6pMY5L.js";const j=o.forwardRef((s,t)=>{const e=v(),r=b(e.getErrorTextProps(),s);return e!=null&&e.invalid?n.jsx(y.span,{...r,ref:t}):null});j.displayName="FieldErrorText";const q=o.forwardRef((s,t)=>{const e=v(),r=b(e==null?void 0:e.getHelperTextProps(),s);return n.jsx(y.span,{...r,ref:t})});q.displayName="FieldHelperText";const H=o.forwardRef((s,t)=>{const e=v(),r=b(e==null?void 0:e.getLabelProps(),s);return n.jsx(y.label,{...r,ref:t})});H.displayName="FieldLabel";const re=typeof window<"u"?o.useLayoutEffect:o.useEffect,[fe,oe]=z({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),te=G("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator"),c=te.build(),se=(s={})=>{const t=oe(),{ids:e,disabled:r=!!(t!=null&&t.disabled),invalid:a=!1,readOnly:d=!1,required:u=!1}=s,[F,W]=o.useState(!1),[N,A]=o.useState(!1),i=s.id??o.useId(),P=o.useRef(null),g=(e==null?void 0:e.control)??`field::${i}`,p=(e==null?void 0:e.errorText)??`field::${i}::error-text`,m=(e==null?void 0:e.helperText)??`field::${i}::helper-text`,T=(e==null?void 0:e.label)??`field::${i}::label`;re(()=>{const f=P.current;if(!f)return;const E=V(f),I=E.document,_=()=>{W(!!I.getElementById(p)),A(!!I.getElementById(m))};_();const w=new E.MutationObserver(_);return w.observe(f,{childList:!0,subtree:!0}),()=>w.disconnect()},[p,m]);const h=o.useMemo(()=>{const f=[];return F&&a&&f.push(p),N&&f.push(m),f.join(" ")||void 0},[a,p,m,F,N]),O=o.useMemo(()=>()=>({...c.root.attrs,id:g,ref:P,role:"group","data-disabled":l(r),"data-invalid":l(a),"data-readonly":l(d)}),[r,a,d,g]),k=o.useMemo(()=>()=>({...c.label.attrs,id:T,"data-disabled":l(r),"data-invalid":l(a),"data-readonly":l(d),htmlFor:i}),[r,a,d,i,T]),x=o.useMemo(()=>()=>({"aria-describedby":h,"aria-invalid":X(a),"data-invalid":l(a),"data-required":l(u),"data-readonly":l(d),id:i,required:u,disabled:r,readOnly:d}),[h,a,u,d,i,r]),B=o.useMemo(()=>()=>({...x(),...c.input.attrs}),[x]),D=o.useMemo(()=>()=>({...x(),...c.textarea.attrs}),[x]),J=o.useMemo(()=>()=>({...x(),...c.select.attrs}),[x]),K=o.useMemo(()=>()=>({id:m,...c.helperText.attrs,"data-disabled":l(r)}),[r,m]),Q=o.useMemo(()=>()=>({id:p,...c.errorText.attrs,"aria-live":"polite"}),[p]),U=o.useMemo(()=>()=>({"aria-hidden":!0,...c.requiredIndicator.attrs}),[]);return{ariaDescribedby:h,ids:{root:g,control:i,label:T,errorText:p,helperText:m},refs:{rootRef:P},disabled:r,invalid:a,readOnly:d,required:u,getLabelProps:k,getRootProps:O,getInputProps:B,getTextareaProps:D,getSelectProps:J,getHelperTextProps:K,getErrorTextProps:Q,getRequiredIndicatorProps:U}},M=o.forwardRef((s,t)=>{const[e,r]=Y()(s,["id","ids","disabled","invalid","readOnly","required"]),a=se(e),d=b(a.getRootProps(),r);return n.jsx(ee,{value:a,children:n.jsx(y.div,{...d,ref:Z(t,a.refs.rootRef)})})});M.displayName="FieldRoot";const ae={"form-field":"_form-field_1lmmx_2"},C=o.forwardRef(({children:s,className:t,disabled:e,invalid:r,readOnly:a,required:d,...u},F)=>n.jsx(M,{className:R(ae["form-field"],t),disabled:e,invalid:r,readOnly:a,required:d,ref:F,...u,children:s}));C.displayName="FormField";C.__docgenInfo={description:"",methods:[],displayName:"FormField",props:{disabled:{required:!1,tsType:{name:"boolean"},description:""},invalid:{required:!1,tsType:{name:"boolean"},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""}},composes:["ComponentPropsWithRef"]};const de={"form-field-error":"_form-field-error_12bcw_2"},L=o.forwardRef(({children:s,className:t,...e},r)=>n.jsx(j,{className:R(de["form-field-error"],t),ref:r,...e,children:s}));L.displayName="FormFieldError";L.__docgenInfo={description:"",methods:[],displayName:"FormFieldError",composes:["ComponentPropsWithRef"]};const $=o.forwardRef(({children:s,className:t,...e},r)=>n.jsx(q,{className:t,ref:r,...e,children:s}));$.displayName="FormFieldHelper";$.__docgenInfo={description:"",methods:[],displayName:"FormFieldHelper",composes:["ComponentPropsWithRef"]};const le={"form-field-label":"_form-field-label_wgd90_2"},S=o.forwardRef(({children:s,className:t,...e},r)=>n.jsx(H,{className:R(le["form-field-label"],t),ref:r,...e,children:s}));S.displayName="FormFieldLabel";S.__docgenInfo={description:"",methods:[],displayName:"FormFieldLabel",composes:["ComponentPropsWithRef"]};export{S as F,$ as a,L as b,C as c};
