import{j as n}from"./jsx-runtime-VM66peLj.js";import{c as T}from"./index-CkQHsVsO.js";import{r as s}from"./index-D_CmzhJ4.js";import{B as b,f as g,e as y,d as h}from"./Button-BRERPjFq.js";import{I as v,a as d}from"./icon-name-jL3axqAU.js";import{S as z,c as M}from"./Spinner-CcwadLZv.js";import{I as F,J as H}from"./index-BCxMAfLs.js";import{u as L}from"./use-field-context-BA6pMY5L.js";const O=s.forwardRef((e,c)=>{const t=L(),i=F(t==null?void 0:t.getInputProps(),e);return n.jsx(H.input,{...i,ref:c})});O.displayName="FieldInput";var p=(e=>(e.close="close",e.open="open",e))(p||{});Object.freeze(Object.values(p));var o=(e=>(e.email="email",e.number="number",e.password="password",e.search="search",e.text="text",e.time="time",e.url="url",e))(o||{});const ee=Object.freeze(Object.values(o));function f(e){return Array.isArray(e)?e.length>0:!!e||e===0}const D="_input_8krfi_2",$="_input__actions_8krfi_7",G="_input__actions__loading_8krfi_18",J="_input__field_8krfi_23",u={input:D,input__actions:$,input__actions__loading:G,input__field:J,"input__field--clearable":"_input__field--clearable_8krfi_64","input__field--loading":"_input__field--loading_8krfi_64","input__field--toggle-mask":"_input__field--toggle-mask_8krfi_64","input__field--search":"_input__field--search_8krfi_64"},w=s.forwardRef(({className:e,clearable:c=!1,loading:t=!1,maskOption:i={enable:!1,initialState:p.close},onClear:x,type:_=o.text,...a},V)=>{var C;const r=s.useRef(null),[I,j]=s.useState(f(a.defaultValue)||f(a.value)),[m,R]=s.useState((i==null?void 0:i.initialState)===p.open);s.useImperativeHandle(V,()=>r.current,[r]),s.useEffect(()=>{var l;j(f((l=r.current)==null?void 0:l.value))},[(C=r.current)==null?void 0:C.value]);const S=s.useMemo(()=>c&&!t&&I,[c,I,t]),k=s.useMemo(()=>_===o.search&&!t,[t,_]),N=s.useMemo(()=>i.enable&&!t,[t,i.enable]),q=s.useMemo(()=>i.enable&&!m?o.password:_,[m,i.enable,_]);function A(l){a.onChange&&a.onChange(l),j(f(l.target.value))}function B(){x&&x(),r.current&&(Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(r.current,""),r.current.dispatchEvent(new Event("input",{bubbles:!0})),r.current.focus())}function E(){R(l=>!l)}return n.jsxs("div",{className:T(u.input,e),children:[n.jsx(O,{className:T(u.input__field,{[u["input__field--clearable"]]:S},{[u["input__field--loading"]]:t},{[u["input__field--search"]]:k},{[u["input__field--toggle-mask"]]:N}),ref:r,type:q,...a,onChange:A}),n.jsxs("div",{className:u.input__actions,children:[t&&n.jsx(z,{className:u.input__actions__loading,color:a.disabled?M.neutral:M.primary}),S&&n.jsx(b,{color:h.neutral,disabled:a.disabled||a.readOnly,onClick:B,size:y.xs,type:"button",variant:g.ghost,children:n.jsx(v,{name:d.xmark})}),N&&n.jsx(b,{color:h.primary,disabled:a.disabled,onClick:E,size:y.xs,type:"button",variant:g.ghost,children:n.jsx(v,{name:m?d.eye:d.eyeOff})}),k&&n.jsx(b,{color:h.primary,disabled:a.disabled||a.readOnly,size:y.xs,type:"submit",variant:g.ghost,children:n.jsx(v,{name:d.magnifyingGlass})})]})]})});w.displayName="Input";w.__docgenInfo={description:"",methods:[],displayName:"Input",props:{clearable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},maskOption:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  enable: boolean,
  initialState?: InputMaskState,
}`,signature:{properties:[{key:"enable",value:{name:"boolean",required:!0}},{key:"initialState",value:{name:"literal",value:"`${INPUT_MASK_STATE}`",required:!1}}]}},description:"",defaultValue:{value:"{ enable: false, initialState: INPUT_MASK_STATE.close }",computed:!1}},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},type:{required:!1,tsType:{name:"literal",value:"`${INPUT_TYPE}`"},description:"",defaultValue:{value:"INPUT_TYPE.text",computed:!0}}},composes:["ComponentPropsWithRef"]};export{w as I,ee as a,o as b};
