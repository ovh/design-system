import{r as I,e as c}from"./index-D_CmzhJ4.js";import{c as dt,F as mt}from"./FormFieldLabel-BxxkSoC9.js";import{j as b}from"./jsx-runtime-VM66peLj.js";import{c as pt,I as j,J as Y,Q as f,P as ft,_ as gt,g as yt,$ as oe,U as le,Z as bt,a0 as ht,a1 as ue,a2 as G,a3 as vt,a4 as ce,a5 as Et,a6 as Pt,r as de,V as Nt,a7 as q,a8 as It,a9 as Rt,f as Tt,e as K,R as ze,aa as Ct,ab as Ot,ac as xt,ad as St,ae as wt,af as Vt,a as Dt}from"./index-BCxMAfLs.js";import{c as $t,a as At,b as _t,u as Lt,n as Ft}from"./use-locale-context-Z4fgdY29.js";import{u as Xe}from"./use-field-context-BA6pMY5L.js";import{c as ae}from"./index-CkQHsVsO.js";import{B as me,f as pe,e as fe,d as W}from"./Button-BRERPjFq.js";import{I as ge,a as ye}from"./icon-name-jL3axqAU.js";import{e as Mt,o as Qt,C as O}from"./controls-BtiQQn1l.js";const[Ut,Z]=pt({name:"NumberInputContext",hookName:"useNumberInputContext",providerName:"<NumberInputProvider />"}),Ke=I.forwardRef((t,e)=>{const n=Z(),r=j(n.getControlProps(),t);return b.jsx(Y.div,{...r,ref:e})});Ke.displayName="NumberInputControl";const Je=I.forwardRef((t,e)=>{const n=Z(),r=j(n.getInputProps(),t),a=Xe();return b.jsx(Y.input,{"aria-describedby":a==null?void 0:a.ariaDescribedby,...r,ref:e})});Je.displayName="NumberInputInput";const et=I.forwardRef((t,e)=>{const n=Z(),r=j(n.getLabelProps(),t);return b.jsx(Y.label,{...r,ref:e})});et.displayName="NumberInputLabel";let J=new Map,re=!1;try{re=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let k=!1;try{k=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const tt={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class Bt{format(e){let n="";if(!re&&this.options.signDisplay!=null?n=qt(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!k){var r;let{unit:a,unitDisplay:s="short",locale:i}=this.resolvedOptions();if(!a)return n;let l=(r=tt[a])===null||r===void 0?void 0:r[s];n+=l[i]||l.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),a=this.numberFormatter.formatToParts(n);return[...r.map(s=>({...s,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...a.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!re&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!k&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=Gt(e,n),this.options=n}}function Gt(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!k){var r;let{unit:i,unitDisplay:l="short"}=e;if(!i)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=tt[i])===null||r===void 0)&&r[l]))throw new Error(`Unsupported unit ${i} with unitDisplay = ${l}`);e={...e,style:"decimal"}}let a=t+(e?Object.entries(e).sort((i,l)=>i[0]<l[0]?-1:1).join():"");if(J.has(a))return J.get(a);let s=new Intl.NumberFormat(t,e);return J.set(a,s),s}function qt(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let r=!1;if(e==="always"?r=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let a=t.format(-n),s=t.format(n),i=a.replace(s,"").replace(/\u200e|\u061C/,"");return[...i].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),a.replace(s,"!!!").replace(i,"+").replace("!!!",s)}else return t.format(n)}}const Wt=new RegExp("^.*\\(.*\\).*$"),Ht=["latn","arab","hanidec","deva","beng"];class nt{parse(e){return ee(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,r){return ee(this.locale,this.options,e).isValidPartialNumber(e,n,r)}getNumberingSystem(e){return ee(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const be=new Map;function ee(t,e,n){let r=he(t,e);if(!t.includes("-nu-")&&!r.isValidPartialNumber(n)){for(let a of Ht)if(a!==r.options.numberingSystem){let s=he(t+(t.includes("-u-")?"-nu-":"-u-nu-")+a,e);if(s.isValidPartialNumber(n))return s}}return r}function he(t,e){let n=t+(e?Object.entries(e).sort((a,s)=>a[0]<s[0]?-1:1).join():""),r=be.get(n);return r||(r=new kt(t,e),be.set(n,r)),r}class kt{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=H(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let i=n.indexOf("-");n=n.replace("-","");let l=n.indexOf(".");l===-1&&(l=n.length),n=n.replace(".",""),l-2===0?n=`0.${n}`:l-2===-1?n=`0.0${n}`:l-2===-2?n="0.00":n=`${n.slice(0,l-2)}.${n.slice(l-2)}`,i>-1&&(n=`-${n}`)}let r=n?+n:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var a,s;let i={...this.options,style:"decimal",minimumFractionDigits:Math.min(((a=this.options.minimumFractionDigits)!==null&&a!==void 0?a:0)+2,20),maximumFractionDigits:Math.min(((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)+2,20)};return new nt(this.locale,i).parse(new Bt(this.locale,i).format(r))}return this.options.currencySign==="accounting"&&Wt.test(e)&&(r=-1*r),r}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=H(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=H(e,"."," ")),e}isValidPartialNumber(e,n=-1/0,r=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&r>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=H(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=Yt(e,this.formatter,this.options,n);var r,a;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((a=this.options.maximumFractionDigits)!==null&&a!==void 0?a:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const ve=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),jt=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Yt(t,e,n,r){var a,s,i,l;let u=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),m=u.formatToParts(-10000.111),y=u.formatToParts(10000.111),g=jt.map(d=>u.formatToParts(d));var N;let R=(N=(a=m.find(d=>d.type==="minusSign"))===null||a===void 0?void 0:a.value)!==null&&N!==void 0?N:"-",S=(s=y.find(d=>d.type==="plusSign"))===null||s===void 0?void 0:s.value;!S&&((r==null?void 0:r.signDisplay)==="exceptZero"||(r==null?void 0:r.signDisplay)==="always")&&(S="+");let p=(i=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(d=>d.type==="decimal"))===null||i===void 0?void 0:i.value,w=(l=m.find(d=>d.type==="group"))===null||l===void 0?void 0:l.value,P=m.filter(d=>!ve.has(d.type)).map(d=>Ee(d.value)),z=g.flatMap(d=>d.filter(C=>!ve.has(C.type)).map(C=>Ee(C.value))),X=[...new Set([...P,...z])].sort((d,C)=>C.length-d.length),lt=X.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${X.join("|")}|[\\p{White_Space}]`,"gu"),ie=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),ut=new Map(ie.map((d,C)=>[d,C])),ct=new RegExp(`[${ie.join("")}]`,"g");return{minusSign:R,plusSign:S,decimal:p,group:w,literals:lt,numeral:ct,index:d=>String(ut.get(d))}}function H(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function Ee(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Zt=ft("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),T=Zt.build(),zt=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`number-input:${t.id}`},V=t=>{var e;return((e=t.ids)==null?void 0:e.input)??`number-input:${t.id}:input`},rt=t=>{var e;return((e=t.ids)==null?void 0:e.incrementTrigger)??`number-input:${t.id}:inc`},at=t=>{var e;return((e=t.ids)==null?void 0:e.decrementTrigger)??`number-input:${t.id}:dec`},Xt=t=>{var e;return((e=t.ids)==null?void 0:e.scrubber)??`number-input:${t.id}:scrubber`},st=t=>`number-input:${t.id}:cursor`,Kt=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`number-input:${t.id}:label`},D=t=>t.getById(V(t)),Jt=t=>t.getById(rt(t)),en=t=>t.getById(at(t)),it=t=>t.getDoc().getElementById(st(t)),tn=(t,e)=>{let n=null;return e==="increment"&&(n=Jt(t)),e==="decrement"&&(n=en(t)),n},nn=(t,e)=>{if(!ze())return sn(t,e),()=>{var n;(n=it(t))==null||n.remove()}},rn=t=>{const e=t.getDoc(),n=e.documentElement,r=e.body;return r.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{r.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),r.style.length||r.removeAttribute("style")}},an=(t,e)=>{const{point:n,isRtl:r,event:a}=e,s=t.getWin(),i=G(a.movementX,s.devicePixelRatio),l=G(a.movementY,s.devicePixelRatio);let u=i>0?"increment":i<0?"decrement":null;r&&u==="increment"&&(u="decrement"),r&&u==="decrement"&&(u="increment");const m={x:n.x+i,y:n.y+l},y=s.innerWidth,g=G(7.5,s.devicePixelRatio);return m.x=wt(m.x+g,y)-g,{hint:u,point:m}},sn=(t,e)=>{const n=t.getDoc(),r=n.createElement("div");r.className="scrubber--cursor",r.id=st(t),Object.assign(r.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:Vt,transform:e?`translate3d(${e.x}px, ${e.y}px, 0px)`:void 0,willChange:"transform"}),r.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,n.body.appendChild(r)};function on(t,e){const{state:n,send:r,prop:a,scope:s,computed:i}=t,l=n.hasTag("focus"),u=i("isDisabled"),m=a("readOnly"),y=i("isValueEmpty"),g=i("isOutOfRange")||!!a("invalid"),N=u||!i("canIncrement")||m,R=u||!i("canDecrement")||m,S=a("translations");return{focused:l,invalid:g,empty:y,value:i("formattedValue"),valueAsNumber:i("valueAsNumber"),setValue(o){r({type:"VALUE.SET",value:o})},clearValue(){r({type:"VALUE.CLEAR"})},increment(){r({type:"VALUE.INCREMENT"})},decrement(){r({type:"VALUE.DECREMENT"})},setToMax(){r({type:"VALUE.SET",value:a("max")})},setToMin(){r({type:"VALUE.SET",value:a("min")})},focus(){var o;(o=D(s))==null||o.focus()},getRootProps(){return e.element({id:zt(s),...T.root.attrs,dir:a("dir"),"data-disabled":f(u),"data-focus":f(l),"data-invalid":f(g)})},getLabelProps(){return e.label({...T.label.attrs,dir:a("dir"),"data-disabled":f(u),"data-focus":f(l),"data-invalid":f(g),id:Kt(s),htmlFor:V(s)})},getControlProps(){return e.element({...T.control.attrs,dir:a("dir"),role:"group","aria-disabled":u,"data-focus":f(l),"data-disabled":f(u),"data-invalid":f(g),"aria-invalid":le(g)})},getValueTextProps(){return e.element({...T.valueText.attrs,dir:a("dir"),"data-disabled":f(u),"data-invalid":f(g),"data-focus":f(l)})},getInputProps(){return e.input({...T.input.attrs,dir:a("dir"),name:a("name"),form:a("form"),id:V(s),role:"spinbutton",defaultValue:i("formattedValue"),pattern:a("pattern"),inputMode:a("inputMode"),"aria-invalid":le(g),"data-invalid":f(g),disabled:u,"data-disabled":f(u),readOnly:m,required:a("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":a("min"),"aria-valuemax":a("max"),"aria-valuenow":Number.isNaN(i("valueAsNumber"))?void 0:i("valueAsNumber"),"aria-valuetext":i("valueText"),onFocus(){r({type:"INPUT.FOCUS"})},onBlur(){r({type:"INPUT.BLUR"})},onInput(o){r({type:"INPUT.CHANGE",target:o.currentTarget,hint:"set"})},onBeforeInput(o){try{const{selectionStart:p,selectionEnd:w,value:P}=o.currentTarget,z=P.slice(0,p)+(o.data??"")+P.slice(w);i("parser").isValidPartialNumber(z)||o.preventDefault()}catch{}},onKeyDown(o){if(o.defaultPrevented||m||bt(o))return;const p=ht(o)*a("step"),P={ArrowUp(){r({type:"INPUT.ARROW_UP",step:p}),o.preventDefault()},ArrowDown(){r({type:"INPUT.ARROW_DOWN",step:p}),o.preventDefault()},Home(){ue(o)||(r({type:"INPUT.HOME"}),o.preventDefault())},End(){ue(o)||(r({type:"INPUT.END"}),o.preventDefault())},Enter(){r({type:"INPUT.ENTER"})}}[o.key];P==null||P(o)}})},getDecrementTriggerProps(){return e.button({...T.decrementTrigger.attrs,dir:a("dir"),id:at(s),disabled:R,"data-disabled":f(R),"aria-label":S.decrementLabel,type:"button",tabIndex:-1,"aria-controls":V(s),onPointerDown(o){var p;R||!oe(o)||(r({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:o.pointerType}),o.pointerType==="mouse"&&o.preventDefault(),o.pointerType==="touch"&&((p=o.currentTarget)==null||p.focus({preventScroll:!0})))},onPointerUp(o){r({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:o.pointerType})},onPointerLeave(){R||r({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return e.button({...T.incrementTrigger.attrs,dir:a("dir"),id:rt(s),disabled:N,"data-disabled":f(N),"aria-label":S.incrementLabel,type:"button",tabIndex:-1,"aria-controls":V(s),onPointerDown(o){var p;N||!oe(o)||(r({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:o.pointerType}),o.pointerType==="mouse"&&o.preventDefault(),o.pointerType==="touch"&&((p=o.currentTarget)==null||p.focus({preventScroll:!0})))},onPointerUp(o){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:o.pointerType})},onPointerLeave(o){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:o.pointerType})}})},getScrubberProps(){return e.element({...T.scrubber.attrs,dir:a("dir"),"data-disabled":f(u),id:Xt(s),role:"presentation",onMouseDown(o){if(u)return;const p=gt(o),P=yt(o.currentTarget).devicePixelRatio;p.x=p.x-G(7.5,P),p.y=p.y-G(7.5,P),r({type:"SCRUBBER.PRESS_DOWN",point:p}),o.preventDefault()},style:{cursor:u?void 0:"ew-resize"}})}}}function ln(t){if(!(!t||t.ownerDocument.activeElement!==t))try{const{selectionStart:e,selectionEnd:n,value:r}=t,a=r.substring(0,e),s=r.substring(n);return{start:e,end:n,value:r,beforeTxt:a,afterTxt:s}}catch{}}function un(t,e){if(!(!t||t.ownerDocument.activeElement!==t)){if(!e){t.setSelectionRange(t.value.length,t.value.length);return}try{const{value:n}=t,{beforeTxt:r="",afterTxt:a="",start:s}=e;let i=n.length;if(n.endsWith(a))i=n.length-a.length;else if(n.startsWith(r))i=r.length;else if(s!=null){const l=r[s-1],u=n.indexOf(l,s-1);u!==-1&&(i=u+1)}t.setSelectionRange(i,i)}catch{}}}var cn=(t,e={})=>new Intl.NumberFormat(t,e),dn=(t,e={})=>new nt(t,e),te=(t,e)=>{const{prop:n,computed:r}=e;return n("formatOptions")?r("parser").parse(String(t)):parseFloat(t)},x=(t,e)=>{const{prop:n,computed:r}=e;return Number.isNaN(t)?"":n("formatOptions")?r("formatter").format(t):t.toString()},{choose:mn,guards:pn,createMachine:fn}=vt(),{not:Pe,and:Ne}=pn,gn=fn({props({props:t}){return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!t.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",defaultValue:"",step:1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...t,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...t.translations}}},initialState(){return"idle"},context({prop:t,bindable:e,getComputed:n}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(r){var i;const a=n(),s=te(r,{computed:a,prop:t});(i=t("onValueChange"))==null||i({value:r,valueAsNumber:s})}})),hint:e(()=>({defaultValue:null})),scrubberCursorPoint:e(()=>({defaultValue:null,hash(r){return r?`x:${r.x}, y:${r.y}`:""}})),fieldsetDisabled:e(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:t})=>t("dir")==="rtl",valueAsNumber:({context:t,computed:e,prop:n})=>te(t.get("value"),{computed:e,prop:n}),formattedValue:({computed:t,prop:e})=>x(t("valueAsNumber"),{computed:t,prop:e}),isAtMin:({computed:t,prop:e})=>Pt(t("valueAsNumber"),e("min")),isAtMax:({computed:t,prop:e})=>Et(t("valueAsNumber"),e("max")),isOutOfRange:({computed:t,prop:e})=>!St(t("valueAsNumber"),e("min"),e("max")),isValueEmpty:({context:t})=>t.get("value")==="",isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled"),canIncrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMax"),canDecrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMin"),valueText:({prop:t,context:e})=>{var n,r;return(r=(n=t("translations")).valueText)==null?void 0:r.call(n,e.get("value"))},formatter:ce(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>cn(t,e)),parser:ce(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>dn(t,e))},watch({track:t,action:e,context:n,computed:r,prop:a}){t([()=>n.get("value"),()=>a("locale")],()=>{e(["syncInputElement"])}),t([()=>r("isOutOfRange")],()=>{e(["invokeOnInvalid"])}),t([()=>n.hash("scrubberCursorPoint")],()=>{e(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:Ne("clampValueOnBlur",Pe("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:Pe("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:mn([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:Ne("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:t})=>t("clampValueOnBlur"),spinOnPress:({prop:t})=>!!t("spinOnPress"),isInRange:({computed:t})=>!t("isOutOfRange"),isDecrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="decrement",isIncrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="increment",isTouchPointer:({event:t})=>t.pointerType==="touch"},effects:{waitForChangeDelay({send:t}){const e=setTimeout(()=>{t({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(e)},spinValue({send:t}){const e=setInterval(()=>{t({type:"SPIN"})},50);return()=>clearInterval(e)},trackFormControl({context:t,scope:e}){const n=D(e);return xt(n,{onFieldsetDisabledChange(r){t.set("fieldsetDisabled",r)},onFormReset(){t.set("value",t.initial("value"))}})},setupVirtualCursor({context:t,scope:e}){const n=t.get("scrubberCursorPoint");return nn(e,n)},preventTextSelection({scope:t}){return rn(t)},trackButtonDisabled({context:t,scope:e,send:n}){const r=t.get("hint"),a=tn(e,r);return Ot(a,{attributes:["disabled"],callback(){n({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:t,send:e,prop:n}){const r=D(t);if(!r||!t.isActiveElement(r)||!n("allowMouseWheel"))return;function a(s){s.preventDefault();const i=Math.sign(s.deltaY)*-1;i===1?e({type:"VALUE.INCREMENT"}):i===-1&&e({type:"VALUE.DECREMENT"})}return K(r,"wheel",a,{passive:!1})},activatePointerLock({scope:t}){if(!ze())return Ct(t.getDoc())},trackMousemove({scope:t,send:e,context:n,computed:r}){const a=t.getDoc();function s(l){const u=n.get("scrubberCursorPoint"),m=r("isRtl"),y=an(t,{point:u,isRtl:m,event:l});y.hint&&e({type:"SCRUBBER.POINTER_MOVE",hint:y.hint,point:y.point})}function i(){e({type:"SCRUBBER.POINTER_UP"})}return Tt(K(a,"mousemove",s,!1),K(a,"mouseup",i,!1))}},actions:{focusInput({scope:t,prop:e}){if(!e("focusInputOnChange"))return;const n=D(t);t.isActiveElement(n)||de(()=>n==null?void 0:n.focus({preventScroll:!0}))},increment({context:t,event:e,prop:n,computed:r}){let a=Rt(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(a=q(a,n("min"),n("max"))),t.set("value",x(a,{computed:r,prop:n}))},decrement({context:t,event:e,prop:n,computed:r}){let a=It(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(a=q(a,n("min"),n("max"))),t.set("value",x(a,{computed:r,prop:n}))},setClampedValue({context:t,prop:e,computed:n}){const r=q(n("valueAsNumber"),e("min"),e("max"));t.set("value",x(r,{computed:n,prop:e}))},setRawValue({context:t,event:e,prop:n,computed:r}){let a=te(e.value,{computed:r,prop:n});n("allowOverflow")||(a=q(a,n("min"),n("max"))),t.set("value",x(a,{computed:r,prop:n}))},setValue({context:t,event:e}){var r;const n=((r=e.target)==null?void 0:r.value)??e.value;t.set("value",n)},clearValue({context:t}){t.set("value","")},incrementToMax({context:t,prop:e,computed:n}){const r=x(e("max"),{computed:n,prop:e});t.set("value",r)},decrementToMin({context:t,prop:e,computed:n}){const r=x(e("min"),{computed:n,prop:e});t.set("value",r)},setHint({context:t,event:e}){t.set("hint",e.hint)},clearHint({context:t}){t.set("hint",null)},invokeOnFocus({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!0,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnBlur({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!1,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnInvalid({computed:t,prop:e,event:n}){var a;if(n.type==="INPUT.CHANGE")return;const r=t("valueAsNumber")>e("max")?"rangeOverflow":"rangeUnderflow";(a=e("onValueInvalid"))==null||a({reason:r,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},syncInputElement({context:t,event:e,computed:n,scope:r}){const a=e.type.endsWith("CHANGE")?t.get("value"):n("formattedValue"),s=D(r),i=ln(s);de(()=>{Nt(s,a),un(s,i)})},setFormattedValue({context:t,computed:e}){t.set("value",e("formattedValue"))},setCursorPoint({context:t,event:e}){t.set("scrubberCursorPoint",e.point)},clearCursorPoint({context:t}){t.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:t,scope:e}){const n=it(e),r=t.get("scrubberCursorPoint");!n||!r||(n.style.transform=`translate3d(${r.x}px, ${r.y}px, 0px)`)}}}});$t()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);const yn=t=>{const e=I.useId(),{getRootNode:n}=At(),{dir:r,locale:a}=_t(),s=Xe(),i={id:e,ids:{label:s==null?void 0:s.ids.label,input:s==null?void 0:s.ids.control},disabled:s==null?void 0:s.disabled,readOnly:s==null?void 0:s.readOnly,required:s==null?void 0:s.required,invalid:s==null?void 0:s.invalid,dir:r,locale:a,getRootNode:n,...t},l=Lt(gn,i);return on(l,Ft)},ot=I.forwardRef((t,e)=>{const[n,r]=Dt()(t,["allowMouseWheel","allowOverflow","clampValueOnBlur","defaultValue","disabled","focusInputOnChange","form","formatOptions","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","readOnly","required","spinOnPress","step","translations","value"]),a=yn(n),s=j(a.getRootProps(),r);return b.jsx(Ut,{value:a,children:b.jsx(Y.div,{...s,ref:e})})});ot.displayName="NumberInputRoot";const h=I.forwardRef(({children:t,defaultValue:e,disabled:n,invalid:r,max:a,min:s,name:i,onValueChange:l,readOnly:u,required:m,step:y,value:g,...N},R)=>b.jsx(ot,{clampValueOnBlur:!1,defaultValue:e,disabled:n,inputMode:"decimal",invalid:r,max:a,min:s,name:i,onValueChange:l,readOnly:u,ref:R,required:m,step:y,value:g,...N,children:t}));h.displayName="Quantity";h.__docgenInfo={description:"",methods:[],displayName:"Quantity",props:{defaultValue:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},invalid:{required:!1,tsType:{name:"boolean"},description:""},max:{required:!1,tsType:{name:"number"},description:""},min:{required:!1,tsType:{name:"number"},description:""},name:{required:!1,tsType:{name:"string"},description:""},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(detail: QuantityValueChangeDetail) => void",signature:{arguments:[{type:{name:"QuantityValueChangeDetail"},name:"detail"}],return:{name:"void"}}},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},step:{required:!1,tsType:{name:"number"},description:""},value:{required:!1,tsType:{name:"string"},description:""}},composes:["Omit"]};const ne={"quantity-control":"_quantity-control_1uc1m_2","quantity-control__decrement":"_quantity-control__decrement_1uc1m_8","quantity-control__increment":"_quantity-control__increment_1uc1m_12"},v=I.forwardRef(({children:t,className:e,...n},r)=>{const{decrement:a,getDecrementTriggerProps:s,getIncrementTriggerProps:i,increment:l,invalid:u}=Z(),m=s(),y=i();return b.jsxs(Ke,{className:ae(ne["quantity-control"],e),ref:r,...n,children:[b.jsx(me,{"aria-controls":m["aria-controls"],className:ne["quantity-control__decrement"],color:u?W.critical:W.primary,disabled:m.disabled,onClick:a,size:fe.sm,variant:pe.outline,children:b.jsx(ge,{name:ye.minus})}),t,b.jsx(me,{"aria-controls":y["aria-controls"],className:ne["quantity-control__increment"],color:u?W.critical:W.primary,disabled:y.disabled,onClick:l,size:fe.sm,variant:pe.outline,children:b.jsx(ge,{name:ye.plus})})]})});v.displayName="QuantityControl";v.__docgenInfo={description:"",methods:[],displayName:"QuantityControl",composes:["ComponentPropsWithRef"]};const bn={"quantity-input":"_quantity-input_718rf_2"},E=I.forwardRef(({className:t,...e},n)=>b.jsx(Je,{className:ae(bn["quantity-input"],t),ref:n,...e}));E.displayName="QuantityInput";E.__docgenInfo={description:"",methods:[],displayName:"QuantityInput",composes:["ComponentPropsWithRef"]};const hn={"quantity-label":"_quantity-label_159d1_2"},se=I.forwardRef(({children:t,className:e,...n},r)=>b.jsx(et,{className:ae(hn["quantity-label"],e),ref:r,...n,children:t}));se.displayName="QuantityLabel";se.__docgenInfo={description:"",methods:[],displayName:"QuantityLabel",composes:["ComponentPropsWithRef"]};const vn={argTypes:Mt(["defaultValue","name","onValueChange","required","value"]),component:h,subcomponents:{QuantityControl:v,QuantityInput:E,QuantityLabel:se},title:"ODS Components/Form elements/Quantity"},$={render:t=>c.createElement(h,{disabled:t.disabled,invalid:t.invalid,max:t.max,min:t.min,readOnly:t.readOnly,step:t.step},c.createElement(v,null,c.createElement(E,{placeholder:t.placeholder}))),argTypes:Qt({disabled:{table:{category:O.general},control:{type:"boolean"}},invalid:{table:{category:O.general},control:"boolean"},max:{table:{category:O.general},control:{type:"number"}},min:{table:{category:O.general},control:{type:"number"}},placeholder:{table:{category:O.general,type:{summary:"string"}},control:"text"},readOnly:{table:{category:O.general},control:"boolean"},step:{table:{category:O.general},control:{type:"number"}}})},A={tags:["!dev"],render:({})=>c.createElement(h,null,c.createElement(v,null,c.createElement(E,null)))},_={tags:["!dev"],render:({})=>c.createElement(h,{disabled:!0},c.createElement(v,null,c.createElement(E,null)))},L={tags:["!dev"],render:({})=>c.createElement(dt,null,c.createElement(mt,null,"Set a quantity:"),c.createElement(h,null,c.createElement(v,null,c.createElement(E,null))))},F={tags:["!dev"],render:({})=>c.createElement(h,{max:10},c.createElement(v,null,c.createElement(E,null)))},M={tags:["!dev"],render:({})=>c.createElement(h,{min:0},c.createElement(v,null,c.createElement(E,null)))},Q={tags:["!dev"],parameters:{layout:"centered"},render:({})=>c.createElement(h,{defaultValue:"0",min:0},c.createElement(v,null,c.createElement(E,null)))},U={tags:["!dev"],render:({})=>c.createElement(h,{readOnly:!0},c.createElement(v,null,c.createElement(E,null)))},B={tags:["!dev"],render:({})=>c.createElement(h,{step:10},c.createElement(v,null,c.createElement(E,null)))};var Ie,Re,Te;$.parameters={...$.parameters,docs:{...(Ie=$.parameters)==null?void 0:Ie.docs,source:{originalSource:`{
  render: (arg: DemoArg) => <Quantity disabled={arg.disabled} invalid={arg.invalid} max={arg.max} min={arg.min} readOnly={arg.readOnly} step={arg.step}>
      <QuantityControl>
        <QuantityInput placeholder={arg.placeholder} />
      </QuantityControl>
    </Quantity>,
  argTypes: orderControls({
    disabled: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: {
        type: 'boolean'
      }
    },
    invalid: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: 'boolean'
    },
    max: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: {
        type: 'number'
      }
    },
    min: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: {
        type: 'number'
      }
    },
    placeholder: {
      table: {
        category: CONTROL_CATEGORY.general,
        type: {
          summary: 'string'
        }
      },
      control: 'text'
    },
    readOnly: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: 'boolean'
    },
    step: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: {
        type: 'number'
      }
    }
  })
}`,...(Te=(Re=$.parameters)==null?void 0:Re.docs)==null?void 0:Te.source}}};var Ce,Oe,xe;A.parameters={...A.parameters,docs:{...(Ce=A.parameters)==null?void 0:Ce.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(xe=(Oe=A.parameters)==null?void 0:Oe.docs)==null?void 0:xe.source}}};var Se,we,Ve;_.parameters={..._.parameters,docs:{...(Se=_.parameters)==null?void 0:Se.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity disabled>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Ve=(we=_.parameters)==null?void 0:we.docs)==null?void 0:Ve.source}}};var De,$e,Ae;L.parameters={...L.parameters,docs:{...(De=L.parameters)==null?void 0:De.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <FormField>
      <FormFieldLabel>
        Set a quantity:
      </FormFieldLabel>

      <Quantity>
        <QuantityControl>
          <QuantityInput />
        </QuantityControl>
      </Quantity>
    </FormField>
}`,...(Ae=($e=L.parameters)==null?void 0:$e.docs)==null?void 0:Ae.source}}};var _e,Le,Fe;F.parameters={...F.parameters,docs:{...(_e=F.parameters)==null?void 0:_e.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity max={10}>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Fe=(Le=F.parameters)==null?void 0:Le.docs)==null?void 0:Fe.source}}};var Me,Qe,Ue;M.parameters={...M.parameters,docs:{...(Me=M.parameters)==null?void 0:Me.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity min={0}>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Ue=(Qe=M.parameters)==null?void 0:Qe.docs)==null?void 0:Ue.source}}};var Be,Ge,qe;Q.parameters={...Q.parameters,docs:{...(Be=Q.parameters)==null?void 0:Be.docs,source:{originalSource:`{
  tags: ['!dev'],
  parameters: {
    layout: 'centered'
  },
  render: ({}) => <Quantity defaultValue="0" min={0}>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(qe=(Ge=Q.parameters)==null?void 0:Ge.docs)==null?void 0:qe.source}}};var We,He,ke;U.parameters={...U.parameters,docs:{...(We=U.parameters)==null?void 0:We.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity readOnly>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(ke=(He=U.parameters)==null?void 0:He.docs)==null?void 0:ke.source}}};var je,Ye,Ze;B.parameters={...B.parameters,docs:{...(je=B.parameters)==null?void 0:je.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity step={10}>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Ze=(Ye=B.parameters)==null?void 0:Ye.docs)==null?void 0:Ze.source}}};const En=["Demo","Default","Disabled","InFormField","Max","Min","Overview","Readonly","Step"],Dn=Object.freeze(Object.defineProperty({__proto__:null,Default:A,Demo:$,Disabled:_,InFormField:L,Max:F,Min:M,Overview:Q,Readonly:U,Step:B,__namedExportsOrder:En,default:vn},Symbol.toStringTag,{value:"Module"}));export{A as D,L as I,F as M,Q as O,Dn as Q,U as R,B as S,_ as a,M as b};
