import{j as n}from"./jsx-runtime-VM66peLj.js";import{c as L}from"./index-CkQHsVsO.js";import{r as a}from"./index-D_CmzhJ4.js";import{B as S,d as g,c as I}from"./Button-CbWLwkmI.js";import{a as j}from"./colors-DSObuHxd.js";import{u as F}from"./FormFieldLabel-DjB85afw.js";import{I as x,a as p}from"./icon-name-BOrBmUKT.js";import{S as Z,d as $,c as R}from"./Spinner-BC3A9yP9.js";var f=(e=>(e.close="close",e.open="open",e))(f||{});Object.freeze(Object.values(f));var c=(e=>(e.email="email",e.number="number",e.password="password",e.search="search",e.text="text",e.time="time",e.url="url",e))(c||{});const ie=Object.freeze(Object.values(c));function m(e){return Array.isArray(e)?e.length>0:!!e||e===0}const G="_input_1p31i_2",K="_input__field_1p31i_35",J="_input__actions_1p31i_61",Q="_input__actions__loading_1p31i_66",o={input:G,"input--with-actions":"_input--with-actions_1p31i_32",input__field:K,input__actions:J,input__actions__loading:Q},C=a.forwardRef(({className:e,clearable:w=!1,id:E,invalid:q,loading:i=!1,maskOption:l={enable:!1,initialState:f.close},onClear:N,type:d=c.text,...t},A)=>{var V;const s=F(),r=a.useRef(null),[M,T]=a.useState(m(t.defaultValue)||m(t.value)),[_,B]=a.useState((l==null?void 0:l.initialState)===f.open),k=t.value!==void 0,b=q||(s==null?void 0:s.invalid);a.useImperativeHandle(A,()=>r.current,[r]),a.useEffect(()=>{var u;T(m((u=r.current)==null?void 0:u.value))},[(V=r.current)==null?void 0:V.value]);const h=a.useMemo(()=>w&&!i&&M,[w,M,i]),v=a.useMemo(()=>d===c.search&&!i,[i,d]),y=a.useMemo(()=>l.enable&&!i,[i,l.enable]),z=a.useMemo(()=>l.enable&&!_?c.password:d,[_,l.enable,d]),O=a.useMemo(()=>h||v||y||i,[h,v,y,i]);function W(u){t.onChange&&t.onChange(u),k||T(m(u.target.value))}function D(){N&&N(),r.current&&(Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(r.current,""),r.current.dispatchEvent(new Event("input",{bubbles:!0})),r.current.focus())}function H(){B(u=>!u)}return n.jsxs("div",{className:L(o.input,{[o["input--with-actions"]]:O},e),"data-disabled":t.disabled?!0:void 0,"data-invalid":b?!0:void 0,"data-readonly":t.readOnly?!0:void 0,children:[n.jsx("input",{"aria-invalid":b,"aria-describedby":t["aria-describedby"]||(s==null?void 0:s.ariaDescribedBy),className:o.input__field,"data-invalid":b?!0:void 0,id:E||(s==null?void 0:s.id),ref:r,type:z,...t,onChange:W}),O&&n.jsxs("div",{className:o.input__actions,children:[i&&n.jsx(Z,{className:o.input__actions__loading,color:t.disabled?R.neutral:R.primary,size:$.xs}),h&&n.jsx(S,{color:j.neutral,disabled:t.disabled||t.readOnly,onClick:D,size:I.xs,type:"button",variant:g.ghost,children:n.jsx(x,{name:p.xmark})}),y&&n.jsx(S,{color:j.primary,disabled:t.disabled,onClick:H,size:I.xs,type:"button",variant:g.ghost,children:n.jsx(x,{name:_?p.eye:p.eyeOff})}),v&&n.jsx(S,{color:j.primary,disabled:t.disabled||t.readOnly,size:I.xs,type:"submit",variant:g.ghost,children:n.jsx(x,{name:p.magnifyingGlass})})]})]})});C.displayName="Input";C.__docgenInfo={description:"",methods:[],displayName:"Input",props:{clearable:{required:!1,tsType:{name:"boolean"},description:"Whether the clear button is displayed.",defaultValue:{value:"false",computed:!1}},invalid:{required:!1,tsType:{name:"boolean"},description:"Whether the component is in error state."},loading:{required:!1,tsType:{name:"boolean"},description:"Whether the component is in loading state.",defaultValue:{value:"false",computed:!1}},maskOption:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  enable: boolean,
  initialState?: InputMaskState,
}`,signature:{properties:[{key:"enable",value:{name:"boolean",required:!0}},{key:"initialState",value:{name:"literal",value:"`${INPUT_MASK_STATE}`",required:!1}}]}},description:"Whether the masked display is active and its initial state.",defaultValue:{value:"{ enable: false, initialState: INPUT_MASK_STATE.close }",computed:!1}},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Callback fired when the input value is cleared."},type:{required:!1,tsType:{name:"literal",value:"`${INPUT_TYPE}`"},description:"The input type.",defaultValue:{value:"INPUT_TYPE.text",computed:!0}}},composes:["ComponentPropsWithRef"]};export{C as I,ie as a,c as b};
