import{r as S,e as c}from"./index-D_CmzhJ4.js";import{u as Ze,c as ct,F as mt}from"./FormFieldLabel-DjB85afw.js";import{j as N}from"./jsx-runtime-VM66peLj.js";import{c as dt,Q as ne,R as re,W as g,T as pt,ag as gt,g as ft,ah as W,ai as se,aj as oe,ak as yt,al as bt,am as le,an as ht,ao as ue,ap as vt,aq as Et,r as ce,ac as Nt,ar as k,as as Pt,at as Tt,n as It,l as K,Z as ze,au as Rt,av as Ct,aa as Ot,aw as xt,K as St,ax as Dt,ay as wt,u as Vt,U as _t,L as At,V as $t,a as Ft}from"./use-locale-context-BQVaQ0H3.js";import{u as Ke}from"./use-field-context-A_pa20cf.js";import{c as j}from"./index-CkQHsVsO.js";import{B as me,d as de,c as pe}from"./Button-CbWLwkmI.js";import{a as H}from"./colors-DSObuHxd.js";import{I as ge,a as fe}from"./icon-name-BOrBmUKT.js";import{e as Lt,o as Mt,C as O}from"./controls-BtiQQn1l.js";const[Ut,ae]=dt({name:"NumberInputContext",hookName:"useNumberInputContext",providerName:"<NumberInputProvider />"}),Xe=S.forwardRef((t,e)=>{const n=ae(),r=ne(n.getControlProps(),t);return N.jsx(re.div,{...r,ref:e})});Xe.displayName="NumberInputControl";const Je=S.forwardRef((t,e)=>{const n=ae(),r=ne(n.getInputProps(),t),a=Ke();return N.jsx(re.input,{"aria-describedby":a==null?void 0:a.ariaDescribedby,...r,ref:e})});Je.displayName="NumberInputInput";let X=new Map,te=!1;try{te=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let Y=!1;try{Y=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const et={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class Qt{format(e){let n="";if(!te&&this.options.signDisplay!=null?n=Bt(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!Y){var r;let{unit:a,unitDisplay:i="short",locale:s}=this.resolvedOptions();if(!a)return n;let l=(r=et[a])===null||r===void 0?void 0:r[i];n+=l[s]||l.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),a=this.numberFormatter.formatToParts(n);return[...r.map(i=>({...i,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...a.map(i=>({...i,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!te&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!Y&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=qt(e,n),this.options=n}}function qt(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!Y){var r;let{unit:s,unitDisplay:l="short"}=e;if(!s)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=et[s])===null||r===void 0)&&r[l]))throw new Error(`Unsupported unit ${s} with unitDisplay = ${l}`);e={...e,style:"decimal"}}let a=t+(e?Object.entries(e).sort((s,l)=>s[0]<l[0]?-1:1).join():"");if(X.has(a))return X.get(a);let i=new Intl.NumberFormat(t,e);return X.set(a,i),i}function Bt(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let r=!1;if(e==="always"?r=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let a=t.format(-n),i=t.format(n),s=a.replace(i,"").replace(/\u200e|\u061C/,"");return[...s].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),a.replace(i,"!!!").replace(s,"+").replace("!!!",i)}else return t.format(n)}}const Gt=new RegExp("^.*\\(.*\\).*$"),Wt=["latn","arab","hanidec","deva","beng"];class tt{parse(e){return J(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,r){return J(this.locale,this.options,e).isValidPartialNumber(e,n,r)}getNumberingSystem(e){return J(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const ye=new Map;function J(t,e,n){let r=be(t,e);if(!t.includes("-nu-")&&!r.isValidPartialNumber(n)){for(let a of Wt)if(a!==r.options.numberingSystem){let i=be(t+(t.includes("-u-")?"-nu-":"-u-nu-")+a,e);if(i.isValidPartialNumber(n))return i}}return r}function be(t,e){let n=t+(e?Object.entries(e).sort((a,i)=>a[0]<i[0]?-1:1).join():""),r=ye.get(n);return r||(r=new kt(t,e),ye.set(n,r)),r}class kt{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=w(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=n.indexOf("-");n=n.replace("-","");let l=n.indexOf(".");l===-1&&(l=n.length),n=n.replace(".",""),l-2===0?n=`0.${n}`:l-2===-1?n=`0.0${n}`:l-2===-2?n="0.00":n=`${n.slice(0,l-2)}.${n.slice(l-2)}`,s>-1&&(n=`-${n}`)}let r=n?+n:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var a,i;let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(((a=this.options.minimumFractionDigits)!==null&&a!==void 0?a:0)+2,20),maximumFractionDigits:Math.min(((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)+2,20)};return new tt(this.locale,s).parse(new Qt(this.locale,s).format(r))}return this.options.currencySign==="accounting"&&Gt.test(e)&&(r=-1*r),r}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=w(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&this.symbols.group&&(e=w(e," ",this.symbols.group),e=w(e,/\u00A0/g,this.symbols.group)),e}isValidPartialNumber(e,n=-1/0,r=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&r>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=w(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,n.roundingIncrement!==1&&n.roundingIncrement!=null&&(n.maximumFractionDigits==null&&n.minimumFractionDigits==null?(n.maximumFractionDigits=0,n.minimumFractionDigits=0):n.maximumFractionDigits==null?n.maximumFractionDigits=n.minimumFractionDigits:n.minimumFractionDigits==null&&(n.minimumFractionDigits=n.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=jt(e,this.formatter,this.options,n);var r,a;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((a=this.options.maximumFractionDigits)!==null&&a!==void 0?a:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const he=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),Ht=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function jt(t,e,n,r){var a,i,s,l;let u=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),d=u.formatToParts(-10000.111),y=u.formatToParts(10000.111),f=Ht.map(m=>u.formatToParts(m));var P;let T=(P=(a=d.find(m=>m.type==="minusSign"))===null||a===void 0?void 0:a.value)!==null&&P!==void 0?P:"-",I=(i=y.find(m=>m.type==="plusSign"))===null||i===void 0?void 0:i.value;!I&&((r==null?void 0:r.signDisplay)==="exceptZero"||(r==null?void 0:r.signDisplay)==="always")&&(I="+");let p=(s=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(m=>m.type==="decimal"))===null||s===void 0?void 0:s.value,D=(l=d.find(m=>m.type==="group"))===null||l===void 0?void 0:l.value,E=d.filter(m=>!he.has(m.type)).map(m=>ve(m.value)),Z=f.flatMap(m=>m.filter(C=>!he.has(C.type)).map(C=>ve(C.value))),z=[...new Set([...E,...Z])].sort((m,C)=>C.length-m.length),ot=z.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${z.join("|")}|[\\p{White_Space}]`,"gu"),ie=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),lt=new Map(ie.map((m,C)=>[m,C])),ut=new RegExp(`[${ie.join("")}]`,"g");return{minusSign:T,plusSign:I,decimal:p,group:D,literals:ot,numeral:ut,index:m=>String(lt.get(m))}}function w(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function ve(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Yt=pt("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),R=Yt.build(),Zt=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`number-input:${t.id}`},_=t=>{var e;return((e=t.ids)==null?void 0:e.input)??`number-input:${t.id}:input`},nt=t=>{var e;return((e=t.ids)==null?void 0:e.incrementTrigger)??`number-input:${t.id}:inc`},rt=t=>{var e;return((e=t.ids)==null?void 0:e.decrementTrigger)??`number-input:${t.id}:dec`},zt=t=>{var e;return((e=t.ids)==null?void 0:e.scrubber)??`number-input:${t.id}:scrubber`},at=t=>`number-input:${t.id}:cursor`,Kt=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`number-input:${t.id}:label`},A=t=>t.getById(_(t)),Xt=t=>t.getById(nt(t)),Jt=t=>t.getById(rt(t)),it=t=>t.getDoc().getElementById(at(t)),en=(t,e)=>{let n=null;return e==="increment"&&(n=Xt(t)),e==="decrement"&&(n=Jt(t)),n},tn=(t,e)=>{if(!ze())return an(t,e),()=>{var n;(n=it(t))==null||n.remove()}},nn=t=>{const e=t.getDoc(),n=e.documentElement,r=e.body;return r.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{r.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),r.style.length||r.removeAttribute("style")}},rn=(t,e)=>{const{point:n,isRtl:r,event:a}=e,i=t.getWin(),s=W(a.movementX,i.devicePixelRatio),l=W(a.movementY,i.devicePixelRatio);let u=s>0?"increment":s<0?"decrement":null;r&&u==="increment"&&(u="decrement"),r&&u==="decrement"&&(u="increment");const d={x:n.x+s,y:n.y+l},y=i.innerWidth,f=W(7.5,i.devicePixelRatio);return d.x=Dt(d.x+f,y)-f,{hint:u,point:d}},an=(t,e)=>{const n=t.getDoc(),r=n.createElement("div");r.className="scrubber--cursor",r.id=at(t),Object.assign(r.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:wt,transform:e?`translate3d(${e.x}px, ${e.y}px, 0px)`:void 0,willChange:"transform"}),r.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,n.body.appendChild(r)};function sn(t,e){const{state:n,send:r,prop:a,scope:i,computed:s}=t,l=n.hasTag("focus"),u=s("isDisabled"),d=a("readOnly"),y=s("isValueEmpty"),f=s("isOutOfRange")||!!a("invalid"),P=u||!s("canIncrement")||d,T=u||!s("canDecrement")||d,I=a("translations");return{focused:l,invalid:f,empty:y,value:s("formattedValue"),valueAsNumber:s("valueAsNumber"),setValue(o){r({type:"VALUE.SET",value:o})},clearValue(){r({type:"VALUE.CLEAR"})},increment(){r({type:"VALUE.INCREMENT"})},decrement(){r({type:"VALUE.DECREMENT"})},setToMax(){r({type:"VALUE.SET",value:a("max")})},setToMin(){r({type:"VALUE.SET",value:a("min")})},focus(){var o;(o=A(i))==null||o.focus()},getRootProps(){return e.element({id:Zt(i),...R.root.attrs,dir:a("dir"),"data-disabled":g(u),"data-focus":g(l),"data-invalid":g(f)})},getLabelProps(){return e.label({...R.label.attrs,dir:a("dir"),"data-disabled":g(u),"data-focus":g(l),"data-invalid":g(f),id:Kt(i),htmlFor:_(i)})},getControlProps(){return e.element({...R.control.attrs,dir:a("dir"),role:"group","aria-disabled":u,"data-focus":g(l),"data-disabled":g(u),"data-invalid":g(f),"aria-invalid":oe(f)})},getValueTextProps(){return e.element({...R.valueText.attrs,dir:a("dir"),"data-disabled":g(u),"data-invalid":g(f),"data-focus":g(l)})},getInputProps(){return e.input({...R.input.attrs,dir:a("dir"),name:a("name"),form:a("form"),id:_(i),role:"spinbutton",defaultValue:s("formattedValue"),pattern:a("pattern"),inputMode:a("inputMode"),"aria-invalid":oe(f),"data-invalid":g(f),disabled:u,"data-disabled":g(u),readOnly:d,required:a("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":a("min"),"aria-valuemax":a("max"),"aria-valuenow":Number.isNaN(s("valueAsNumber"))?void 0:s("valueAsNumber"),"aria-valuetext":s("valueText"),onFocus(){r({type:"INPUT.FOCUS"})},onBlur(){r({type:"INPUT.BLUR"})},onInput(o){r({type:"INPUT.CHANGE",target:o.currentTarget,hint:"set"})},onBeforeInput(o){try{const{selectionStart:p,selectionEnd:D,value:E}=o.currentTarget,Z=E.slice(0,p)+(o.data??"")+E.slice(D);s("parser").isValidPartialNumber(Z)||o.preventDefault()}catch{}},onKeyDown(o){if(o.defaultPrevented||d||yt(o))return;const p=bt(o)*a("step"),E={ArrowUp(){r({type:"INPUT.ARROW_UP",step:p}),o.preventDefault()},ArrowDown(){r({type:"INPUT.ARROW_DOWN",step:p}),o.preventDefault()},Home(){le(o)||(r({type:"INPUT.HOME"}),o.preventDefault())},End(){le(o)||(r({type:"INPUT.END"}),o.preventDefault())},Enter(){r({type:"INPUT.ENTER"})}}[o.key];E==null||E(o)}})},getDecrementTriggerProps(){return e.button({...R.decrementTrigger.attrs,dir:a("dir"),id:rt(i),disabled:T,"data-disabled":g(T),"aria-label":I.decrementLabel,type:"button",tabIndex:-1,"aria-controls":_(i),onPointerDown(o){var p;T||!se(o)||(r({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:o.pointerType}),o.pointerType==="mouse"&&o.preventDefault(),o.pointerType==="touch"&&((p=o.currentTarget)==null||p.focus({preventScroll:!0})))},onPointerUp(o){r({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:o.pointerType})},onPointerLeave(){T||r({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return e.button({...R.incrementTrigger.attrs,dir:a("dir"),id:nt(i),disabled:P,"data-disabled":g(P),"aria-label":I.incrementLabel,type:"button",tabIndex:-1,"aria-controls":_(i),onPointerDown(o){var p;P||!se(o)||(r({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:o.pointerType}),o.pointerType==="mouse"&&o.preventDefault(),o.pointerType==="touch"&&((p=o.currentTarget)==null||p.focus({preventScroll:!0})))},onPointerUp(o){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:o.pointerType})},onPointerLeave(o){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:o.pointerType})}})},getScrubberProps(){return e.element({...R.scrubber.attrs,dir:a("dir"),"data-disabled":g(u),id:zt(i),role:"presentation",onMouseDown(o){if(u)return;const p=gt(o),E=ft(o.currentTarget).devicePixelRatio;p.x=p.x-W(7.5,E),p.y=p.y-W(7.5,E),r({type:"SCRUBBER.PRESS_DOWN",point:p}),o.preventDefault()},style:{cursor:u?void 0:"ew-resize"}})}}}function on(t){if(!(!t||t.ownerDocument.activeElement!==t))try{const{selectionStart:e,selectionEnd:n,value:r}=t,a=r.substring(0,e),i=r.substring(n);return{start:e,end:n,value:r,beforeTxt:a,afterTxt:i}}catch{}}function ln(t,e){if(!(!t||t.ownerDocument.activeElement!==t)){if(!e){t.setSelectionRange(t.value.length,t.value.length);return}try{const{value:n}=t,{beforeTxt:r="",afterTxt:a="",start:i}=e;let s=n.length;if(n.endsWith(a))s=n.length-a.length;else if(n.startsWith(r))s=r.length;else if(i!=null){const l=r[i-1],u=n.indexOf(l,i-1);u!==-1&&(s=u+1)}t.setSelectionRange(s,s)}catch{}}}var un=(t,e={})=>new Intl.NumberFormat(t,e),cn=(t,e={})=>new tt(t,e),ee=(t,e)=>{const{prop:n,computed:r}=e;return n("formatOptions")?r("parser").parse(String(t)):parseFloat(t)},x=(t,e)=>{const{prop:n,computed:r}=e;return Number.isNaN(t)?"":n("formatOptions")?r("formatter").format(t):t.toString()},mn=(t,e)=>{let n=t!==void 0&&!Number.isNaN(t)?t:1;return(e==null?void 0:e.style)==="percent"&&(t===void 0||Number.isNaN(t))&&(n=.01),n},{choose:dn,guards:pn,createMachine:gn}=ht(),{not:Ee,and:Ne}=pn,fn=gn({props({props:t}){const e=mn(t.step,t.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!t.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",defaultValue:"",step:e,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...t,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...t.translations}}},initialState(){return"idle"},context({prop:t,bindable:e,getComputed:n}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(r){var s;const a=n(),i=ee(r,{computed:a,prop:t});(s=t("onValueChange"))==null||s({value:r,valueAsNumber:i})}})),hint:e(()=>({defaultValue:null})),scrubberCursorPoint:e(()=>({defaultValue:null,hash(r){return r?`x:${r.x}, y:${r.y}`:""}})),fieldsetDisabled:e(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:t})=>t("dir")==="rtl",valueAsNumber:({context:t,computed:e,prop:n})=>ee(t.get("value"),{computed:e,prop:n}),formattedValue:({computed:t,prop:e})=>x(t("valueAsNumber"),{computed:t,prop:e}),isAtMin:({computed:t,prop:e})=>Et(t("valueAsNumber"),e("min")),isAtMax:({computed:t,prop:e})=>vt(t("valueAsNumber"),e("max")),isOutOfRange:({computed:t,prop:e})=>!xt(t("valueAsNumber"),e("min"),e("max")),isValueEmpty:({context:t})=>t.get("value")==="",isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled"),canIncrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMax"),canDecrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMin"),valueText:({prop:t,context:e})=>{var n,r;return(r=(n=t("translations")).valueText)==null?void 0:r.call(n,e.get("value"))},formatter:ue(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>un(t,e)),parser:ue(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>cn(t,e))},watch({track:t,action:e,context:n,computed:r,prop:a}){t([()=>n.get("value"),()=>a("locale")],()=>{e(["syncInputElement"])}),t([()=>r("isOutOfRange")],()=>{e(["invokeOnInvalid"])}),t([()=>n.hash("scrubberCursorPoint")],()=>{e(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:Ne("clampValueOnBlur",Ee("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:Ee("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:dn([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:Ne("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:t})=>t("clampValueOnBlur"),spinOnPress:({prop:t})=>!!t("spinOnPress"),isInRange:({computed:t})=>!t("isOutOfRange"),isDecrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="decrement",isIncrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="increment",isTouchPointer:({event:t})=>t.pointerType==="touch"},effects:{waitForChangeDelay({send:t}){const e=setTimeout(()=>{t({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(e)},spinValue({send:t}){const e=setInterval(()=>{t({type:"SPIN"})},50);return()=>clearInterval(e)},trackFormControl({context:t,scope:e}){const n=A(e);return Ot(n,{onFieldsetDisabledChange(r){t.set("fieldsetDisabled",r)},onFormReset(){t.set("value",t.initial("value"))}})},setupVirtualCursor({context:t,scope:e}){const n=t.get("scrubberCursorPoint");return tn(e,n)},preventTextSelection({scope:t}){return nn(t)},trackButtonDisabled({context:t,scope:e,send:n}){const r=t.get("hint"),a=en(e,r);return Ct(a,{attributes:["disabled"],callback(){n({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:t,send:e,prop:n}){const r=A(t);if(!r||!t.isActiveElement(r)||!n("allowMouseWheel"))return;function a(i){i.preventDefault();const s=Math.sign(i.deltaY)*-1;s===1?e({type:"VALUE.INCREMENT"}):s===-1&&e({type:"VALUE.DECREMENT"})}return K(r,"wheel",a,{passive:!1})},activatePointerLock({scope:t}){if(!ze())return Rt(t.getDoc())},trackMousemove({scope:t,send:e,context:n,computed:r}){const a=t.getDoc();function i(l){const u=n.get("scrubberCursorPoint"),d=r("isRtl"),y=rn(t,{point:u,isRtl:d,event:l});y.hint&&e({type:"SCRUBBER.POINTER_MOVE",hint:y.hint,point:y.point})}function s(){e({type:"SCRUBBER.POINTER_UP"})}return It(K(a,"mousemove",i,!1),K(a,"mouseup",s,!1))}},actions:{focusInput({scope:t,prop:e}){if(!e("focusInputOnChange"))return;const n=A(t);t.isActiveElement(n)||ce(()=>n==null?void 0:n.focus({preventScroll:!0}))},increment({context:t,event:e,prop:n,computed:r}){let a=Tt(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(a=k(a,n("min"),n("max"))),t.set("value",x(a,{computed:r,prop:n}))},decrement({context:t,event:e,prop:n,computed:r}){let a=Pt(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(a=k(a,n("min"),n("max"))),t.set("value",x(a,{computed:r,prop:n}))},setClampedValue({context:t,prop:e,computed:n}){const r=k(n("valueAsNumber"),e("min"),e("max"));t.set("value",x(r,{computed:n,prop:e}))},setRawValue({context:t,event:e,prop:n,computed:r}){let a=ee(e.value,{computed:r,prop:n});n("allowOverflow")||(a=k(a,n("min"),n("max"))),t.set("value",x(a,{computed:r,prop:n}))},setValue({context:t,event:e}){var r;const n=((r=e.target)==null?void 0:r.value)??e.value;t.set("value",n)},clearValue({context:t}){t.set("value","")},incrementToMax({context:t,prop:e,computed:n}){const r=x(e("max"),{computed:n,prop:e});t.set("value",r)},decrementToMin({context:t,prop:e,computed:n}){const r=x(e("min"),{computed:n,prop:e});t.set("value",r)},setHint({context:t,event:e}){t.set("hint",e.hint)},clearHint({context:t}){t.set("hint",null)},invokeOnFocus({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!0,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnBlur({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!1,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnInvalid({computed:t,prop:e,event:n}){var a;if(n.type==="INPUT.CHANGE")return;const r=t("valueAsNumber")>e("max")?"rangeOverflow":"rangeUnderflow";(a=e("onValueInvalid"))==null||a({reason:r,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},syncInputElement({context:t,event:e,computed:n,scope:r}){const a=e.type.endsWith("CHANGE")?t.get("value"):n("formattedValue"),i=A(r),s=on(i);ce(()=>{Nt(i,a),ln(i,s)})},setFormattedValue({context:t,computed:e}){t.set("value",e("formattedValue"))},setCursorPoint({context:t,event:e}){t.set("scrubberCursorPoint",e.point)},clearCursorPoint({context:t}){t.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:t,scope:e}){const n=it(e),r=t.get("scrubberCursorPoint");!n||!r||(n.style.transform=`translate3d(${r.x}px, ${r.y}px, 0px)`)}}}});St()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);const yn=t=>{const e=S.useId(),{getRootNode:n}=Vt(),{dir:r,locale:a}=_t(),i=Ke(),s={id:e,ids:{label:i==null?void 0:i.ids.label,input:i==null?void 0:i.ids.control},disabled:i==null?void 0:i.disabled,readOnly:i==null?void 0:i.readOnly,required:i==null?void 0:i.required,invalid:i==null?void 0:i.invalid,dir:r,locale:a,getRootNode:n,...t},l=At(fn,s);return sn(l,$t)},st=S.forwardRef((t,e)=>{const[n,r]=Ft()(t,["allowMouseWheel","allowOverflow","clampValueOnBlur","defaultValue","disabled","focusInputOnChange","form","formatOptions","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","readOnly","required","spinOnPress","step","translations","value"]),a=yn(n),i=ne(a.getRootProps(),r);return N.jsx(Ut,{value:a,children:N.jsx(re.div,{...i,ref:e})})});st.displayName="NumberInputRoot";const b=S.forwardRef(({children:t,defaultValue:e,disabled:n,id:r,invalid:a,max:i,min:s,name:l,onValueChange:u,readOnly:d,required:y,step:f,value:P,...T},I)=>{const o=Ze();return N.jsx(st,{clampValueOnBlur:!1,defaultValue:e,disabled:n,id:r||(o==null?void 0:o.id),inputMode:"decimal",invalid:a||(o==null?void 0:o.invalid),max:i,min:s,name:l,onValueChange:u,readOnly:d,ref:I,required:y,step:f,value:P,...T,children:t})});b.displayName="Quantity";b.__docgenInfo={description:"",methods:[],displayName:"Quantity",props:{defaultValue:{required:!1,tsType:{name:"string"},description:"The initial quantity value. Use when you don't need to control the value of the quantity."},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the component is disabled."},invalid:{required:!1,tsType:{name:"boolean"},description:"Whether the component is in error state."},max:{required:!1,tsType:{name:"number"},description:"The maximum quantity that can be selected."},min:{required:!1,tsType:{name:"number"},description:"The minimum quantity that can be selected."},name:{required:!1,tsType:{name:"string"},description:"The name of the form element. Useful for form submission."},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(detail: QuantityValueChangeDetail) => void",signature:{arguments:[{type:{name:"QuantityValueChangeDetail"},name:"detail"}],return:{name:"void"}}},description:"Callback fired when the value changes."},readOnly:{required:!1,tsType:{name:"boolean"},description:"Whether the component is readonly."},required:{required:!1,tsType:{name:"boolean"},description:"Whether the component is required."},step:{required:!1,tsType:{name:"number"},description:"The amount to increment or decrement the value by."},value:{required:!1,tsType:{name:"string"},description:"The controlled quantity value."}},composes:["Omit"]};const V={"quantity-control":"_quantity-control_7aeg8_2","quantity-control__decrement":"_quantity-control__decrement_7aeg8_8","quantity-control__decrement--invalid":"_quantity-control__decrement--invalid_7aeg8_12","quantity-control__increment":"_quantity-control__increment_7aeg8_15","quantity-control__increment--invalid":"_quantity-control__increment--invalid_7aeg8_19"},h=S.forwardRef(({children:t,className:e,...n},r)=>{const{decrement:a,getDecrementTriggerProps:i,getIncrementTriggerProps:s,increment:l,invalid:u}=ae(),d=i(),y=s();return N.jsxs(Xe,{className:j(V["quantity-control"],e),ref:r,...n,children:[N.jsx(me,{"aria-controls":d["aria-controls"],className:j(V["quantity-control__decrement"],{[V["quantity-control__decrement--invalid"]]:u}),color:u?H.critical:H.primary,disabled:d.disabled,onClick:a,size:pe.sm,variant:de.outline,children:N.jsx(ge,{name:fe.minus})}),t,N.jsx(me,{"aria-controls":y["aria-controls"],className:j(V["quantity-control__increment"],{[V["quantity-control__increment--invalid"]]:u}),color:u?H.critical:H.primary,disabled:y.disabled,onClick:l,size:pe.sm,variant:de.outline,children:N.jsx(ge,{name:fe.plus})})]})});h.displayName="QuantityControl";h.__docgenInfo={description:"",methods:[],displayName:"QuantityControl",composes:["ComponentPropsWithRef"]};const bn={"quantity-input":"_quantity-input_cpyn3_2"},v=S.forwardRef(({className:t,id:e,...n},r)=>{const a=Ze();return N.jsx(Je,{"aria-describedby":n["aria-describedby"]||(a==null?void 0:a.ariaDescribedBy),className:j(bn["quantity-input"],t),id:e||(a==null?void 0:a.id),ref:r,...n})});v.displayName="QuantityInput";v.__docgenInfo={description:"",methods:[],displayName:"QuantityInput",composes:["ComponentPropsWithRef"]};const hn={argTypes:Lt(["defaultValue","name","onValueChange","required","value"]),component:b,subcomponents:{QuantityControl:h,QuantityInput:v},title:"React Components/Quantity"},$={render:t=>c.createElement(b,{disabled:t.disabled,invalid:t.invalid,max:t.max,min:t.min,readOnly:t.readOnly,step:t.step},c.createElement(h,null,c.createElement(v,{placeholder:t.placeholder}))),argTypes:Mt({disabled:{table:{category:O.general},control:{type:"boolean"}},invalid:{table:{category:O.general},control:"boolean"},max:{table:{category:O.general},control:{type:"number"}},min:{table:{category:O.general},control:{type:"number"}},placeholder:{table:{category:O.general,type:{summary:"string"}},control:"text"},readOnly:{table:{category:O.general},control:"boolean"},step:{table:{category:O.general},control:{type:"number"}}})},F={tags:["!dev"],render:({})=>c.createElement(b,null,c.createElement(h,null,c.createElement(v,null)))},L={tags:["!dev"],render:({})=>c.createElement(b,{disabled:!0},c.createElement(h,null,c.createElement(v,null)))},M={tags:["!dev"],render:({})=>c.createElement(ct,null,c.createElement(mt,null,"Set a quantity:"),c.createElement(b,null,c.createElement(h,null,c.createElement(v,null))))},U={tags:["!dev"],render:({})=>c.createElement(b,{max:10},c.createElement(h,null,c.createElement(v,null)))},Q={tags:["!dev"],render:({})=>c.createElement(b,{min:0},c.createElement(h,null,c.createElement(v,null)))},q={tags:["!dev"],parameters:{layout:"centered"},render:({})=>c.createElement(b,{defaultValue:"0",min:0},c.createElement(h,null,c.createElement(v,null)))},B={tags:["!dev"],render:({})=>c.createElement(b,{readOnly:!0},c.createElement(h,null,c.createElement(v,null)))},G={tags:["!dev"],render:({})=>c.createElement(b,{step:10},c.createElement(h,null,c.createElement(v,null)))};var Pe,Te,Ie;$.parameters={...$.parameters,docs:{...(Pe=$.parameters)==null?void 0:Pe.docs,source:{originalSource:`{
  render: (arg: DemoArg) => <Quantity disabled={arg.disabled} invalid={arg.invalid} max={arg.max} min={arg.min} readOnly={arg.readOnly} step={arg.step}>
      <QuantityControl>
        <QuantityInput placeholder={arg.placeholder} />
      </QuantityControl>
    </Quantity>,
  argTypes: orderControls({
    disabled: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: {
        type: 'boolean'
      }
    },
    invalid: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: 'boolean'
    },
    max: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: {
        type: 'number'
      }
    },
    min: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: {
        type: 'number'
      }
    },
    placeholder: {
      table: {
        category: CONTROL_CATEGORY.general,
        type: {
          summary: 'string'
        }
      },
      control: 'text'
    },
    readOnly: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: 'boolean'
    },
    step: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: {
        type: 'number'
      }
    }
  })
}`,...(Ie=(Te=$.parameters)==null?void 0:Te.docs)==null?void 0:Ie.source}}};var Re,Ce,Oe;F.parameters={...F.parameters,docs:{...(Re=F.parameters)==null?void 0:Re.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Oe=(Ce=F.parameters)==null?void 0:Ce.docs)==null?void 0:Oe.source}}};var xe,Se,De;L.parameters={...L.parameters,docs:{...(xe=L.parameters)==null?void 0:xe.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity disabled>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(De=(Se=L.parameters)==null?void 0:Se.docs)==null?void 0:De.source}}};var we,Ve,_e;M.parameters={...M.parameters,docs:{...(we=M.parameters)==null?void 0:we.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <FormField>
      <FormFieldLabel>
        Set a quantity:
      </FormFieldLabel>

      <Quantity>
        <QuantityControl>
          <QuantityInput />
        </QuantityControl>
      </Quantity>
    </FormField>
}`,...(_e=(Ve=M.parameters)==null?void 0:Ve.docs)==null?void 0:_e.source}}};var Ae,$e,Fe;U.parameters={...U.parameters,docs:{...(Ae=U.parameters)==null?void 0:Ae.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity max={10}>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Fe=($e=U.parameters)==null?void 0:$e.docs)==null?void 0:Fe.source}}};var Le,Me,Ue;Q.parameters={...Q.parameters,docs:{...(Le=Q.parameters)==null?void 0:Le.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity min={0}>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Ue=(Me=Q.parameters)==null?void 0:Me.docs)==null?void 0:Ue.source}}};var Qe,qe,Be;q.parameters={...q.parameters,docs:{...(Qe=q.parameters)==null?void 0:Qe.docs,source:{originalSource:`{
  tags: ['!dev'],
  parameters: {
    layout: 'centered'
  },
  render: ({}) => <Quantity defaultValue="0" min={0}>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Be=(qe=q.parameters)==null?void 0:qe.docs)==null?void 0:Be.source}}};var Ge,We,ke;B.parameters={...B.parameters,docs:{...(Ge=B.parameters)==null?void 0:Ge.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity readOnly>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(ke=(We=B.parameters)==null?void 0:We.docs)==null?void 0:ke.source}}};var He,je,Ye;G.parameters={...G.parameters,docs:{...(He=G.parameters)==null?void 0:He.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity step={10}>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Ye=(je=G.parameters)==null?void 0:je.docs)==null?void 0:Ye.source}}};const vn=["Demo","Default","Disabled","InFormField","Max","Min","Overview","Readonly","Step"],wn=Object.freeze(Object.defineProperty({__proto__:null,Default:F,Demo:$,Disabled:L,InFormField:M,Max:U,Min:Q,Overview:q,Readonly:B,Step:G,__namedExportsOrder:vn,default:hn},Symbol.toStringTag,{value:"Module"}));export{F as D,M as I,U as M,q as O,wn as Q,B as R,G as S,L as a,Q as b};
