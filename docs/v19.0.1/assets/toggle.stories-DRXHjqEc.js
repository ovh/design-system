import{$ as he,S as me}from"./FormFieldLabel-DLzqZ3oJ-pVDhh5om.js";import{r as f,e as i}from"./index-D_CmzhJ4.js";import{j as l}from"./jsx-runtime-VM66peLj.js";import{c as N}from"./index-CkQHsVsO.js";import{u as be}from"./FormFieldLabel-DjB85afw.js";import{c as pe,Q as F,R as P,W as m,a7 as fe,T as _e,d as ve,Z as Ce,K as ke,H as Te,_ as ye,a8 as Ee,a9 as we,aa as Se,ab as Oe,u as Ne,U as Fe,L as Pe,V as De,a as Ie}from"./use-locale-context-BQVaQ0H3.js";import{i as Le,t as Re}from"./index-DoGvXrgL.js";import{u as ne}from"./use-field-context-A_pa20cf.js";import{e as xe,o as je,C as L}from"./controls-BtiQQn1l.js";const[qe,D]=pe({name:"SwitchContext",hookName:"useSwitchContext",providerName:"<SwitchProvider />"}),de=f.forwardRef((e,t)=>{const s=D(),o=F(s.getControlProps(),e);return l.jsx(P.span,{...o,ref:t})});de.displayName="SwitchControl";const ce=f.forwardRef((e,t)=>{const s=D(),o=F(s.getHiddenInputProps(),e),a=ne();return l.jsx(P.input,{"aria-describedby":a==null?void 0:a.ariaDescribedby,...o,ref:t})});ce.displayName="SwitchHiddenInput";var Ve=_e("switch").parts("root","label","control","thumb"),O=Ve.build(),ie=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`switch:${e.id}`},V=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`switch:${e.id}:label`},He=e=>{var t;return((t=e.ids)==null?void 0:t.thumb)??`switch:${e.id}:thumb`},Ae=e=>{var t;return((t=e.ids)==null?void 0:t.control)??`switch:${e.id}:control`},x=e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`switch:${e.id}:input`},Ge=e=>e.getById(ie(e)),p=e=>e.getById(x(e));function We(e,t){const{context:s,send:o,prop:a,scope:r}=e,n=a("disabled"),w=a("readOnly"),b=!!s.get("checked"),S=!n&&s.get("focused"),I=!n&&s.get("focusVisible"),h={"data-active":m(s.get("active")),"data-focus":m(S),"data-focus-visible":m(I),"data-readonly":m(w),"data-hover":m(s.get("hovered")),"data-disabled":m(n),"data-state":b?"checked":"unchecked","data-invalid":m(a("invalid"))};return{checked:b,disabled:n,focused:S,setChecked(c){o({type:"CHECKED.SET",checked:c,isTrusted:!1})},toggleChecked(){o({type:"CHECKED.TOGGLE",checked:b,isTrusted:!1})},getRootProps(){return t.label({...O.root.attrs,...h,dir:a("dir"),id:ie(r),htmlFor:x(r),onPointerMove(){n||o({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){n||o({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(c){var q;if(n)return;ve(c)===p(r)&&c.stopPropagation(),Ce()&&((q=p(r))==null||q.focus())}})},getLabelProps(){return t.element({...O.label.attrs,...h,dir:a("dir"),id:V(r)})},getThumbProps(){return t.element({...O.thumb.attrs,...h,dir:a("dir"),id:He(r),"aria-hidden":!0})},getControlProps(){return t.element({...O.control.attrs,...h,dir:a("dir"),id:Ae(r),"aria-hidden":!0})},getHiddenInputProps(){return t.input({id:x(r),type:"checkbox",required:a("required"),defaultChecked:b,disabled:n,"aria-labelledby":V(r),"aria-invalid":a("invalid"),name:a("name"),form:a("form"),value:a("value"),style:fe,onFocus(){const c=Le();o({type:"CONTEXT.SET",context:{focused:!0,focusVisible:c}})},onBlur(){o({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(c){if(w){c.preventDefault();return}const d=c.currentTarget.checked;o({type:"CHECKED.SET",checked:d,isTrusted:!0})}})}}}var{not:H}=ye(),Ke=Te({props({props:e}){return{defaultChecked:!1,label:"switch",value:"on",...e}},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(s){var o;(o=e("onCheckedChange"))==null||o({checked:s})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:e,prop:t})=>t("disabled")||e.get("fieldsetDisabled")},watch({track:e,prop:t,context:s,action:o}){e([()=>t("disabled")],()=>{o(["removeFocusIfNeeded"])}),e([()=>s.get("checked")],()=>{o(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:H("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:H("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({computed:e,scope:t,context:s}){if(!e("isDisabled"))return Oe({pointerNode:Ge(t),keyboardNode:p(t),isValidKey:o=>o.key===" ",onPress:()=>s.set("active",!1),onPressStart:()=>s.set("active",!0),onPressEnd:()=>s.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){if(!e("isDisabled"))return Re({root:t.getRootNode()})},trackFormControlState({context:e,send:t,scope:s}){return Se(p(s),{onFieldsetDisabledChange(o){e.set("fieldsetDisabled",o)},onFormReset(){const o=e.initial("checked");t({type:"CHECKED.SET",checked:!!o,src:"form-reset"})}})}},actions:{setContext({context:e,event:t}){for(const s in t.context)e.set(s,t.context[s])},syncInputElement({context:e,scope:t}){const s=p(t);s&&we(s,!!e.get("checked"))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.set("focused",!1)},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e}){e.set("checked",!e.get("checked"))},dispatchChangeEvent({context:e,scope:t}){const s=p(t);Ee(s,{checked:e.get("checked")})}}}});ke()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const $e=e=>{const t=f.useId(),{getRootNode:s}=Ne(),{dir:o}=Fe(),a=ne(),r={id:t,ids:{label:a==null?void 0:a.ids.label,hiddenInput:a==null?void 0:a.ids.control},dir:o,disabled:a==null?void 0:a.disabled,readOnly:a==null?void 0:a.readOnly,invalid:a==null?void 0:a.invalid,required:a==null?void 0:a.required,getRootNode:s,...e},n=Pe(Ke,r);return We(n,De)},ge=f.forwardRef((e,t)=>{const[s,o]=Ie()(e,["checked","defaultChecked","disabled","form","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),a=$e(s),r=F(a.getRootProps(),o);return l.jsx(qe,{value:a,children:l.jsx(P.label,{...r,ref:t})})});ge.displayName="SwitchRoot";const ue=f.forwardRef((e,t)=>{const s=D(),o=F(s.getThumbProps(),e);return l.jsx(P.span,{...o,ref:t})});ue.displayName="SwitchThumb";const u={"toggle-labels":"_toggle-labels_1ro2c_2","toggle-labels__label-on":"_toggle-labels__label-on_1ro2c_13","toggle-labels__label-off":"_toggle-labels__label-off_1ro2c_13","toggle-labels__label-on--checked":"_toggle-labels__label-on--checked_1ro2c_22","toggle-labels__label-on--disabled":"_toggle-labels__label-on--disabled_1ro2c_25","toggle-labels__label-off--unchecked":"_toggle-labels__label-off--unchecked_1ro2c_33","toggle-labels__label-off--focused":"_toggle-labels__label-off--focused_1ro2c_36","toggle-labels__label-off--disabled":"_toggle-labels__label-off--disabled_1ro2c_36"},Be="ON",Xe="OFF",j=()=>{const{checked:e,disabled:t,focused:s}=D();return l.jsxs("div",{className:u["toggle-labels"],children:[l.jsx("span",{className:N(u["toggle-labels__label-on"],{[u["toggle-labels__label-on--checked"]]:e},{[u["toggle-labels__label-on--disabled"]]:t}),children:Be}),l.jsx("span",{className:N(u["toggle-labels__label-off"],{[u["toggle-labels__label-off--unchecked"]]:!e},{[u["toggle-labels__label-off--disabled"]]:t},{[u["toggle-labels__label-off--focused"]]:s}),children:Xe})]})};j.displayName="ToggleLabels";j.__docgenInfo={description:"",methods:[],displayName:"ToggleLabels"};const Me="_toggle_zstyj_2",Ue="_toggle__control_zstyj_5",Ye="_toggle__control__thumb_zstyj_46",R={toggle:Me,toggle__control:Ue,toggle__control__thumb:Ye},g=f.forwardRef(({className:e,checked:t,defaultChecked:s,disabled:o,id:a,invalid:r,name:n,onCheckedChange:w,required:b,value:S,withLabels:I,...h},c)=>{const d=be();return l.jsxs(ge,{checked:t,className:N(R.toggle),defaultChecked:s,disabled:o,id:a||(d==null?void 0:d.id),invalid:r||(d==null?void 0:d.invalid),name:n,onCheckedChange:w,ref:c,required:b,value:S,...h,children:[l.jsxs(de,{className:N(R.toggle__control,e),children:[l.jsx(ue,{className:R.toggle__control__thumb}),I&&l.jsx(j,{})]}),l.jsx(ce,{"aria-describedby":h["aria-describedby"]||(d==null?void 0:d.ariaDescribedBy)})]})});g.displayName="Toggle";g.__docgenInfo={description:"",methods:[],displayName:"Toggle",props:{checked:{required:!1,tsType:{name:"boolean"},description:"The controlled checked state of the toggle."},defaultChecked:{required:!1,tsType:{name:"boolean"},description:"The initial checked state of the toggle. Use when you don't need to control the checked state of the toggle."},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the component is disabled."},invalid:{required:!1,tsType:{name:"boolean"},description:"Whether the component is in error state."},name:{required:!1,tsType:{name:"string"},description:"The name of the form element. Useful for form submission."},onCheckedChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(detail: ToggleCheckedChangeDetail) => void",signature:{arguments:[{type:{name:"ToggleCheckedChangeDetail"},name:"detail"}],return:{name:"void"}}},description:"Callback fired when the checked state changes."},required:{required:!1,tsType:{name:"boolean"},description:"Whether the component is required."},value:{required:!1,tsType:{name:"string"},description:"The value of form element. Useful for form submission."},withLabels:{required:!1,tsType:{name:"boolean"},description:'Whether the component displays "ON/OFF" labels.'}},composes:["ComponentPropsWithRef"]};const ze={argTypes:xe(["checked","defaultChecked","name","onCheckedChange","required","value"]),component:g,title:"React Components/Toggle"},_={argTypes:je({disabled:{table:{category:L.general},control:"boolean"},invalid:{table:{category:L.general},control:"boolean"},withLabels:{table:{category:L.general},control:"boolean"}})},v={tags:["!dev"],render:({})=>i.createElement(g,null)},C={tags:["!dev"],parameters:{layout:"centered"},render:({})=>i.createElement(g,null)},k={tags:["!dev"],render:({})=>i.createElement(g,{disabled:!0})},T={tags:["!dev"],render:({})=>i.createElement(he,null,i.createElement(me,null,"Dark mode"),i.createElement("div",null,i.createElement(g,null)))},y={tags:["!dev"],render:({})=>i.createElement(g,{invalid:!0})},E={tags:["!dev"],render:({})=>i.createElement(g,{withLabels:!0})};var A,G,W;_.parameters={..._.parameters,docs:{...(A=_.parameters)==null?void 0:A.docs,source:{originalSource:`{
  argTypes: orderControls({
    disabled: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: 'boolean'
    },
    invalid: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: 'boolean'
    },
    withLabels: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: 'boolean'
    }
  })
}`,...(W=(G=_.parameters)==null?void 0:G.docs)==null?void 0:W.source}}};var K,$,B;v.parameters={...v.parameters,docs:{...(K=v.parameters)==null?void 0:K.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Toggle />
}`,...(B=($=v.parameters)==null?void 0:$.docs)==null?void 0:B.source}}};var X,M,U;C.parameters={...C.parameters,docs:{...(X=C.parameters)==null?void 0:X.docs,source:{originalSource:`{
  tags: ['!dev'],
  parameters: {
    layout: 'centered'
  },
  render: ({}) => <Toggle />
}`,...(U=(M=C.parameters)==null?void 0:M.docs)==null?void 0:U.source}}};var Y,z,Q;k.parameters={...k.parameters,docs:{...(Y=k.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Toggle disabled />
}`,...(Q=(z=k.parameters)==null?void 0:z.docs)==null?void 0:Q.source}}};var Z,J,ee;T.parameters={...T.parameters,docs:{...(Z=T.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <FormField>
      <FormFieldLabel>
        Dark mode
      </FormFieldLabel>

      <div>
        <Toggle />
      </div>
    </FormField>
}`,...(ee=(J=T.parameters)==null?void 0:J.docs)==null?void 0:ee.source}}};var te,ae,se;y.parameters={...y.parameters,docs:{...(te=y.parameters)==null?void 0:te.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Toggle invalid />
}`,...(se=(ae=y.parameters)==null?void 0:ae.docs)==null?void 0:se.source}}};var oe,re,le;E.parameters={...E.parameters,docs:{...(oe=E.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Toggle withLabels />
}`,...(le=(re=E.parameters)==null?void 0:re.docs)==null?void 0:le.source}}};const Qe=["Demo","Default","Overview","Disabled","InFormField","Invalid","WithLabels"],nt=Object.freeze(Object.defineProperty({__proto__:null,Default:v,Demo:_,Disabled:k,InFormField:T,Invalid:y,Overview:C,WithLabels:E,__namedExportsOrder:Qe,default:ze},Symbol.toStringTag,{value:"Module"}));export{v as D,y as I,C as O,nt as T,E as W,k as a,T as b};
