import{j as s}from"./jsx-runtime-VM66peLj.js";import{c as X}from"./index-CkQHsVsO.js";import{r as n}from"./index-D_CmzhJ4.js";import{u as Y}from"./FormFieldLabel-DQkMrZpp.js";import{L as t,u as ee}from"./useI18n-CFuCjRRO.js";import{B as N,d as B,c as M}from"./Button-Cu9Xbu09.js";import{a as O}from"./colors-DSObuHxd.js";import{I as A,a as v}from"./icon-name-CL_C5kfn.js";import{S as te,d as ne,c as H}from"./Spinner-BdLZU4dE.js";var g=(e=>(e.close="close",e.open="open",e))(g||{});Object.freeze(Object.values(g));var h=(e=>(e.email="email",e.number="number",e.password="password",e.search="search",e.text="text",e.time="time",e.url="url",e))(h||{});const be=Object.freeze(Object.values(h)),W=n.createContext({});function $({children:e,i18n:d,locale:p}){return s.jsx(W.Provider,{value:{i18n:d,locale:p},children:e})}function ae(){return n.useContext(W)}$.__docgenInfo={description:"",methods:[],displayName:"InputProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}},composes:["InputContextType"]};function _(e){return Array.isArray(e)?e.length>0:!!e||e===0}var f=(e=>(e.clearButton="input.clear.button",e.maskButtonHide="input.mask.hide.button",e.maskButtonShow="input.mask.show.button",e.searchButton="input.search.button",e))(f||{});const re={"input.clear.button":{[t.de]:"Eingabe löschen",[t.en]:"Clear input",[t.es]:"Borrar entrada",[t.fr]:"Effacer l’entrée",[t.it]:"Cancella input",[t.nl]:"Invoer wissen",[t.pl]:"Wyczyść pole",[t.pt]:"Limpar a entrada"},"input.mask.hide.button":{[t.de]:"Ausblenden",[t.en]:"Hide",[t.es]:"Ocultar",[t.fr]:"Masquer",[t.it]:"Nascondi",[t.nl]:"Verbergen",[t.pl]:"Ukryj",[t.pt]:"Ocultar"},"input.mask.show.button":{[t.de]:"Anzeigen",[t.en]:"Show",[t.es]:"Mostrar",[t.fr]:"Afficher",[t.it]:"Mostra",[t.nl]:"Tonen",[t.pl]:"Pokaż",[t.pt]:"Mostrar"},"input.search.button":{[t.de]:"Suchen",[t.en]:"Search",[t.es]:"Buscar",[t.fr]:"Rechercher",[t.it]:"Cerca",[t.nl]:"Zoeken",[t.pl]:"Szukaj",[t.pt]:"Pesquisar"}},P={"input-actions":"_input-actions_ke1hx_2","input-actions__loading":"_input-actions__loading_ke1hx_7"},D=({disabled:e,hasClearButton:d,hasSearchButton:p,hasToggleMaskIcon:I,inputId:b,isMaskOpen:a,loading:T,onClearClick:i,onToggleMask:y,readOnly:c})=>{const{i18n:r,locale:S}=ae(),{translate:m}=ee(re,S,r);return s.jsxs("div",{className:P["input-actions"],children:[T&&s.jsx(te,{className:P["input-actions__loading"],color:e?H.neutral:H.primary,role:"none",size:ne.xs}),d&&s.jsx(N,{"aria-controls":b,"aria-label":m(f.clearButton),color:O.neutral,disabled:e||c,onClick:i,size:M.xs,type:"button",variant:B.ghost,children:s.jsx(A,{name:v.xmark})}),I&&s.jsx(N,{"aria-controls":b,"aria-label":m(a?f.maskButtonHide:f.maskButtonShow),color:O.primary,disabled:e,onClick:y,size:M.xs,type:"button",variant:B.ghost,children:s.jsx(A,{name:a?v.eye:v.eyeOff})}),p&&s.jsx(N,{"aria-label":m(f.searchButton),color:O.primary,disabled:e||c,size:M.xs,type:"submit",variant:B.ghost,children:s.jsx(A,{name:v.magnifyingGlass})})]})};D.__docgenInfo={description:"",methods:[],displayName:"InputActions",props:{disabled:{required:!1,tsType:{name:"boolean"},description:""},hasClearButton:{required:!0,tsType:{name:"boolean"},description:""},hasSearchButton:{required:!0,tsType:{name:"boolean"},description:""},hasToggleMaskIcon:{required:!0,tsType:{name:"boolean"},description:""},inputId:{required:!1,tsType:{name:"string"},description:""},isMaskOpen:{required:!0,tsType:{name:"boolean"},description:""},loading:{required:!0,tsType:{name:"boolean"},description:""},onClearClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onToggleMask:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""}}};const se="_input_1cnfv_2",ie="_input__field_1cnfv_35",R={input:se,"input--with-actions":"_input--with-actions_1cnfv_32",input__field:ie},Z=n.forwardRef(({className:e,clearable:d=!1,i18n:p,id:I,invalid:b,loading:a=!1,locale:T,maskOption:i={enable:!1,initialState:g.close},onClear:y,type:c=h.text,...r},S)=>{var z;const m=n.useId(),o=Y(),u=n.useRef(null),[E,V]=n.useState(_(r.defaultValue)||_(r.value)),[x,F]=n.useState((i==null?void 0:i.initialState)===g.open),G=r.value!==void 0,w=b||(o==null?void 0:o.invalid);n.useImperativeHandle(S,()=>u.current,[u]),n.useEffect(()=>{var l;V(_((l=u.current)==null?void 0:l.value))},[(z=u.current)==null?void 0:z.value]);const j=n.useMemo(()=>d&&!a&&E,[d,E,a]),k=n.useMemo(()=>c===h.search&&!a,[a,c]),q=n.useMemo(()=>i.enable&&!a,[a,i.enable]),K=n.useMemo(()=>i.enable&&!x?h.password:c,[x,i.enable,c]),C=n.useMemo(()=>j||k||q||a,[j,k,q,a]),L=I||(o==null?void 0:o.id)||m;function U(l){r.onChange&&r.onChange(l),G||V(_(l.target.value))}function J(){y&&y(),u.current&&(Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(u.current,""),u.current.dispatchEvent(new Event("input",{bubbles:!0})),u.current.focus())}function Q(){F(l=>!l)}return s.jsx($,{i18n:p,locale:T,children:s.jsxs("div",{className:X(R.input,{[R["input--with-actions"]]:C},e),"data-disabled":r.disabled?!0:void 0,"data-invalid":w?!0:void 0,"data-readonly":r.readOnly?!0:void 0,role:C?"group":void 0,children:[s.jsx("input",{"aria-busy":a,"aria-describedby":r["aria-describedby"]||(o==null?void 0:o.ariaDescribedBy),"aria-invalid":w,className:R.input__field,"data-ods":"input","data-invalid":w?!0:void 0,id:L,ref:u,type:K,...r,onChange:U}),C&&s.jsx(D,{disabled:r.disabled,hasClearButton:j,hasSearchButton:k,hasToggleMaskIcon:q,inputId:L,isMaskOpen:x,loading:a,onClearClick:J,onToggleMask:Q,readOnly:r.readOnly})]})})});Z.displayName="Input";Z.__docgenInfo={description:"",methods:[],displayName:"Input",props:{clearable:{required:!1,tsType:{name:"boolean"},description:"Whether the clear button is displayed.",defaultValue:{value:"false",computed:!1}},invalid:{required:!1,tsType:{name:"boolean"},description:"Whether the component is in error state."},i18n:{required:!1,tsType:{name:"Partial",elements:[{name:"Record",elements:[{name:"INPUT_I18N"},{name:"string"}],raw:"Record<INPUT_I18N, string>"}],raw:"Partial<Record<INPUT_I18N, string>>"},description:"Internal translations override."},loading:{required:!1,tsType:{name:"boolean"},description:"Whether the component is in loading state.",defaultValue:{value:"false",computed:!1}},locale:{required:!1,tsType:{name:"literal",value:"`${LOCALE}`"},description:"The locale used for the translation of the internal elements."},maskOption:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  enable: boolean,
  initialState?: InputMaskState,
}`,signature:{properties:[{key:"enable",value:{name:"boolean",required:!0}},{key:"initialState",value:{name:"literal",value:"`${INPUT_MASK_STATE}`",required:!1}}]}},description:"Whether the masked display is active and its initial state.",defaultValue:{value:"{ enable: false, initialState: INPUT_MASK_STATE.close }",computed:!1}},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Callback fired when the input value is cleared."},type:{required:!1,tsType:{name:"literal",value:"`${INPUT_TYPE}`"},description:"The input type.",defaultValue:{value:"INPUT_TYPE.text",computed:!0}}},composes:["Omit"]};export{Z as I,be as a,h as b,f as c};
