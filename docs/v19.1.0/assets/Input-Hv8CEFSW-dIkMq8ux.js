import{j as i}from"./jsx-runtime-VM66peLj.js";import{m as I}from"./index-2w0W-O47-BJ19ihbZ.js";import{r as a}from"./index-D_CmzhJ4.js";import{h as te,e as ne}from"./Text-pb66o1F3-WCW2Efyq.js";import{C as ie,f as le,a as se,t as V,R as B,s as E}from"./useI18n-BLNVfTvk-pLVIi2Iu.js";import{a as $}from"./ods-react222-B9lkGKUh.js";import{t as R}from"./ods-react66-BIRpP5yN.js";import{a as z,o as x}from"./ods-react61-BFiU7C5S.js";import{t as r}from"./ods-react91-l5fgq-IX.js";const A=a.createContext({});function oe({children:e,id:s,invalid:l,...m}){const u=a.useId(),[t,o]=a.useState(),[n,c]=a.useState(),[p,d]=a.useState(),_=a.useMemo(()=>`${n||""} ${l&&t?t:""}`.trim(),[t,n,l]);return i.jsx(A.Provider,{value:{ariaDescribedBy:_,errorId:t,helperId:n,id:s??u,invalid:l,labelId:p,setErrorId:o,setHelperId:c,setLabelId:d,...m},children:e})}function N(){return a.useContext(A)}const de={"form-field":"_form-field_112eg_2"},D=a.forwardRef(({children:e,className:s,id:l,invalid:m,...u},t)=>i.jsx(oe,{id:l,invalid:m,children:i.jsx("div",{className:I(de["form-field"],s),"data-ods":"form-field",ref:t,role:"group",...u,children:e})}));D.displayName="FormField";const ue={"form-field-error":"_form-field-error_nxtot_2"},G=a.forwardRef(({children:e,className:s,id:l,...m},u)=>{const{invalid:t,setErrorId:o}=N(),n=a.useId(),c=a.useMemo(()=>l??n,[n,l]);return a.useEffect(()=>{o&&o(c)},[c,o]),t?i.jsx("span",{"aria-live":"polite",className:I(ue["form-field-error"],s),"data-ods":"form-field-error",id:c,ref:u,...m,children:e}):i.jsx(i.Fragment,{})});G.displayName="FormFieldError";const U=a.forwardRef(({children:e,className:s,id:l,...m},u)=>{const{setHelperId:t}=N(),o=a.useId(),n=a.useMemo(()=>l??o,[o,l]);return a.useEffect(()=>{t&&t(n)},[n,t]),i.jsx("span",{className:s,"data-ods":"form-field-helper",id:n,ref:u,...m,children:e})});U.displayName="FormFieldHelper";const ce={"form-field-label":"_form-field-label_1udkg_2"},Z=a.forwardRef(({children:e,className:s,id:l,...m},u)=>{const{id:t,setLabelId:o}=N(),n=a.useId(),c=a.useMemo(()=>l??n,[n,l]);return a.useEffect(()=>{o&&o(c)},[c,o]),i.jsx(te,{className:I(ce["form-field-label"],s),"data-ods":"form-field-label",htmlFor:t,id:c,preset:ne.label,ref:u,...m,children:e})});Z.displayName="FormFieldLabel";D.__docgenInfo={description:"",methods:[],displayName:"FormField"};G.__docgenInfo={description:"",methods:[],displayName:"FormFieldError"};U.__docgenInfo={description:"",methods:[],displayName:"FormFieldHelper"};Z.__docgenInfo={description:"",methods:[],displayName:"FormFieldLabel"};var k=(e=>(e.close="close",e.open="open",e))(k||{});Object.freeze(Object.values(k));var g=(e=>(e.email="email",e.number="number",e.password="password",e.search="search",e.text="text",e.time="time",e.url="url",e))(g||{});Object.freeze(Object.values(g));function j(e){return Array.isArray(e)?e.length>0:!!e||e===0}var y=(e=>(e.clearButton="input.clear.button",e.maskButtonHide="input.mask.hide.button",e.maskButtonShow="input.mask.show.button",e.searchButton="input.search.button",e))(y||{});const me={"input.clear.button":{[r.de]:"Eingabe löschen",[r.en]:"Clear input",[r.es]:"Borrar entrada",[r.fr]:"Effacer l’entrée",[r.it]:"Cancella input",[r.nl]:"Invoer wissen",[r.pl]:"Wyczyść pole",[r.pt]:"Limpar a entrada"},"input.mask.hide.button":{[r.de]:"Ausblenden",[r.en]:"Hide",[r.es]:"Ocultar",[r.fr]:"Masquer",[r.it]:"Nascondi",[r.nl]:"Verbergen",[r.pl]:"Ukryj",[r.pt]:"Ocultar"},"input.mask.show.button":{[r.de]:"Anzeigen",[r.en]:"Show",[r.es]:"Mostrar",[r.fr]:"Afficher",[r.it]:"Mostra",[r.nl]:"Tonen",[r.pl]:"Pokaż",[r.pt]:"Mostrar"},"input.search.button":{[r.de]:"Suchen",[r.en]:"Search",[r.es]:"Buscar",[r.fr]:"Rechercher",[r.it]:"Cerca",[r.nl]:"Zoeken",[r.pl]:"Szukaj",[r.pt]:"Pesquisar"}},K=a.createContext({});function pe({children:e,i18n:s,locale:l}){return i.jsx(K.Provider,{value:{i18n:s,locale:l},children:e})}function fe(){return a.useContext(K)}const P={"input-actions":"_input-actions_ke1hx_2","input-actions__loading":"_input-actions__loading_ke1hx_7"},he=({disabled:e,hasClearButton:s,hasSearchButton:l,hasToggleMaskIcon:m,inputId:u,isMaskOpen:t,loading:o,onClearClick:n,onToggleMask:c,readOnly:p})=>{const{i18n:d,locale:_}=fe(),{translate:b}=ie(me,_,d);return i.jsxs("div",{className:P["input-actions"],children:[o&&i.jsx(le,{className:P["input-actions__loading"],color:e?V.neutral:V.primary,role:"none",size:se.xs}),s&&i.jsx(B,{"aria-controls":u,"aria-label":b(y.clearButton),color:$.neutral,disabled:e||p,onClick:n,size:E.xs,type:"button",variant:R.ghost,children:i.jsx(z,{name:x.xmark})}),m&&i.jsx(B,{"aria-controls":u,"aria-label":b(t?y.maskButtonHide:y.maskButtonShow),color:$.primary,disabled:e,onClick:c,size:E.xs,type:"button",variant:R.ghost,children:i.jsx(z,{name:t?x.eye:x.eyeOff})}),l&&i.jsx(B,{"aria-label":b(y.searchButton),color:$.primary,disabled:e||p,size:E.xs,type:"submit",variant:R.ghost,children:i.jsx(z,{name:x.magnifyingGlass})})]})},be="_input_1cnfv_2",ve="_input__field_1cnfv_35",H={input:be,"input--with-actions":"_input--with-actions_1cnfv_32",input__field:ve},W=a.forwardRef(({className:e,clearable:s=!1,i18n:l,id:m,invalid:u,loading:t=!1,locale:o,maskOption:n={enable:!1,initialState:k.close},onClear:c,type:p=g.text,...d},_)=>{var b;const Y=a.useId(),v=N(),f=a.useRef(null),[L,q]=a.useState(j(d.defaultValue)||j(d.value)),[w,J]=a.useState((n==null?void 0:n.initialState)===k.open),Q=d.value!==void 0,C=u||(v==null?void 0:v.invalid);a.useImperativeHandle(_,()=>f.current,[f]),a.useEffect(()=>{var h;q(j((h=f.current)==null?void 0:h.value))},[(b=f.current)==null?void 0:b.value]);const M=a.useMemo(()=>s&&!t&&L,[s,L,t]),F=a.useMemo(()=>p===g.search&&!t,[t,p]),O=a.useMemo(()=>n.enable&&!t,[t,n.enable]),X=a.useMemo(()=>n.enable&&!w?g.password:p,[w,n.enable,p]),S=a.useMemo(()=>M||F||O||t,[M,F,O,t]),T=m||(v==null?void 0:v.id)||Y;function ee(h){d.onChange&&d.onChange(h),Q||q(j(h.target.value))}function ae(){c&&c(),f.current&&(Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(f.current,""),f.current.dispatchEvent(new Event("input",{bubbles:!0})),f.current.focus())}function re(){J(h=>!h)}return i.jsx(pe,{i18n:l,locale:o,children:i.jsxs("div",{className:I(H.input,{[H["input--with-actions"]]:S},e),"data-disabled":d.disabled?!0:void 0,"data-invalid":C?!0:void 0,"data-readonly":d.readOnly?!0:void 0,role:S?"group":void 0,children:[i.jsx("input",{"aria-busy":t,"aria-describedby":d["aria-describedby"]||(v==null?void 0:v.ariaDescribedBy),"aria-invalid":C,className:H.input__field,"data-ods":"input","data-invalid":C?!0:void 0,id:T,ref:f,type:X,...d,onChange:ee}),S&&i.jsx(he,{disabled:d.disabled,hasClearButton:M,hasSearchButton:F,hasToggleMaskIcon:O,inputId:T,isMaskOpen:w,loading:t,onClearClick:ae,onToggleMask:re,readOnly:d.readOnly})]})})});W.displayName="Input";W.__docgenInfo={description:"",methods:[],displayName:"Input",props:{clearable:{defaultValue:{value:"!1",computed:!1},required:!1},loading:{defaultValue:{value:"!1",computed:!1},required:!1},maskOption:{defaultValue:{value:"{ enable: !1, initialState: L.close }",computed:!1},required:!1},type:{defaultValue:{value:"g.text",computed:!0},required:!1}}};export{W as p};
