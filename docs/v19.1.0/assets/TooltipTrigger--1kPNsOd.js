import{j as g}from"./jsx-runtime-VM66peLj.js";import{a as ge}from"./overlay-CZHjGBMC.js";import{s as fe,P as me}from"./portal-CjJhVgfZ.js";import{u as Y,a as ve,P as ye}from"./use-presence-BH5ft0ba.js";import{c as Pe,Q as C,R as D,S as Oe,T as Te,W as he,H as be,_ as we,l as j,av as ke,ad as Ce,K as Ee,u as Me,U as De,L as Ie,V as Re}from"./use-locale-context-DLC4Hyvy.js";import{t as Se,i as _e}from"./index-Rz4wIOao.js";import{a as Ne,g as W}from"./index-inT8qsA6.js";import{r as y}from"./index-D_CmzhJ4.js";import{c as Q}from"./index-CkQHsVsO.js";const[je,I]=Pe({name:"TooltipContext",hookName:"useTooltipContext",providerName:"<TooltipProvider />"}),J=y.forwardRef((e,t)=>{const o=I(),n=C(o.getArrowProps(),e);return g.jsx(D.div,{...n,ref:t})});J.displayName="TooltipArrow";const X=y.forwardRef((e,t)=>{const o=I(),n=C(o.getArrowTipProps(),e);return g.jsx(D.div,{...n,ref:t})});X.displayName="TooltipArrowTip";const Z=y.forwardRef((e,t)=>{const o=I(),n=Y(),r=C(o.getContentProps(),n.getPresenceProps(),e);return n.unmounted?null:g.jsx(D.div,{...r,ref:Oe(n.ref,t)})});Z.displayName="TooltipContent";const H=y.forwardRef((e,t)=>{const o=I(),n=C(o.getPositionerProps(),e);return Y().unmounted?null:g.jsx(D.div,{...n,ref:t})});H.displayName="TooltipPositioner";const Ae=Symbol(),G=Object.getPrototypeOf,V=new WeakMap,Ve=e=>e&&(V.has(e)?V.get(e):G(e)===Object.prototype||G(e)===Array.prototype),Le=e=>Ve(e)&&e[Ae]||null,K=(e,t=!0)=>{V.set(e,t)};function qe(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function ee(e,t){const o=qe();return o?(o[e]||(o[e]=t()),o[e]):t()}var _=ee("__zag__refSet",()=>new WeakSet),xe=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,$e=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,Fe=e=>typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeName=="string",We=e=>xe(e)||$e(e)||Fe(e),L=e=>e!==null&&typeof e=="object",B=e=>L(e)&&!_.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!We(e)&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),b=ee("__zag__proxyStateMap",()=>new WeakMap),Ge=(e=Object.is,t=(p,P)=>new Proxy(p,P),o=new WeakMap,n=(p,P)=>{const f=o.get(p);if((f==null?void 0:f[0])===P)return f[1];const u=Array.isArray(p)?[]:Object.create(Object.getPrototypeOf(p));return K(u,!0),o.set(p,[P,u]),Reflect.ownKeys(p).forEach(O=>{const v=Reflect.get(p,O);_.has(v)?(K(v,!1),u[O]=v):b.has(v)?u[O]=ze(v):u[O]=v}),Object.freeze(u)},r=new WeakMap,s=[1,1],c=p=>{if(!L(p))throw new Error("object required");const P=r.get(p);if(P)return P;let f=s[0];const u=new Set,O=(l,i=++s[0])=>{f!==i&&(f=i,u.forEach(a=>a(l,i)))};let v=s[1];const T=(l=++s[1])=>(v!==l&&!u.size&&(v=l,d.forEach(([i])=>{const a=i[1](l);a>f&&(f=a)})),f),w=l=>(i,a)=>{const m=[...i];m[1]=[l,...m[1]],O(m,a)},d=new Map,q=(l,i)=>{if(u.size){const a=i[3](w(l));d.set(l,[i,a])}else d.set(l,[i])},x=l=>{var a;const i=d.get(l);i&&(d.delete(l),(a=i[1])==null||a.call(i))},de=l=>(u.add(l),u.size===1&&d.forEach(([a,m],k)=>{const E=a[3](w(k));d.set(k,[a,E])}),()=>{u.delete(l),u.size===0&&d.forEach(([a,m],k)=>{m&&(m(),d.set(k,[a]))})}),N=Array.isArray(p)?[]:Object.create(Object.getPrototypeOf(p)),R=t(N,{deleteProperty(l,i){const a=Reflect.get(l,i);x(i);const m=Reflect.deleteProperty(l,i);return m&&O(["delete",[i],a]),m},set(l,i,a,m){var $;const k=Reflect.has(l,i),E=Reflect.get(l,i,m);if(k&&(e(E,a)||r.has(a)&&e(E,r.get(a))))return!0;x(i),L(a)&&(a=Le(a)||a);let S=a;if(!(($=Object.getOwnPropertyDescriptor(l,i))!=null&&$.set)){!b.has(a)&&B(a)&&(S=te(a));const F=!_.has(S)&&b.get(S);F&&q(i,F)}return Reflect.set(l,i,S,m),O(["set",[i],a,E]),!0}});r.set(p,R);const ue=[N,T,n,de];return b.set(R,ue),Reflect.ownKeys(p).forEach(l=>{const i=Object.getOwnPropertyDescriptor(p,l);i.get||i.set?Object.defineProperty(N,l,i):R[l]=p[l]}),R})=>[c,b,_,e,t,B,o,n,r,s],[Ke]=Ge();function te(e={}){return Ke(e)}function Be(e,t,o){const n=b.get(e);let r;const s=[],c=n[3];let p=!1;const f=c(u=>{s.push(u),r||(r=Promise.resolve().then(()=>{r=void 0,p&&t(s.splice(0))}))});return p=!0,()=>{p=!1,f()}}function ze(e){const t=b.get(e),[o,n,r]=t;return r(o,n())}var Ue=Te("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),M=Ue.build(),oe=e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`tooltip:${e.id}:trigger`},Ye=e=>{var t;return((t=e.ids)==null?void 0:t.content)??`tooltip:${e.id}:content`},Qe=e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`tooltip:${e.id}:arrow`},ne=e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`tooltip:${e.id}:popper`},A=e=>e.getById(oe(e)),z=e=>e.getById(ne(e)),h=te({id:null});function Je(e,t){const{state:o,context:n,send:r,scope:s,prop:c,event:p}=e,P=c("id"),f=!!c("aria-label"),u=o.matches("open","closing"),O=oe(s),v=Ye(s),T=c("disabled"),w=Ne({...c("positioning"),placement:n.get("currentPlacement")});return{open:u,setOpen(d){o.matches("open","closing")!==d&&r({type:d?"open":"close"})},reposition(d={}){r({type:"positioning.set",options:d})},getTriggerProps(){return t.button({...M.trigger.attrs,id:O,dir:c("dir"),"data-expanded":he(u),"data-state":u?"open":"closed","aria-describedby":u?v:void 0,onClick(d){d.defaultPrevented||T||c("closeOnClick")&&r({type:"close",src:"trigger.click"})},onFocus(d){queueMicrotask(()=>{d.defaultPrevented||T||p.src!=="trigger.pointerdown"&&_e()&&r({type:"open",src:"trigger.focus"})})},onBlur(d){d.defaultPrevented||T||P===h.id&&r({type:"close",src:"trigger.blur"})},onPointerDown(d){d.defaultPrevented||T||c("closeOnPointerDown")&&P===h.id&&r({type:"close",src:"trigger.pointerdown"})},onPointerMove(d){d.defaultPrevented||T||d.pointerType!=="touch"&&r({type:"pointer.move"})},onPointerLeave(){T||r({type:"pointer.leave"})},onPointerCancel(){T||r({type:"pointer.leave"})}})},getArrowProps(){return t.element({id:Qe(s),...M.arrow.attrs,dir:c("dir"),style:w.arrow})},getArrowTipProps(){return t.element({...M.arrowTip.attrs,dir:c("dir"),style:w.arrowTip})},getPositionerProps(){return t.element({id:ne(s),...M.positioner.attrs,dir:c("dir"),style:w.floating})},getContentProps(){return t.element({...M.content.attrs,dir:c("dir"),hidden:!u,"data-state":u?"open":"closed",role:f?void 0:"tooltip",id:f?void 0:v,"data-placement":n.get("currentPlacement"),onPointerEnter(){r({type:"content.pointer.move"})},onPointerLeave(){r({type:"content.pointer.leave"})},style:{pointerEvents:c("interactive")?"auto":"none"}})}}}var{and:Xe,not:U}=we(),Ze=be({initialState:({prop:e})=>e("open")||e("defaultOpen")?"open":"closed",props({props:e}){return{id:"x",openDelay:1e3,closeDelay:500,closeOnPointerDown:!0,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,closeOnClick:!0,disabled:!1,...e,positioning:{placement:"bottom",...e.positioning}}},effects:["trackFocusVisible","trackStore"],context:({bindable:e})=>({currentPlacement:e(()=>({defaultValue:void 0})),hasPointerMoveOpened:e(()=>({defaultValue:!1}))}),watch({track:e,action:t,prop:o}){e([()=>o("disabled")],()=>{t(["closeIfDisabled"])}),e([()=>o("open")],()=>{t(["toggleVisibility"])})},states:{closed:{entry:["clearGlobalId"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":{actions:["clearPointerMoveOpened"]},"pointer.move":[{guard:Xe("noVisibleTooltip",U("hasPointerMoveOpened")),target:"opening"},{guard:U("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{effects:["trackScroll","trackPointerlockChange","waitForOpenDelay"],on:{"after.openDelay":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"controlled.open":{target:"open"},"controlled.close":{target:"closed"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose","toggleVisibility"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],close:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}]}},open:{effects:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"controlled.close":{target:"closed"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.leave":[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"content.pointer.leave":{guard:"isInteractive",target:"closing"},"positioning.set":{actions:["reposition"]}}},closing:{effects:["trackPositioning","waitForCloseDelay"],on:{"after.closeDelay":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"controlled.close":{target:"closed"},"controlled.open":{target:"open"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.move":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen","toggleVisibility"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"content.pointer.move":{guard:"isInteractive",target:"open"},"positioning.set":{actions:["reposition"]}}}},implementations:{guards:{noVisibleTooltip:()=>h.id===null,isVisible:({prop:e})=>e("id")===h.id,isInteractive:({prop:e})=>!!e("interactive"),hasPointerMoveOpened:({context:e})=>e.get("hasPointerMoveOpened"),isOpenControlled:({prop:e})=>e("open")!==void 0},actions:{setGlobalId:({prop:e})=>{h.id=e("id")},clearGlobalId:({prop:e})=>{e("id")===h.id&&(h.id=null)},invokeOnOpen:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!1})},closeIfDisabled:({prop:e,send:t})=>{e("disabled")&&t({type:"close",src:"disabled.change"})},reposition:({context:e,event:t,prop:o,scope:n})=>{if(t.type!=="positioning.set")return;const r=()=>z(n);return W(A(n),r,{...o("positioning"),...t.options,defer:!0,listeners:!1,onComplete(s){e.set("currentPlacement",s.placement)}})},toggleVisibility:({prop:e,event:t,send:o})=>{queueMicrotask(()=>{o({type:e("open")?"controlled.open":"controlled.close",previousEvent:t})})},setPointerMoveOpened:({context:e})=>{e.set("hasPointerMoveOpened",!0)},clearPointerMoveOpened:({context:e})=>{e.set("hasPointerMoveOpened",!1)}},effects:{trackFocusVisible:({scope:e})=>{var t;return Se({root:(t=e.getRootNode)==null?void 0:t.call(e)})},trackPositioning:({context:e,prop:t,scope:o})=>{e.get("currentPlacement")||e.set("currentPlacement",t("positioning").placement);const n=()=>z(o);return W(A(o),n,{...t("positioning"),defer:!0,onComplete(r){e.set("currentPlacement",r.placement)}})},trackPointerlockChange:({send:e,scope:t})=>{const o=t.getDoc();return j(o,"pointerlockchange",()=>e({type:"close",src:"pointerlock:change"}),!1)},trackScroll:({send:e,prop:t,scope:o})=>{if(!t("closeOnScroll"))return;const n=A(o);if(!n)return;const s=ke(n).map(c=>j(c,"scroll",()=>{e({type:"close",src:"scroll"})},{passive:!0,capture:!0}));return()=>{s.forEach(c=>c==null?void 0:c())}},trackStore:({prop:e,send:t})=>{let o;return queueMicrotask(()=>{o=Be(h,()=>{h.id!==e("id")&&t({type:"close",src:"id.change"})})}),()=>o==null?void 0:o()},trackEscapeKey:({send:e,prop:t})=>t("closeOnEscape")?j(document,"keydown",n=>{Ce(n)||n.key==="Escape"&&(n.stopPropagation(),e({type:"close",src:"keydown.escape"}))},!0):void 0,waitForOpenDelay:({send:e,prop:t})=>{const o=setTimeout(()=>{e({type:"after.openDelay"})},t("openDelay"));return()=>clearTimeout(o)},waitForCloseDelay:({send:e,prop:t})=>{const o=setTimeout(()=>{e({type:"after.closeDelay"})},t("closeDelay"));return()=>clearTimeout(o)}}}});Ee()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","defaultOpen","open","openDelay","positioning"]);const He=e=>{const t=y.useId(),{getRootNode:o}=Me(),{dir:n}=De(),r={id:t,dir:n,getRootNode:o,...e},s=Ie(Ze,r);return Je(s,Re)},et=e=>{const[t,{children:o,...n}]=fe(e),r=He(n),s=ve(C({present:r.open},t));return g.jsx(je,{value:r,children:g.jsx(ye,{value:s,children:o})})},re=y.forwardRef((e,t)=>{const o=I(),n=C(o.getTriggerProps(),e);return g.jsx(D.button,{...n,ref:t})});re.displayName="TooltipTrigger";const ie=y.createContext({});function se({children:e}){const[t,o]=y.useState();return g.jsx(ie.Provider,{value:{setTriggerId:o,triggerId:t},children:e})}function ae(){return y.useContext(ie)}se.__docgenInfo={description:"",methods:[],displayName:"TooltipProvider",props:{triggerId:{required:!1,tsType:{name:"string"},description:""},setTriggerId:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const tt=({children:e,closeDelay:t=50,onOpenChange:o,open:n,openDelay:r=0,position:s=ge.top,...c})=>{const{triggerId:p}=ae();return g.jsx(et,{closeDelay:t,closeOnClick:!1,closeOnPointerDown:!1,closeOnScroll:!1,ids:{trigger:p},interactive:!0,onOpenChange:o,open:n,openDelay:r,positioning:{placement:s},...c,children:e})},le=e=>g.jsx(se,{children:g.jsx(tt,{...e})});le.displayName="Tooltip";le.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{closeDelay:{required:!1,tsType:{name:"number"},description:"Number of milliseconds before closing the tooltip."},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(detail: TooltipOpenChangeDetail) => void",signature:{arguments:[{type:{name:"TooltipOpenChangeDetail"},name:"detail"}],return:{name:"void"}}},description:"Callback fired when the tooltip open state changes."},open:{required:!1,tsType:{name:"boolean"},description:"The controlled open state of the tooltip."},openDelay:{required:!1,tsType:{name:"number"},description:"Number of milliseconds before opening the tooltip."},position:{required:!1,tsType:{name:"literal",value:"`${OVERLAY_POSITION}`"},description:`@type=TOOLTIP_POSITION
The tooltip position around the trigger.`}}};const ot={"tooltip-content":"_tooltip-content_zk0pd_2"},ce=y.forwardRef(({children:e,className:t,createPortal:o=!0,withArrow:n=!1,...r},s)=>g.jsx(me,{disabled:!o,children:g.jsx(H,{children:g.jsxs(Z,{className:Q(ot["tooltip-content"],t),"data-ods":"tooltip-content",ref:s,...r,children:[n&&g.jsx(J,{children:g.jsx(X,{})}),e]})})}));ce.displayName="TooltipContent";ce.__docgenInfo={description:"",methods:[],displayName:"TooltipContent",props:{createPortal:{required:!1,tsType:{name:"boolean"},description:"Whether the component should be rendered in the DOM close to the body tag.",defaultValue:{value:"true",computed:!1}},withArrow:{required:!1,tsType:{name:"boolean"},description:"Whether the component displays an arrow pointing to the trigger.",defaultValue:{value:"false",computed:!1}}},composes:["ComponentPropsWithRef"]};const nt={"tooltip-trigger":"_tooltip-trigger_wxukn_2"},pe=y.forwardRef(({asChild:e,children:t,className:o,...n},r)=>{const{setTriggerId:s}=ae();return y.useEffect(()=>{var c;if(!e&&n.id){s==null||s(n.id);return}t&&((c=t.props)!=null&&c.id)&&(s==null||s(t.props.id))},[e,t,n,s]),g.jsx(re,{asChild:e,className:Q(nt["tooltip-trigger"],o),"data-ods":"tooltip-trigger",ref:r,role:"button",tabIndex:0,...n,children:t})});pe.displayName="TooltipTrigger";pe.__docgenInfo={description:"",methods:[],displayName:"TooltipTrigger",props:{asChild:{required:!1,tsType:{name:"boolean"},description:`Use the provided child element as the default rendered element, combining their props and behavior.
Be careful to pass an actual Node, not a Fragment.`}},composes:["ComponentPropsWithRef"]};export{pe as T,ce as a,le as b};
