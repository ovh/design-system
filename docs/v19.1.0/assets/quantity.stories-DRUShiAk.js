import{r as S,e as c}from"./index-D_CmzhJ4.js";import{u as Je,F as et,a as tt}from"./FormFieldLabel-DQkMrZpp.js";import{j as N}from"./jsx-runtime-VM66peLj.js";import{c as yt,Q as re,R as ae,W as g,T as bt,a9 as ht,g as vt,aa as k,ab as oe,ac as le,ad as Et,ae as Nt,af as ue,ag as Pt,ah as ce,ai as Tt,aj as It,r as me,a7 as Rt,ak as H,al as Ct,am as Ot,n as xt,l as X,Z as nt,an as St,ao as Dt,ap as wt,aq as Vt,K as _t,ar as Ft,as as At,u as $t,U as Lt,L as Mt,V as Qt,a as Ut}from"./use-locale-context-DLC4Hyvy.js";import{u as rt}from"./use-field-context--XabuWSL.js";import{c as Y}from"./index-CkQHsVsO.js";import{B as de,d as pe,c as ge}from"./Button-Cu9Xbu09.js";import{a as j}from"./colors-DSObuHxd.js";import{I as fe,a as ye}from"./icon-name-CL_C5kfn.js";import{e as qt,o as Bt,C as O}from"./controls-BtiQQn1l.js";const[Gt,ie]=yt({name:"NumberInputContext",hookName:"useNumberInputContext",providerName:"<NumberInputProvider />"}),at=S.forwardRef((t,e)=>{const n=ie(),r=re(n.getControlProps(),t);return N.jsx(ae.div,{...r,ref:e})});at.displayName="NumberInputControl";const it=S.forwardRef((t,e)=>{const n=ie(),r=re(n.getInputProps(),t),a=rt();return N.jsx(ae.input,{"aria-describedby":a==null?void 0:a.ariaDescribedby,...r,ref:e})});it.displayName="NumberInputInput";let J=new Map,ne=!1;try{ne=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let Z=!1;try{Z=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const st={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class Wt{format(e){let n="";if(!ne&&this.options.signDisplay!=null?n=Ht(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!Z){var r;let{unit:a,unitDisplay:i="short",locale:s}=this.resolvedOptions();if(!a)return n;let l=(r=st[a])===null||r===void 0?void 0:r[i];n+=l[s]||l.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} – ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),a=this.numberFormatter.formatToParts(n);return[...r.map(i=>({...i,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...a.map(i=>({...i,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!ne&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!Z&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=kt(e,n),this.options=n}}function kt(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!Z){var r;let{unit:s,unitDisplay:l="short"}=e;if(!s)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=st[s])===null||r===void 0)&&r[l]))throw new Error(`Unsupported unit ${s} with unitDisplay = ${l}`);e={...e,style:"decimal"}}let a=t+(e?Object.entries(e).sort((s,l)=>s[0]<l[0]?-1:1).join():"");if(J.has(a))return J.get(a);let i=new Intl.NumberFormat(t,e);return J.set(a,i),i}function Ht(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let r=!1;if(e==="always"?r=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let a=t.format(-n),i=t.format(n),s=a.replace(i,"").replace(/\u200e|\u061C/,"");return[...s].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),a.replace(i,"!!!").replace(s,"+").replace("!!!",i)}else return t.format(n)}}const jt=new RegExp("^.*\\(.*\\).*$"),Yt=["latn","arab","hanidec","deva","beng"];class ot{parse(e){return ee(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,r){return ee(this.locale,this.options,e).isValidPartialNumber(e,n,r)}getNumberingSystem(e){return ee(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const be=new Map;function ee(t,e,n){let r=he(t,e);if(!t.includes("-nu-")&&!r.isValidPartialNumber(n)){for(let a of Yt)if(a!==r.options.numberingSystem){let i=he(t+(t.includes("-u-")?"-nu-":"-u-nu-")+a,e);if(i.isValidPartialNumber(n))return i}}return r}function he(t,e){let n=t+(e?Object.entries(e).sort((a,i)=>a[0]<i[0]?-1:1).join():""),r=be.get(n);return r||(r=new Zt(t,e),be.set(n,r)),r}class Zt{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=w(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=n.indexOf("-");n=n.replace("-","");let l=n.indexOf(".");l===-1&&(l=n.length),n=n.replace(".",""),l-2===0?n=`0.${n}`:l-2===-1?n=`0.0${n}`:l-2===-2?n="0.00":n=`${n.slice(0,l-2)}.${n.slice(l-2)}`,s>-1&&(n=`-${n}`)}let r=n?+n:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var a,i;let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(((a=this.options.minimumFractionDigits)!==null&&a!==void 0?a:0)+2,20),maximumFractionDigits:Math.min(((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)+2,20)};return new ot(this.locale,s).parse(new Wt(this.locale,s).format(r))}return this.options.currencySign==="accounting"&&jt.test(e)&&(r=-1*r),r}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("،",this.symbols.decimal)),this.symbols.group&&(e=w(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&this.symbols.group&&(e=w(e," ",this.symbols.group),e=w(e,/\u00A0/g,this.symbols.group)),e}isValidPartialNumber(e,n=-1/0,r=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&r>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=w(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,n.roundingIncrement!==1&&n.roundingIncrement!=null&&(n.maximumFractionDigits==null&&n.minimumFractionDigits==null?(n.maximumFractionDigits=0,n.minimumFractionDigits=0):n.maximumFractionDigits==null?n.maximumFractionDigits=n.minimumFractionDigits:n.minimumFractionDigits==null&&(n.minimumFractionDigits=n.maximumFractionDigits)),this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=Kt(e,this.formatter,this.options,n);var r,a;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((a=this.options.maximumFractionDigits)!==null&&a!==void 0?a:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const ve=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),zt=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function Kt(t,e,n,r){var a,i,s,l;let u=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),p=u.formatToParts(-10000.111),y=u.formatToParts(10000.111),f=zt.map(d=>u.formatToParts(d));var P;let T=(P=(a=p.find(d=>d.type==="minusSign"))===null||a===void 0?void 0:a.value)!==null&&P!==void 0?P:"-",I=(i=y.find(d=>d.type==="plusSign"))===null||i===void 0?void 0:i.value;!I&&((r==null?void 0:r.signDisplay)==="exceptZero"||(r==null?void 0:r.signDisplay)==="always")&&(I="+");let m=(s=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(d=>d.type==="decimal"))===null||s===void 0?void 0:s.value,D=(l=p.find(d=>d.type==="group"))===null||l===void 0?void 0:l.value,E=p.filter(d=>!ve.has(d.type)).map(d=>Ee(d.value)),z=f.flatMap(d=>d.filter(C=>!ve.has(C.type)).map(C=>Ee(C.value))),K=[...new Set([...E,...z])].sort((d,C)=>C.length-d.length),pt=K.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${K.join("|")}|[\\p{White_Space}]`,"gu"),se=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),gt=new Map(se.map((d,C)=>[d,C])),ft=new RegExp(`[${se.join("")}]`,"g");return{minusSign:T,plusSign:I,decimal:m,group:D,literals:pt,numeral:ft,index:d=>String(gt.get(d))}}function w(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function Ee(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Xt=bt("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),R=Xt.build(),Jt=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`number-input:${t.id}`},_=t=>{var e;return((e=t.ids)==null?void 0:e.input)??`number-input:${t.id}:input`},lt=t=>{var e;return((e=t.ids)==null?void 0:e.incrementTrigger)??`number-input:${t.id}:inc`},ut=t=>{var e;return((e=t.ids)==null?void 0:e.decrementTrigger)??`number-input:${t.id}:dec`},en=t=>{var e;return((e=t.ids)==null?void 0:e.scrubber)??`number-input:${t.id}:scrubber`},ct=t=>`number-input:${t.id}:cursor`,tn=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`number-input:${t.id}:label`},F=t=>t.getById(_(t)),nn=t=>t.getById(lt(t)),rn=t=>t.getById(ut(t)),mt=t=>t.getDoc().getElementById(ct(t)),an=(t,e)=>{let n=null;return e==="increment"&&(n=nn(t)),e==="decrement"&&(n=rn(t)),n},sn=(t,e)=>{if(!nt())return un(t,e),()=>{var n;(n=mt(t))==null||n.remove()}},on=t=>{const e=t.getDoc(),n=e.documentElement,r=e.body;return r.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{r.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),r.style.length||r.removeAttribute("style")}},ln=(t,e)=>{const{point:n,isRtl:r,event:a}=e,i=t.getWin(),s=k(a.movementX,i.devicePixelRatio),l=k(a.movementY,i.devicePixelRatio);let u=s>0?"increment":s<0?"decrement":null;r&&u==="increment"&&(u="decrement"),r&&u==="decrement"&&(u="increment");const p={x:n.x+s,y:n.y+l},y=i.innerWidth,f=k(7.5,i.devicePixelRatio);return p.x=Ft(p.x+f,y)-f,{hint:u,point:p}},un=(t,e)=>{const n=t.getDoc(),r=n.createElement("div");r.className="scrubber--cursor",r.id=ct(t),Object.assign(r.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:At,transform:e?`translate3d(${e.x}px, ${e.y}px, 0px)`:void 0,willChange:"transform"}),r.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,n.body.appendChild(r)};function cn(t,e){const{state:n,send:r,prop:a,scope:i,computed:s}=t,l=n.hasTag("focus"),u=s("isDisabled"),p=a("readOnly"),y=s("isValueEmpty"),f=s("isOutOfRange")||!!a("invalid"),P=u||!s("canIncrement")||p,T=u||!s("canDecrement")||p,I=a("translations");return{focused:l,invalid:f,empty:y,value:s("formattedValue"),valueAsNumber:s("valueAsNumber"),setValue(o){r({type:"VALUE.SET",value:o})},clearValue(){r({type:"VALUE.CLEAR"})},increment(){r({type:"VALUE.INCREMENT"})},decrement(){r({type:"VALUE.DECREMENT"})},setToMax(){r({type:"VALUE.SET",value:a("max")})},setToMin(){r({type:"VALUE.SET",value:a("min")})},focus(){var o;(o=F(i))==null||o.focus()},getRootProps(){return e.element({id:Jt(i),...R.root.attrs,dir:a("dir"),"data-disabled":g(u),"data-focus":g(l),"data-invalid":g(f)})},getLabelProps(){return e.label({...R.label.attrs,dir:a("dir"),"data-disabled":g(u),"data-focus":g(l),"data-invalid":g(f),id:tn(i),htmlFor:_(i)})},getControlProps(){return e.element({...R.control.attrs,dir:a("dir"),role:"group","aria-disabled":u,"data-focus":g(l),"data-disabled":g(u),"data-invalid":g(f),"aria-invalid":le(f)})},getValueTextProps(){return e.element({...R.valueText.attrs,dir:a("dir"),"data-disabled":g(u),"data-invalid":g(f),"data-focus":g(l)})},getInputProps(){return e.input({...R.input.attrs,dir:a("dir"),name:a("name"),form:a("form"),id:_(i),role:"spinbutton",defaultValue:s("formattedValue"),pattern:a("pattern"),inputMode:a("inputMode"),"aria-invalid":le(f),"data-invalid":g(f),disabled:u,"data-disabled":g(u),readOnly:p,required:a("required"),autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":a("min"),"aria-valuemax":a("max"),"aria-valuenow":Number.isNaN(s("valueAsNumber"))?void 0:s("valueAsNumber"),"aria-valuetext":s("valueText"),onFocus(){r({type:"INPUT.FOCUS"})},onBlur(){r({type:"INPUT.BLUR"})},onInput(o){r({type:"INPUT.CHANGE",target:o.currentTarget,hint:"set"})},onBeforeInput(o){try{const{selectionStart:m,selectionEnd:D,value:E}=o.currentTarget,z=E.slice(0,m)+(o.data??"")+E.slice(D);s("parser").isValidPartialNumber(z)||o.preventDefault()}catch{}},onKeyDown(o){if(o.defaultPrevented||p||Et(o))return;const m=Nt(o)*a("step"),E={ArrowUp(){r({type:"INPUT.ARROW_UP",step:m}),o.preventDefault()},ArrowDown(){r({type:"INPUT.ARROW_DOWN",step:m}),o.preventDefault()},Home(){ue(o)||(r({type:"INPUT.HOME"}),o.preventDefault())},End(){ue(o)||(r({type:"INPUT.END"}),o.preventDefault())},Enter(){r({type:"INPUT.ENTER"})}}[o.key];E==null||E(o)}})},getDecrementTriggerProps(){return e.button({...R.decrementTrigger.attrs,dir:a("dir"),id:ut(i),disabled:T,"data-disabled":g(T),"aria-label":I.decrementLabel,type:"button",tabIndex:-1,"aria-controls":_(i),onPointerDown(o){var m;T||!oe(o)||(r({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:o.pointerType}),o.pointerType==="mouse"&&o.preventDefault(),o.pointerType==="touch"&&((m=o.currentTarget)==null||m.focus({preventScroll:!0})))},onPointerUp(o){r({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:o.pointerType})},onPointerLeave(){T||r({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return e.button({...R.incrementTrigger.attrs,dir:a("dir"),id:lt(i),disabled:P,"data-disabled":g(P),"aria-label":I.incrementLabel,type:"button",tabIndex:-1,"aria-controls":_(i),onPointerDown(o){var m;P||!oe(o)||(r({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:o.pointerType}),o.pointerType==="mouse"&&o.preventDefault(),o.pointerType==="touch"&&((m=o.currentTarget)==null||m.focus({preventScroll:!0})))},onPointerUp(o){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:o.pointerType})},onPointerLeave(o){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:o.pointerType})}})},getScrubberProps(){return e.element({...R.scrubber.attrs,dir:a("dir"),"data-disabled":g(u),id:en(i),role:"presentation",onMouseDown(o){if(u)return;const m=ht(o),E=vt(o.currentTarget).devicePixelRatio;m.x=m.x-k(7.5,E),m.y=m.y-k(7.5,E),r({type:"SCRUBBER.PRESS_DOWN",point:m}),o.preventDefault()},style:{cursor:u?void 0:"ew-resize"}})}}}function mn(t){if(!(!t||t.ownerDocument.activeElement!==t))try{const{selectionStart:e,selectionEnd:n,value:r}=t,a=r.substring(0,e),i=r.substring(n);return{start:e,end:n,value:r,beforeTxt:a,afterTxt:i}}catch{}}function dn(t,e){if(!(!t||t.ownerDocument.activeElement!==t)){if(!e){t.setSelectionRange(t.value.length,t.value.length);return}try{const{value:n}=t,{beforeTxt:r="",afterTxt:a="",start:i}=e;let s=n.length;if(n.endsWith(a))s=n.length-a.length;else if(n.startsWith(r))s=r.length;else if(i!=null){const l=r[i-1],u=n.indexOf(l,i-1);u!==-1&&(s=u+1)}t.setSelectionRange(s,s)}catch{}}}var pn=(t,e={})=>new Intl.NumberFormat(t,e),gn=(t,e={})=>new ot(t,e),te=(t,e)=>{const{prop:n,computed:r}=e;return n("formatOptions")?r("parser").parse(String(t)):parseFloat(t)},x=(t,e)=>{const{prop:n,computed:r}=e;return Number.isNaN(t)?"":n("formatOptions")?r("formatter").format(t):t.toString()},fn=(t,e)=>{let n=t!==void 0&&!Number.isNaN(t)?t:1;return(e==null?void 0:e.style)==="percent"&&(t===void 0||Number.isNaN(t))&&(n=.01),n},{choose:yn,guards:bn,createMachine:hn}=Pt(),{not:Ne,and:Pe}=bn,vn=hn({props({props:t}){const e=fn(t.step,t.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!t.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",defaultValue:"",step:e,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...t,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...t.translations}}},initialState(){return"idle"},context({prop:t,bindable:e,getComputed:n}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(r){var s;const a=n(),i=te(r,{computed:a,prop:t});(s=t("onValueChange"))==null||s({value:r,valueAsNumber:i})}})),hint:e(()=>({defaultValue:null})),scrubberCursorPoint:e(()=>({defaultValue:null,hash(r){return r?`x:${r.x}, y:${r.y}`:""}})),fieldsetDisabled:e(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:t})=>t("dir")==="rtl",valueAsNumber:({context:t,computed:e,prop:n})=>te(t.get("value"),{computed:e,prop:n}),formattedValue:({computed:t,prop:e})=>x(t("valueAsNumber"),{computed:t,prop:e}),isAtMin:({computed:t,prop:e})=>It(t("valueAsNumber"),e("min")),isAtMax:({computed:t,prop:e})=>Tt(t("valueAsNumber"),e("max")),isOutOfRange:({computed:t,prop:e})=>!Vt(t("valueAsNumber"),e("min"),e("max")),isValueEmpty:({context:t})=>t.get("value")==="",isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled"),canIncrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMax"),canDecrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMin"),valueText:({prop:t,context:e})=>{var n,r;return(r=(n=t("translations")).valueText)==null?void 0:r.call(n,e.get("value"))},formatter:ce(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>pn(t,e)),parser:ce(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>gn(t,e))},watch({track:t,action:e,context:n,computed:r,prop:a}){t([()=>n.get("value"),()=>a("locale")],()=>{e(["syncInputElement"])}),t([()=>r("isOutOfRange")],()=>{e(["invokeOnInvalid"])}),t([()=>n.hash("scrubberCursorPoint")],()=>{e(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:Pe("clampValueOnBlur",Ne("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:Ne("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:yn([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:Pe("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:t})=>t("clampValueOnBlur"),spinOnPress:({prop:t})=>!!t("spinOnPress"),isInRange:({computed:t})=>!t("isOutOfRange"),isDecrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="decrement",isIncrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="increment",isTouchPointer:({event:t})=>t.pointerType==="touch"},effects:{waitForChangeDelay({send:t}){const e=setTimeout(()=>{t({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(e)},spinValue({send:t}){const e=setInterval(()=>{t({type:"SPIN"})},50);return()=>clearInterval(e)},trackFormControl({context:t,scope:e}){const n=F(e);return wt(n,{onFieldsetDisabledChange(r){t.set("fieldsetDisabled",r)},onFormReset(){t.set("value",t.initial("value"))}})},setupVirtualCursor({context:t,scope:e}){const n=t.get("scrubberCursorPoint");return sn(e,n)},preventTextSelection({scope:t}){return on(t)},trackButtonDisabled({context:t,scope:e,send:n}){const r=t.get("hint"),a=an(e,r);return Dt(a,{attributes:["disabled"],callback(){n({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:t,send:e,prop:n}){const r=F(t);if(!r||!t.isActiveElement(r)||!n("allowMouseWheel"))return;function a(i){i.preventDefault();const s=Math.sign(i.deltaY)*-1;s===1?e({type:"VALUE.INCREMENT"}):s===-1&&e({type:"VALUE.DECREMENT"})}return X(r,"wheel",a,{passive:!1})},activatePointerLock({scope:t}){if(!nt())return St(t.getDoc())},trackMousemove({scope:t,send:e,context:n,computed:r}){const a=t.getDoc();function i(l){const u=n.get("scrubberCursorPoint"),p=r("isRtl"),y=ln(t,{point:u,isRtl:p,event:l});y.hint&&e({type:"SCRUBBER.POINTER_MOVE",hint:y.hint,point:y.point})}function s(){e({type:"SCRUBBER.POINTER_UP"})}return xt(X(a,"mousemove",i,!1),X(a,"mouseup",s,!1))}},actions:{focusInput({scope:t,prop:e}){if(!e("focusInputOnChange"))return;const n=F(t);t.isActiveElement(n)||me(()=>n==null?void 0:n.focus({preventScroll:!0}))},increment({context:t,event:e,prop:n,computed:r}){let a=Ot(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(a=H(a,n("min"),n("max"))),t.set("value",x(a,{computed:r,prop:n}))},decrement({context:t,event:e,prop:n,computed:r}){let a=Ct(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(a=H(a,n("min"),n("max"))),t.set("value",x(a,{computed:r,prop:n}))},setClampedValue({context:t,prop:e,computed:n}){const r=H(n("valueAsNumber"),e("min"),e("max"));t.set("value",x(r,{computed:n,prop:e}))},setRawValue({context:t,event:e,prop:n,computed:r}){let a=te(e.value,{computed:r,prop:n});n("allowOverflow")||(a=H(a,n("min"),n("max"))),t.set("value",x(a,{computed:r,prop:n}))},setValue({context:t,event:e}){var r;const n=((r=e.target)==null?void 0:r.value)??e.value;t.set("value",n)},clearValue({context:t}){t.set("value","")},incrementToMax({context:t,prop:e,computed:n}){const r=x(e("max"),{computed:n,prop:e});t.set("value",r)},decrementToMin({context:t,prop:e,computed:n}){const r=x(e("min"),{computed:n,prop:e});t.set("value",r)},setHint({context:t,event:e}){t.set("hint",e.hint)},clearHint({context:t}){t.set("hint",null)},invokeOnFocus({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!0,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnBlur({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!1,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnInvalid({computed:t,prop:e,event:n}){var a;if(n.type==="INPUT.CHANGE")return;const r=t("valueAsNumber")>e("max")?"rangeOverflow":"rangeUnderflow";(a=e("onValueInvalid"))==null||a({reason:r,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},syncInputElement({context:t,event:e,computed:n,scope:r}){const a=e.type.endsWith("CHANGE")?t.get("value"):n("formattedValue"),i=F(r),s=mn(i);me(()=>{Rt(i,a),dn(i,s)})},setFormattedValue({context:t,computed:e}){t.set("value",e("formattedValue"))},setCursorPoint({context:t,event:e}){t.set("scrubberCursorPoint",e.point)},clearCursorPoint({context:t}){t.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:t,scope:e}){const n=mt(e),r=t.get("scrubberCursorPoint");!n||!r||(n.style.transform=`translate3d(${r.x}px, ${r.y}px, 0px)`)}}}});_t()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);const En=t=>{const e=S.useId(),{getRootNode:n}=$t(),{dir:r,locale:a}=Lt(),i=rt(),s={id:e,ids:{label:i==null?void 0:i.ids.label,input:i==null?void 0:i.ids.control},disabled:i==null?void 0:i.disabled,readOnly:i==null?void 0:i.readOnly,required:i==null?void 0:i.required,invalid:i==null?void 0:i.invalid,dir:r,locale:a,getRootNode:n,...t},l=Mt(vn,s);return cn(l,Qt)},dt=S.forwardRef((t,e)=>{const[n,r]=Ut()(t,["allowMouseWheel","allowOverflow","clampValueOnBlur","defaultValue","disabled","focusInputOnChange","form","formatOptions","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","readOnly","required","spinOnPress","step","translations","value"]),a=En(n),i=re(a.getRootProps(),r);return N.jsx(Gt,{value:a,children:N.jsx(ae.div,{...i,ref:e})})});dt.displayName="NumberInputRoot";const b=S.forwardRef(({children:t,className:e,defaultValue:n,disabled:r,id:a,invalid:i,max:s,min:l,name:u,onValueChange:p,readOnly:y,required:f,step:P,value:T,...I},o)=>{const m=Je();return N.jsx(dt,{clampValueOnBlur:!1,className:e,"data-ods":"quantity",defaultValue:n,disabled:r,id:a||(m==null?void 0:m.id),inputMode:"decimal",invalid:i||(m==null?void 0:m.invalid),max:s,min:l,name:u,onValueChange:p,readOnly:y,ref:o,required:f,step:P,value:T,...I,children:t})});b.displayName="Quantity";b.__docgenInfo={description:"",methods:[],displayName:"Quantity",props:{defaultValue:{required:!1,tsType:{name:"string"},description:"The initial quantity value. Use when you don't need to control the value of the quantity."},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the component is disabled."},invalid:{required:!1,tsType:{name:"boolean"},description:"Whether the component is in error state."},max:{required:!1,tsType:{name:"number"},description:"The maximum quantity that can be selected."},min:{required:!1,tsType:{name:"number"},description:"The minimum quantity that can be selected."},name:{required:!1,tsType:{name:"string"},description:"The name of the form element. Useful for form submission."},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(detail: QuantityValueChangeDetail) => void",signature:{arguments:[{type:{name:"QuantityValueChangeDetail"},name:"detail"}],return:{name:"void"}}},description:"Callback fired when the value changes."},readOnly:{required:!1,tsType:{name:"boolean"},description:"Whether the component is readonly."},required:{required:!1,tsType:{name:"boolean"},description:"Whether the component is required."},step:{required:!1,tsType:{name:"number"},description:"The amount to increment or decrement the value by."},value:{required:!1,tsType:{name:"string"},description:"The controlled quantity value."}},composes:["Omit"]};const V={"quantity-control":"_quantity-control_7aeg8_2","quantity-control__decrement":"_quantity-control__decrement_7aeg8_8","quantity-control__decrement--invalid":"_quantity-control__decrement--invalid_7aeg8_12","quantity-control__increment":"_quantity-control__increment_7aeg8_15","quantity-control__increment--invalid":"_quantity-control__increment--invalid_7aeg8_19"},h=S.forwardRef(({children:t,className:e,...n},r)=>{const{decrement:a,getDecrementTriggerProps:i,getIncrementTriggerProps:s,increment:l,invalid:u}=ie(),p=i(),y=s();return N.jsxs(at,{className:Y(V["quantity-control"],e),"data-ods":"quantity-control",ref:r,role:"group",...n,children:[N.jsx(de,{"aria-hidden":!0,className:Y(V["quantity-control__decrement"],{[V["quantity-control__decrement--invalid"]]:u}),color:u?j.critical:j.primary,disabled:p.disabled,onClick:a,size:ge.sm,tabIndex:-1,variant:pe.outline,children:N.jsx(fe,{name:ye.minus})}),t,N.jsx(de,{"aria-hidden":!0,className:Y(V["quantity-control__increment"],{[V["quantity-control__increment--invalid"]]:u}),color:u?j.critical:j.primary,disabled:y.disabled,onClick:l,size:ge.sm,tabIndex:-1,variant:pe.outline,children:N.jsx(fe,{name:ye.plus})})]})});h.displayName="QuantityControl";h.__docgenInfo={description:"",methods:[],displayName:"QuantityControl",composes:["ComponentPropsWithRef"]};const Nn={"quantity-input":"_quantity-input_cpyn3_2"},v=S.forwardRef(({className:t,id:e,...n},r)=>{const a=Je();return N.jsx(it,{"aria-describedby":n["aria-describedby"]||(a==null?void 0:a.ariaDescribedBy),className:Y(Nn["quantity-input"],t),"data-ods":"quantity-input",id:e||(a==null?void 0:a.id),ref:r,...n})});v.displayName="QuantityInput";v.__docgenInfo={description:"",methods:[],displayName:"QuantityInput",composes:["ComponentPropsWithRef"]};const Pn={argTypes:qt(["defaultValue","name","onValueChange","required","value"]),component:b,subcomponents:{QuantityControl:h,QuantityInput:v},title:"React Components/Quantity"},A={render:t=>c.createElement(b,{disabled:t.disabled,invalid:t.invalid,max:t.max,min:t.min,readOnly:t.readOnly,step:t.step},c.createElement(h,null,c.createElement(v,{placeholder:t.placeholder}))),argTypes:Bt({disabled:{table:{category:O.general},control:{type:"boolean"}},invalid:{table:{category:O.general},control:"boolean"},max:{table:{category:O.general},control:{type:"number"}},min:{table:{category:O.general},control:{type:"number"}},placeholder:{table:{category:O.general,type:{summary:"string"}},control:"text"},readOnly:{table:{category:O.general},control:"boolean"},step:{table:{category:O.general},control:{type:"number"}}})},$={tags:["!dev"],render:({})=>c.createElement(et,null,c.createElement(tt,null,"Number of CPUs:"),c.createElement(b,{max:10,min:0},c.createElement(h,null,c.createElement(v,null))))},L={tags:["!dev"],render:({})=>c.createElement(b,null,c.createElement(h,null,c.createElement(v,null)))},M={tags:["!dev"],render:({})=>c.createElement(b,{disabled:!0},c.createElement(h,null,c.createElement(v,null)))},Q={tags:["!dev"],render:({})=>c.createElement(et,null,c.createElement(tt,null,"Set a quantity:"),c.createElement(b,null,c.createElement(h,null,c.createElement(v,null))))},U={tags:["!dev"],render:({})=>c.createElement(b,{max:10},c.createElement(h,null,c.createElement(v,null)))},q={tags:["!dev"],render:({})=>c.createElement(b,{min:0},c.createElement(h,null,c.createElement(v,null)))},B={tags:["!dev"],parameters:{layout:"centered"},render:({})=>c.createElement(b,{defaultValue:"0",min:0},c.createElement(h,null,c.createElement(v,null)))},G={tags:["!dev"],render:({})=>c.createElement(b,{readOnly:!0},c.createElement(h,null,c.createElement(v,null)))},W={tags:["!dev"],render:({})=>c.createElement(b,{step:10},c.createElement(h,null,c.createElement(v,null)))};var Te,Ie,Re;A.parameters={...A.parameters,docs:{...(Te=A.parameters)==null?void 0:Te.docs,source:{originalSource:`{
  render: (arg: DemoArg) => <Quantity disabled={arg.disabled} invalid={arg.invalid} max={arg.max} min={arg.min} readOnly={arg.readOnly} step={arg.step}>
      <QuantityControl>
        <QuantityInput placeholder={arg.placeholder} />
      </QuantityControl>
    </Quantity>,
  argTypes: orderControls({
    disabled: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: {
        type: 'boolean'
      }
    },
    invalid: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: 'boolean'
    },
    max: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: {
        type: 'number'
      }
    },
    min: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: {
        type: 'number'
      }
    },
    placeholder: {
      table: {
        category: CONTROL_CATEGORY.general,
        type: {
          summary: 'string'
        }
      },
      control: 'text'
    },
    readOnly: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: 'boolean'
    },
    step: {
      table: {
        category: CONTROL_CATEGORY.general
      },
      control: {
        type: 'number'
      }
    }
  })
}`,...(Re=(Ie=A.parameters)==null?void 0:Ie.docs)==null?void 0:Re.source}}};var Ce,Oe,xe;$.parameters={...$.parameters,docs:{...(Ce=$.parameters)==null?void 0:Ce.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <FormField>
      <FormFieldLabel>
        Number of CPUs:
      </FormFieldLabel>

      <Quantity max={10} min={0}>
        <QuantityControl>
          <QuantityInput />
        </QuantityControl>
      </Quantity>
    </FormField>
}`,...(xe=(Oe=$.parameters)==null?void 0:Oe.docs)==null?void 0:xe.source}}};var Se,De,we;L.parameters={...L.parameters,docs:{...(Se=L.parameters)==null?void 0:Se.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(we=(De=L.parameters)==null?void 0:De.docs)==null?void 0:we.source}}};var Ve,_e,Fe;M.parameters={...M.parameters,docs:{...(Ve=M.parameters)==null?void 0:Ve.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity disabled>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Fe=(_e=M.parameters)==null?void 0:_e.docs)==null?void 0:Fe.source}}};var Ae,$e,Le;Q.parameters={...Q.parameters,docs:{...(Ae=Q.parameters)==null?void 0:Ae.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <FormField>
      <FormFieldLabel>
        Set a quantity:
      </FormFieldLabel>

      <Quantity>
        <QuantityControl>
          <QuantityInput />
        </QuantityControl>
      </Quantity>
    </FormField>
}`,...(Le=($e=Q.parameters)==null?void 0:$e.docs)==null?void 0:Le.source}}};var Me,Qe,Ue;U.parameters={...U.parameters,docs:{...(Me=U.parameters)==null?void 0:Me.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity max={10}>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Ue=(Qe=U.parameters)==null?void 0:Qe.docs)==null?void 0:Ue.source}}};var qe,Be,Ge;q.parameters={...q.parameters,docs:{...(qe=q.parameters)==null?void 0:qe.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity min={0}>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Ge=(Be=q.parameters)==null?void 0:Be.docs)==null?void 0:Ge.source}}};var We,ke,He;B.parameters={...B.parameters,docs:{...(We=B.parameters)==null?void 0:We.docs,source:{originalSource:`{
  tags: ['!dev'],
  parameters: {
    layout: 'centered'
  },
  render: ({}) => <Quantity defaultValue="0" min={0}>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(He=(ke=B.parameters)==null?void 0:ke.docs)==null?void 0:He.source}}};var je,Ye,Ze;G.parameters={...G.parameters,docs:{...(je=G.parameters)==null?void 0:je.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity readOnly>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Ze=(Ye=G.parameters)==null?void 0:Ye.docs)==null?void 0:Ze.source}}};var ze,Ke,Xe;W.parameters={...W.parameters,docs:{...(ze=W.parameters)==null?void 0:ze.docs,source:{originalSource:`{
  tags: ['!dev'],
  render: ({}) => <Quantity step={10}>
      <QuantityControl>
        <QuantityInput />
      </QuantityControl>
    </Quantity>
}`,...(Xe=(Ke=W.parameters)==null?void 0:Ke.docs)==null?void 0:Xe.source}}};const Tn=["Demo","AccessibilityLabel","Default","Disabled","InFormField","Max","Min","Overview","Readonly","Step"],An=Object.freeze(Object.defineProperty({__proto__:null,AccessibilityLabel:$,Default:L,Demo:A,Disabled:M,InFormField:Q,Max:U,Min:q,Overview:B,Readonly:G,Step:W,__namedExportsOrder:Tn,default:Pn},Symbol.toStringTag,{value:"Module"}));export{$ as A,L as D,Q as I,U as M,B as O,An as Q,G as R,W as S,M as a,q as b};
