import{j as n}from"./jsx-runtime-Cfl8ynUo.js";import{m as k}from"./index-2w0W-O47-BJ19ihbZ.js";import{r as a}from"./index-jIWwRBLr.js";import{h as re,e as ie}from"./Text-CcNd6qQr-DgkqCZse.js";import{C as ne,f as se,a as le,b as P,x as B,t as E,s as H}from"./useI18n-C3-XAdTV-DeysXkv9.js";import{a as z}from"./ods-react236-aAAP9SXj.js";import{t as R,l as g}from"./ods-react60-CRx7zEey.js";import{t}from"./ods-react93-l5fgq-IX.js";const D=a.createContext({});function oe({children:e,id:d,invalid:i,...c}){const u=a.useId(),[s,r]=a.useState(),[o,l]=a.useState(),[h,f]=a.useState(),p=a.useMemo(()=>`${o||""} ${i&&s?s:""}`.trim(),[s,o,i]);return n.jsx(D.Provider,{value:{ariaDescribedBy:p,errorId:s,helperId:o,id:d??u,invalid:i,labelId:h,setErrorId:r,setHelperId:l,setLabelId:f,...c},children:e})}function N(){return a.useContext(D)}const de={"form-field":"_form-field_112eg_2"},G=a.forwardRef(({children:e,className:d,id:i,invalid:c,...u},s)=>n.jsx(oe,{id:i,invalid:c,children:n.jsx("div",{className:k(de["form-field"],d),"data-ods":"form-field",ref:s,role:"group",...u,children:e})}));G.displayName="FormField";const ue={"form-field-error":"_form-field-error_nxtot_2"},U=a.forwardRef(({children:e,className:d,id:i,...c},u)=>{const{invalid:s,setErrorId:r}=N(),o=a.useId(),l=a.useMemo(()=>i??o,[o,i]);return a.useEffect(()=>{r&&r(l)},[l,r]),s?n.jsx("span",{"aria-live":"polite",className:k(ue["form-field-error"],d),"data-ods":"form-field-error",id:l,ref:u,...c,children:e}):n.jsx(n.Fragment,{})});U.displayName="FormFieldError";const Z=a.forwardRef(({children:e,className:d,id:i,...c},u)=>{const{setHelperId:s}=N(),r=a.useId(),o=a.useMemo(()=>i??r,[r,i]);return a.useEffect(()=>{s&&s(o)},[o,s]),n.jsx("span",{className:d,"data-ods":"form-field-helper",id:o,ref:u,...c,children:e})});Z.displayName="FormFieldHelper";const ce={"form-field-label":"_form-field-label_1udkg_2"},K=a.forwardRef(({children:e,className:d,id:i,...c},u)=>{const{id:s,setLabelId:r}=N(),o=a.useId(),l=a.useMemo(()=>i??o,[o,i]);return a.useEffect(()=>{r&&r(l)},[l,r]),n.jsx(re,{className:k(ce["form-field-label"],d),"data-ods":"form-field-label",htmlFor:s,id:l,preset:ie.label,ref:u,...c,children:e})});K.displayName="FormFieldLabel";G.__docgenInfo={description:"",methods:[],displayName:"FormField"};U.__docgenInfo={description:"",methods:[],displayName:"FormFieldError"};Z.__docgenInfo={description:"",methods:[],displayName:"FormFieldHelper"};K.__docgenInfo={description:"",methods:[],displayName:"FormFieldLabel"};var I=(e=>(e.close="close",e.open="open",e))(I||{});const we=Object.freeze(Object.values(I));var x=(e=>(e.email="email",e.number="number",e.password="password",e.search="search",e.text="text",e.time="time",e.url="url",e))(x||{});const Ce=Object.freeze(Object.values(x));function j(e){return Array.isArray(e)?e.length>0:!!e||e===0}var _=(e=>(e.clearButton="input.clear.button",e.maskButtonHide="input.mask.hide.button",e.maskButtonShow="input.mask.show.button",e.searchButton="input.search.button",e))(_||{});const me={"input.clear.button":{[t.de]:"Eingabe löschen",[t.en]:"Clear input",[t.es]:"Borrar entrada",[t.fr]:"Effacer l’entrée",[t.it]:"Cancella input",[t.nl]:"Invoer wissen",[t.pl]:"Wyczyść pole",[t.pt]:"Limpar a entrada"},"input.mask.hide.button":{[t.de]:"Ausblenden",[t.en]:"Hide",[t.es]:"Ocultar",[t.fr]:"Masquer",[t.it]:"Nascondi",[t.nl]:"Verbergen",[t.pl]:"Ukryj",[t.pt]:"Ocultar"},"input.mask.show.button":{[t.de]:"Anzeigen",[t.en]:"Show",[t.es]:"Mostrar",[t.fr]:"Afficher",[t.it]:"Mostra",[t.nl]:"Tonen",[t.pl]:"Pokaż",[t.pt]:"Mostrar"},"input.search.button":{[t.de]:"Suchen",[t.en]:"Search",[t.es]:"Buscar",[t.fr]:"Rechercher",[t.it]:"Cerca",[t.nl]:"Zoeken",[t.pl]:"Szukaj",[t.pt]:"Pesquisar"}},W=a.createContext({});function pe({children:e,i18n:d,locale:i}){return n.jsx(W.Provider,{value:{i18n:d,locale:i},children:e})}function fe(){return a.useContext(W)}const A={"input-actions":"_input-actions_ke1hx_2","input-actions__loading":"_input-actions__loading_ke1hx_7"},he=({disabled:e,hasClearButton:d,hasSearchButton:i,hasToggleMaskIcon:c,inputId:u,isMaskOpen:s,loading:r,onClearClick:o,onToggleMask:l,readOnly:h})=>{const{i18n:f,locale:p}=fe(),{translate:m}=ne(me,p,f);return n.jsxs("div",{className:A["input-actions"],children:[r&&n.jsx(se,{className:A["input-actions__loading"],color:e?P.neutral:P.primary,role:"none",size:le.xs}),d&&n.jsx(B,{"aria-controls":u,"aria-label":m(_.clearButton),color:z.neutral,disabled:e||h,onClick:o,size:H.xs,type:"button",variant:E.ghost,children:n.jsx(R,{name:g.xmark})}),c&&n.jsx(B,{"aria-controls":u,"aria-label":m(s?_.maskButtonHide:_.maskButtonShow),color:z.primary,disabled:e,onClick:l,size:H.xs,type:"button",variant:E.ghost,children:n.jsx(R,{name:s?g.eye:g.eyeOff})}),i&&n.jsx(B,{"aria-label":m(_.searchButton),color:z.primary,disabled:e||h,size:H.xs,type:"submit",variant:E.ghost,children:n.jsx(R,{name:g.magnifyingGlass})})]})},be="_input_ff5b7_2",ve="_input__field_ff5b7_41",V={input:be,"input--with-actions":"_input--with-actions_ff5b7_38",input__field:ve},Y=a.forwardRef(({className:e,clearable:d=!1,defaultValue:i,i18n:c,id:u,invalid:s,loading:r=!1,locale:o,maskOption:l={enable:!1,initialState:I.close},onClear:h,type:f=x.text,value:p,...m},J)=>{const Q=a.useId(),v=N(),b=a.useRef(null),[q,L]=a.useState(j(i)||j(p)),[w,X]=a.useState((l==null?void 0:l.initialState)===I.open),C=s||(v==null?void 0:v.invalid),T=u||(v==null?void 0:v.id)||Q;a.useImperativeHandle(J,()=>b.current,[b]),a.useEffect(()=>{p!==void 0&&L(j(p))},[p]);const M=a.useMemo(()=>d&&!r&&q,[d,q,r]),F=a.useMemo(()=>f===x.search&&!r,[r,f]),O=a.useMemo(()=>l.enable&&!r,[r,l.enable]),$=a.useMemo(()=>l.enable&&!w?x.password:f,[w,l.enable,f]),S=a.useMemo(()=>M||F||O||r,[M,F,O,r]);function ee(y){m.onChange&&m.onChange(y),p===void 0&&L(j(y.target.value))}function ae(){h&&h(),b.current&&(Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(b.current,""),b.current.dispatchEvent(new Event("input",{bubbles:!0})),b.current.focus())}function te(){X(y=>!y)}return n.jsx(pe,{i18n:c,locale:o,children:n.jsxs("div",{className:k(V.input,{[V["input--with-actions"]]:S},e),"data-disabled":m.disabled?!0:void 0,"data-invalid":C?!0:void 0,"data-readonly":m.readOnly?!0:void 0,role:S?"group":void 0,children:[n.jsx("input",{"aria-busy":r,"aria-describedby":m["aria-describedby"]||(v==null?void 0:v.ariaDescribedBy),"aria-invalid":C,className:V.input__field,"data-ods":"input","data-invalid":C?!0:void 0,defaultValue:i,id:T,ref:b,type:$,value:p,...m,onChange:ee}),S&&n.jsx(he,{disabled:m.disabled,hasClearButton:M,hasSearchButton:F,hasToggleMaskIcon:O,inputId:T,isMaskOpen:w,loading:r,onClearClick:ae,onToggleMask:te,readOnly:m.readOnly})]})})});Y.displayName="Input";Y.__docgenInfo={description:"",methods:[],displayName:"Input",props:{clearable:{defaultValue:{value:"!1",computed:!1},required:!1},loading:{defaultValue:{value:"!1",computed:!1},required:!1},maskOption:{defaultValue:{value:"{ enable: !1, initialState: H.close }",computed:!1},required:!1},type:{defaultValue:{value:"g.text",computed:!0},required:!1}}};export{U as C,N as I,G as L,Z as P,K as S,we as c,_ as n,I as o,Y as p,x as r,Ce as t};
