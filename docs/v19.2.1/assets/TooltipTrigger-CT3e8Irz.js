import{j as a}from"./jsx-runtime-Cfl8ynUo.js";import{a as B}from"./overlay-CZHjGBMC.js";import{s as K,P as W}from"./portal-QnUqvOWs.js";import{u as D,a as Y,P as U}from"./use-presence-BC2E-XtL.js";import{c as Q,T as u,U as m,V as H,Q as J,P as X,a7 as Z,a8 as z,z as ee,Y as te,l as y,a9 as oe,aa as ne,C as re,u as ie,R as se,D as ae,S as le}from"./use-locale-context-BIV2aQtl.js";import{t as ce,i as pe}from"./index-DaqjtwB0.js";import{g as de,a as b}from"./index-Bc-ZgdcL.js";import{r as c}from"./index-jIWwRBLr.js";import{c as I}from"./index-CqY9YpN0.js";const[ge,v]=Q({name:"TooltipContext",hookName:"useTooltipContext",providerName:"<TooltipProvider />"}),M=c.forwardRef((e,t)=>{const o=v(),n=u(o.getArrowProps(),e);return a.jsx(m.div,{...n,ref:t})});M.displayName="TooltipArrow";const N=c.forwardRef((e,t)=>{const o=v(),n=u(o.getArrowTipProps(),e);return a.jsx(m.div,{...n,ref:t})});N.displayName="TooltipArrowTip";const E=c.forwardRef((e,t)=>{const o=v(),n=D(),r=u(o.getContentProps(),n.getPresenceProps(),e);return n.unmounted?null:a.jsx(m.div,{...r,ref:H(n.ref,t)})});E.displayName="TooltipContent";const R=c.forwardRef((e,t)=>{const o=v(),n=u(o.getPositionerProps(),e);return D().unmounted?null:a.jsx(m.div,{...n,ref:t})});R.displayName="TooltipPositioner";var ue=J("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),f=ue.build(),S=e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`tooltip:${e.id}:trigger`},fe=e=>{var t;return((t=e.ids)==null?void 0:t.content)??`tooltip:${e.id}:content`},me=e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`tooltip:${e.id}:arrow`},V=e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`tooltip:${e.id}:popper`},T=e=>e.getById(S(e)),w=e=>e.getById(V(e)),p=z({id:null});function ve(e,t){const{state:o,context:n,send:r,scope:i,prop:s,event:P}=e,C=s("id"),h=!!s("aria-label"),g=o.matches("open","closing"),G=S(i),k=fe(i),d=s("disabled"),O=de({...s("positioning"),placement:n.get("currentPlacement")});return{open:g,setOpen(l){o.matches("open","closing")!==l&&r({type:l?"open":"close"})},reposition(l={}){r({type:"positioning.set",options:l})},getTriggerProps(){return t.button({...f.trigger.attrs,id:G,dir:s("dir"),"data-expanded":X(g),"data-state":g?"open":"closed","aria-describedby":g?k:void 0,onClick(l){l.defaultPrevented||d||s("closeOnClick")&&r({type:"close",src:"trigger.click"})},onFocus(l){queueMicrotask(()=>{l.defaultPrevented||d||P.src!=="trigger.pointerdown"&&pe()&&r({type:"open",src:"trigger.focus"})})},onBlur(l){l.defaultPrevented||d||C===p.get("id")&&r({type:"close",src:"trigger.blur"})},onPointerDown(l){l.defaultPrevented||d||Z(l)&&s("closeOnPointerDown")&&C===p.get("id")&&r({type:"close",src:"trigger.pointerdown"})},onPointerMove(l){l.defaultPrevented||d||l.pointerType!=="touch"&&r({type:"pointer.move"})},onPointerLeave(){d||r({type:"pointer.leave"})},onPointerCancel(){d||r({type:"pointer.leave"})}})},getArrowProps(){return t.element({id:me(i),...f.arrow.attrs,dir:s("dir"),style:O.arrow})},getArrowTipProps(){return t.element({...f.arrowTip.attrs,dir:s("dir"),style:O.arrowTip})},getPositionerProps(){return t.element({id:V(i),...f.positioner.attrs,dir:s("dir"),style:O.floating})},getContentProps(){return t.element({...f.content.attrs,dir:s("dir"),hidden:!g,"data-state":g?"open":"closed",role:h?void 0:"tooltip",id:h?void 0:k,"data-placement":n.get("currentPlacement"),onPointerEnter(){r({type:"content.pointer.move"})},onPointerLeave(){r({type:"content.pointer.leave"})},style:{pointerEvents:s("interactive")?"auto":"none"}})}}}var{and:Pe,not:x}=te(),Oe=ee({initialState:({prop:e})=>e("open")||e("defaultOpen")?"open":"closed",props({props:e}){const t=e.closeOnClick??!0,o=e.closeOnPointerDown??t;return{id:"x",openDelay:400,closeDelay:150,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,disabled:!1,...e,closeOnPointerDown:o,closeOnClick:t,positioning:{placement:"bottom",...e.positioning}}},effects:["trackFocusVisible","trackStore"],context:({bindable:e})=>({currentPlacement:e(()=>({defaultValue:void 0})),hasPointerMoveOpened:e(()=>({defaultValue:!1}))}),watch({track:e,action:t,prop:o}){e([()=>o("disabled")],()=>{t(["closeIfDisabled"])}),e([()=>o("open")],()=>{t(["toggleVisibility"])})},states:{closed:{entry:["clearGlobalId"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":{actions:["clearPointerMoveOpened"]},"pointer.move":[{guard:Pe("noVisibleTooltip",x("hasPointerMoveOpened")),target:"opening"},{guard:x("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{effects:["trackScroll","trackPointerlockChange","waitForOpenDelay"],on:{"after.openDelay":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"controlled.open":{target:"open"},"controlled.close":{target:"closed"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose","toggleVisibility"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],close:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}]}},open:{effects:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"controlled.close":{target:"closed"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.leave":[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"content.pointer.leave":{guard:"isInteractive",target:"closing"},"positioning.set":{actions:["reposition"]}}},closing:{effects:["trackPositioning","waitForCloseDelay"],on:{"after.closeDelay":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"controlled.close":{target:"closed"},"controlled.open":{target:"open"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.move":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen","toggleVisibility"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"content.pointer.move":{guard:"isInteractive",target:"open"},"positioning.set":{actions:["reposition"]}}}},implementations:{guards:{noVisibleTooltip:()=>p.get("id")===null,isVisible:({prop:e})=>e("id")===p.get("id"),isInteractive:({prop:e})=>!!e("interactive"),hasPointerMoveOpened:({context:e})=>e.get("hasPointerMoveOpened"),isOpenControlled:({prop:e})=>e("open")!==void 0},actions:{setGlobalId:({prop:e})=>{p.set("id",e("id"))},clearGlobalId:({prop:e})=>{e("id")===p.get("id")&&p.set("id",null)},invokeOnOpen:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose:({prop:e})=>{var t;(t=e("onOpenChange"))==null||t({open:!1})},closeIfDisabled:({prop:e,send:t})=>{e("disabled")&&t({type:"close",src:"disabled.change"})},reposition:({context:e,event:t,prop:o,scope:n})=>{if(t.type!=="positioning.set")return;const r=()=>w(n);return b(T(n),r,{...o("positioning"),...t.options,defer:!0,listeners:!1,onComplete(i){e.set("currentPlacement",i.placement)}})},toggleVisibility:({prop:e,event:t,send:o})=>{queueMicrotask(()=>{o({type:e("open")?"controlled.open":"controlled.close",previousEvent:t})})},setPointerMoveOpened:({context:e})=>{e.set("hasPointerMoveOpened",!0)},clearPointerMoveOpened:({context:e})=>{e.set("hasPointerMoveOpened",!1)}},effects:{trackFocusVisible:({scope:e})=>{var t;return ce({root:(t=e.getRootNode)==null?void 0:t.call(e)})},trackPositioning:({context:e,prop:t,scope:o})=>{e.get("currentPlacement")||e.set("currentPlacement",t("positioning").placement);const n=()=>w(o);return b(T(o),n,{...t("positioning"),defer:!0,onComplete(r){e.set("currentPlacement",r.placement)}})},trackPointerlockChange:({send:e,scope:t})=>{const o=t.getDoc();return y(o,"pointerlockchange",()=>e({type:"close",src:"pointerlock:change"}),!1)},trackScroll:({send:e,prop:t,scope:o})=>{if(!t("closeOnScroll"))return;const n=T(o);if(!n)return;const i=oe(n).map(s=>y(s,"scroll",()=>{e({type:"close",src:"scroll"})},{passive:!0,capture:!0}));return()=>{i.forEach(s=>s==null?void 0:s())}},trackStore:({prop:e,send:t})=>{let o;return queueMicrotask(()=>{o=p.subscribe(()=>{p.get("id")!==e("id")&&t({type:"close",src:"id.change"})})}),()=>o==null?void 0:o()},trackEscapeKey:({send:e,prop:t})=>t("closeOnEscape")?y(document,"keydown",n=>{ne(n)||n.key==="Escape"&&(n.stopPropagation(),e({type:"close",src:"keydown.escape"}))},!0):void 0,waitForOpenDelay:({send:e,prop:t})=>{const o=setTimeout(()=>{e({type:"after.openDelay"})},t("openDelay"));return()=>clearTimeout(o)},waitForCloseDelay:({send:e,prop:t})=>{const o=setTimeout(()=>{e({type:"after.closeDelay"})},t("closeDelay"));return()=>clearTimeout(o)}}}});re()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","defaultOpen","open","openDelay","positioning"]);const ye=e=>{const t=c.useId(),{getRootNode:o}=ie(),{dir:n}=se(),r={id:t,dir:n,getRootNode:o,...e},i=ae(Oe,r);return ve(i,le)},Te=e=>{const[t,{children:o,...n}]=K(e),r=ye(n),i=Y(u({present:r.open},t));return a.jsx(ge,{value:r,children:a.jsx(U,{value:i,children:o})})},j=c.forwardRef((e,t)=>{const o=v(),n=u(o.getTriggerProps(),e);return a.jsx(m.button,{...n,ref:t})});j.displayName="TooltipTrigger";const _=c.createContext({});function A({children:e}){const[t,o]=c.useState();return a.jsx(_.Provider,{value:{setTriggerId:o,triggerId:t},children:e})}function q(){return c.useContext(_)}A.__docgenInfo={description:"",methods:[],displayName:"TooltipProvider",props:{triggerId:{required:!1,tsType:{name:"string"},description:""},setTriggerId:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const Ce=({children:e,closeDelay:t=50,onOpenChange:o,open:n,openDelay:r=0,position:i=B.top,...s})=>{const{triggerId:P}=q();return a.jsx(Te,{closeDelay:t,closeOnClick:!1,closeOnPointerDown:!1,closeOnScroll:!1,ids:{trigger:P},interactive:!0,onOpenChange:o,open:n,openDelay:r,positioning:{placement:i},...s,children:e})},$=e=>a.jsx(A,{children:a.jsx(Ce,{...e})});$.displayName="Tooltip";$.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{closeDelay:{required:!1,tsType:{name:"number"},description:"Number of milliseconds before closing the tooltip."},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(detail: TooltipOpenChangeDetail) => void",signature:{arguments:[{type:{name:"TooltipOpenChangeDetail"},name:"detail"}],return:{name:"void"}}},description:"Callback fired when the tooltip open state changes."},open:{required:!1,tsType:{name:"boolean"},description:"The controlled open state of the tooltip."},openDelay:{required:!1,tsType:{name:"number"},description:"Number of milliseconds before opening the tooltip."},position:{required:!1,tsType:{name:"literal",value:"`${OVERLAY_POSITION}`"},description:`@type=TOOLTIP_POSITION
The tooltip position around the trigger.`}}};const he={"tooltip-content":"_tooltip-content_zk0pd_2"},F=c.forwardRef(({children:e,className:t,createPortal:o=!0,withArrow:n=!1,...r},i)=>a.jsx(W,{disabled:!o,children:a.jsx(R,{children:a.jsxs(E,{className:I(he["tooltip-content"],t),"data-ods":"tooltip-content",ref:i,...r,children:[n&&a.jsx(M,{children:a.jsx(N,{})}),e]})})}));F.displayName="TooltipContent";F.__docgenInfo={description:"",methods:[],displayName:"TooltipContent",props:{createPortal:{required:!1,tsType:{name:"boolean"},description:"Whether the component should be rendered in the DOM close to the body tag.",defaultValue:{value:"true",computed:!1}},withArrow:{required:!1,tsType:{name:"boolean"},description:"Whether the component displays an arrow pointing to the trigger.",defaultValue:{value:"false",computed:!1}}},composes:["ComponentPropsWithRef"]};const ke={"tooltip-trigger":"_tooltip-trigger_wxukn_2"},L=c.forwardRef(({asChild:e,children:t,className:o,...n},r)=>{const{setTriggerId:i}=q();return c.useEffect(()=>{var s;if(!e&&n.id){i==null||i(n.id);return}t&&((s=t.props)!=null&&s.id)&&(i==null||i(t.props.id))},[e,t,n,i]),a.jsx(j,{asChild:e,className:I(ke["tooltip-trigger"],o),"data-ods":"tooltip-trigger",ref:r,role:"button",tabIndex:0,...n,children:t})});L.displayName="TooltipTrigger";L.__docgenInfo={description:"",methods:[],displayName:"TooltipTrigger",props:{asChild:{required:!1,tsType:{name:"boolean"},description:`Use the provided child element as the default rendered element, combining their props and behavior.
Be careful to pass an actual Node, not a Fragment.`}},composes:["ComponentPropsWithRef"]};export{L as T,F as a,$ as b};
