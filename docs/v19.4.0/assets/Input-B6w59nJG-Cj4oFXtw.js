import{j as n}from"./jsx-runtime-Cfl8ynUo.js";import{m as I}from"./index-CWkFp9WS-BSIT86NH.js";import{r as a}from"./index-jIWwRBLr.js";import{l as te,e as ie}from"./Text-BXqy_-qZ-CBjGeyCW.js";import{r as ne}from"./ods-react114-5kwUyuQy.js";import{C as se,g as le,a as oe,b as P,R as B,t as E,s as R}from"./useI18n-Dq1Z6_TT-D_3qtvJW.js";import{a as z}from"./ods-react257-aAAP9SXj.js";import{a as H,l as x}from"./ods-react64-C395g5lW.js";import{t as r}from"./ods-react101-l5fgq-IX.js";const D=a.createContext({});function de({children:e,id:d,invalid:i,...c}){const u=a.useId(),[s,t]=a.useState(),[o,l]=a.useState(),[h,f]=a.useState(),p=a.useMemo(()=>`${o||""} ${i&&s?s:""}`.trim(),[s,o,i]);return n.jsx(D.Provider,{value:{ariaDescribedBy:p,errorId:s,helperId:o,id:d??u,invalid:i,labelId:h,setErrorId:t,setHelperId:l,setLabelId:f,...c},children:e})}function w(){return a.useContext(D)}const ue={"form-field":"_form-field_12ogr_2"},$=a.forwardRef(({children:e,className:d,id:i,invalid:c,...u},s)=>n.jsx(de,{id:i,invalid:c,children:n.jsx("div",{className:I(ue["form-field"],d),"data-ods":"form-field",ref:s,role:"group",...u,children:e})}));$.displayName="FormField";const ce={"form-field-error":"_form-field-error_mbu11_2"},G=a.forwardRef(({children:e,className:d,id:i,...c},u)=>{const{invalid:s,setErrorId:t}=w(),o=a.useId(),l=a.useMemo(()=>i??o,[o,i]);return a.useEffect(()=>{t&&t(l)},[l,t]),s?n.jsx("span",{"aria-live":"polite",className:I(ce["form-field-error"],d),"data-ods":"form-field-error",id:l,ref:u,...c,children:e}):n.jsx(n.Fragment,{})});G.displayName="FormFieldError";const U=a.forwardRef(({children:e,className:d,id:i,...c},u)=>{const{setHelperId:s}=w(),t=a.useId(),o=a.useMemo(()=>i??t,[t,i]);return a.useEffect(()=>{s&&s(o)},[o,s]),n.jsx("span",{className:d,"data-ods":"form-field-helper",id:o,ref:u,...c,children:e})});U.displayName="FormFieldHelper";const me={"form-field-label":"_form-field-label_1udkg_2"},Z=a.forwardRef(({children:e,className:d,id:i,...c},u)=>{const{id:s,setLabelId:t}=w(),o=a.useId(),l=a.useMemo(()=>i??o,[o,i]);return a.useEffect(()=>{t&&t(l)},[l,t]),n.jsx(te,{className:I(me["form-field-label"],d),"data-ods":"form-field-label",htmlFor:s,id:l,preset:ie.label,ref:u,...c,children:e})});Z.displayName="FormFieldLabel";$.__docgenInfo={description:"",methods:[],displayName:"FormField"};G.__docgenInfo={description:"",methods:[],displayName:"FormFieldError"};U.__docgenInfo={description:"",methods:[],displayName:"FormFieldHelper"};Z.__docgenInfo={description:"",methods:[],displayName:"FormFieldLabel"};var j=(e=>(e.close="close",e.open="open",e))(j||{});const Me=Object.freeze(Object.values(j));var g=(e=>(e.email="email",e.number="number",e.password="password",e.search="search",e.text="text",e.time="time",e.url="url",e))(g||{});const Fe=Object.freeze(Object.values(g));function k(e){return Array.isArray(e)?e.length>0:!!e||e===0}var _=(e=>(e.clearButton="input.clear.button",e.maskButtonHide="input.mask.hide.button",e.maskButtonShow="input.mask.show.button",e.searchButton="input.search.button",e))(_||{});const pe={"input.clear.button":{[r.de]:"Eingabe löschen",[r.en]:"Clear input",[r.es]:"Borrar entrada",[r.fr]:"Effacer l’entrée",[r.it]:"Cancella input",[r.nl]:"Invoer wissen",[r.pl]:"Wyczyść pole",[r.pt]:"Limpar a entrada"},"input.mask.hide.button":{[r.de]:"Ausblenden",[r.en]:"Hide",[r.es]:"Ocultar",[r.fr]:"Masquer",[r.it]:"Nascondi",[r.nl]:"Verbergen",[r.pl]:"Ukryj",[r.pt]:"Ocultar"},"input.mask.show.button":{[r.de]:"Anzeigen",[r.en]:"Show",[r.es]:"Mostrar",[r.fr]:"Afficher",[r.it]:"Mostra",[r.nl]:"Tonen",[r.pl]:"Pokaż",[r.pt]:"Mostrar"},"input.search.button":{[r.de]:"Suchen",[r.en]:"Search",[r.es]:"Buscar",[r.fr]:"Rechercher",[r.it]:"Cerca",[r.nl]:"Zoeken",[r.pl]:"Szukaj",[r.pt]:"Pesquisar"}},K=a.createContext(void 0);function fe({children:e,i18n:d,locale:i}){return n.jsx(K.Provider,{value:{i18n:d,locale:i},children:e})}function he(){return ne(K)}const A={"input-actions":"_input-actions_ke1hx_2","input-actions__loading":"_input-actions__loading_ke1hx_7"},be=({disabled:e,hasClearButton:d,hasSearchButton:i,hasToggleMaskIcon:c,inputId:u,isMaskOpen:s,loading:t,onClearClick:o,onToggleMask:l,readOnly:h})=>{const{i18n:f,locale:p}=he(),{translate:m}=se(pe,p,f);return n.jsxs("div",{className:A["input-actions"],children:[t&&n.jsx(le,{className:A["input-actions__loading"],color:e?P.neutral:P.primary,role:"none",size:oe.xs}),d&&n.jsx(B,{"aria-controls":u,"aria-label":m(_.clearButton),color:z.neutral,disabled:e||h,onClick:o,size:R.xs,type:"button",variant:E.ghost,children:n.jsx(H,{name:x.xmark})}),c&&n.jsx(B,{"aria-controls":u,"aria-label":m(s?_.maskButtonHide:_.maskButtonShow),color:z.primary,disabled:e,onClick:l,size:R.xs,type:"button",variant:E.ghost,children:n.jsx(H,{name:s?x.eye:x.eyeOff})}),i&&n.jsx(B,{"aria-label":m(_.searchButton),color:z.primary,disabled:e||h,size:R.xs,type:"submit",variant:E.ghost,children:n.jsx(H,{name:x.magnifyingGlass})})]})},ve="_input_1k3we_6",_e="_input__field_1k3we_45",L={input:ve,"input--with-actions":"_input--with-actions_1k3we_42",input__field:_e},W=a.forwardRef(({className:e,clearable:d=!1,defaultValue:i,i18n:c,id:u,invalid:s,loading:t=!1,locale:o,maskOption:l={enable:!1,initialState:j.close},onClear:h,type:f=g.text,value:p,...m},Y)=>{const J=a.useId(),v=w(),b=a.useRef(null),[q,T]=a.useState(k(i)||k(p)),[N,Q]=a.useState((l==null?void 0:l.initialState)===j.open),C=s||(v==null?void 0:v.invalid),V=u||(v==null?void 0:v.id)||J;a.useImperativeHandle(Y,()=>b.current,[b]),a.useEffect(()=>{p!==void 0&&T(k(p))},[p]);const M=a.useMemo(()=>d&&!t&&q,[d,q,t]),F=a.useMemo(()=>f===g.search&&!t,[t,f]),O=a.useMemo(()=>l.enable&&!t,[t,l.enable]),X=a.useMemo(()=>l.enable&&!N?g.password:f,[N,l.enable,f]),S=a.useMemo(()=>M||F||O||t,[M,F,O,t]);function ee(y){m.onChange&&m.onChange(y),p===void 0&&T(k(y.target.value))}function ae(){h&&h(),b.current&&(Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(b.current,""),b.current.dispatchEvent(new Event("input",{bubbles:!0})),b.current.focus())}function re(){Q(y=>!y)}return n.jsx(fe,{i18n:c,locale:o,children:n.jsxs("div",{className:I(L.input,{[L["input--with-actions"]]:S},e),"data-disabled":m.disabled?!0:void 0,"data-invalid":C?!0:void 0,"data-readonly":m.readOnly?!0:void 0,role:S?"group":void 0,children:[n.jsx("input",{"aria-busy":t,"aria-describedby":m["aria-describedby"]||(v==null?void 0:v.ariaDescribedBy),"aria-invalid":C,className:L.input__field,"data-ods":"input","data-invalid":C?!0:void 0,defaultValue:i,id:V,ref:b,type:X,value:p,...m,onChange:ee}),S&&n.jsx(be,{disabled:m.disabled,hasClearButton:M,hasSearchButton:F,hasToggleMaskIcon:O,inputId:V,isMaskOpen:N,loading:t,onClearClick:ae,onToggleMask:re,readOnly:m.readOnly})]})})});W.displayName="Input";W.__docgenInfo={description:"",methods:[],displayName:"Input",props:{clearable:{defaultValue:{value:"!1",computed:!1},required:!1},loading:{defaultValue:{value:"!1",computed:!1},required:!1},maskOption:{defaultValue:{value:"{ enable: !1, initialState: z.close }",computed:!1},required:!1},type:{defaultValue:{value:"g.text",computed:!0},required:!1}}};export{G as C,w as I,$ as L,U as P,Z as S,Me as c,W as f,_ as n,j as o,g as r,Fe as t};
