import{j as a}from"./jsx-runtime-Cfl8ynUo.js";import{c as X}from"./index-CqY9YpN0.js";import{r as n}from"./index-jIWwRBLr.js";import{u as Y}from"./FormFieldLabel-f_nl6yro.js";import{u as ee}from"./context-C_-r2uoG.js";import{L as t,u as te}from"./useI18n-C0NLVYPv.js";import{B,d as M,c as C}from"./Button-B-GJ-1TA.js";import{a as O}from"./colors-DSObuHxd.js";import{I as A,a as _}from"./icon-name-BpdEc4-2.js";import{S as ne,d as ae,c as z}from"./Spinner-DJB5ZadI.js";var I=(e=>(e.close="close",e.open="open",e))(I||{});Object.freeze(Object.values(I));var b=(e=>(e.email="email",e.number="number",e.password="password",e.search="search",e.text="text",e.time="time",e.url="url",e))(b||{});const ve=Object.freeze(Object.values(b)),P=n.createContext(void 0);function W({children:e,i18n:c,locale:d}){return a.jsx(P.Provider,{value:{i18n:c,locale:d},children:e})}function re(){return ee(P)}W.__docgenInfo={description:"",methods:[],displayName:"InputProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}},composes:["Pick"]};function g(e){return Array.isArray(e)?e.length>0:!!e||e===0}var h=(e=>(e.clearButton="input.clear.button",e.maskButtonHide="input.mask.hide.button",e.maskButtonShow="input.mask.show.button",e.searchButton="input.search.button",e))(h||{});const se={"input.clear.button":{[t.de]:"Eingabe löschen",[t.en]:"Clear input",[t.es]:"Borrar entrada",[t.fr]:"Effacer l’entrée",[t.it]:"Cancella input",[t.nl]:"Invoer wissen",[t.pl]:"Wyczyść pole",[t.pt]:"Limpar a entrada"},"input.mask.hide.button":{[t.de]:"Ausblenden",[t.en]:"Hide",[t.es]:"Ocultar",[t.fr]:"Masquer",[t.it]:"Nascondi",[t.nl]:"Verbergen",[t.pl]:"Ukryj",[t.pt]:"Ocultar"},"input.mask.show.button":{[t.de]:"Anzeigen",[t.en]:"Show",[t.es]:"Mostrar",[t.fr]:"Afficher",[t.it]:"Mostra",[t.nl]:"Tonen",[t.pl]:"Pokaż",[t.pt]:"Mostrar"},"input.search.button":{[t.de]:"Suchen",[t.en]:"Search",[t.es]:"Buscar",[t.fr]:"Rechercher",[t.it]:"Cerca",[t.nl]:"Zoeken",[t.pl]:"Szukaj",[t.pt]:"Pesquisar"}},H={"input-actions":"_input-actions_ke1hx_2","input-actions__loading":"_input-actions__loading_ke1hx_7"},$=({disabled:e,hasClearButton:c,hasSearchButton:d,hasToggleMaskIcon:T,inputId:y,isMaskOpen:v,loading:r,onClearClick:S,onToggleMask:i,readOnly:m})=>{const{i18n:p,locale:u}=re(),{translate:s}=te(se,u,p);return a.jsxs("div",{className:H["input-actions"],children:[r&&a.jsx(ne,{className:H["input-actions__loading"],color:e?z.neutral:z.primary,role:"none",size:ae.xs}),c&&a.jsx(B,{"aria-controls":y,"aria-label":s(h.clearButton),color:O.neutral,disabled:e||m,onClick:S,size:C.xs,type:"button",variant:M.ghost,children:a.jsx(A,{name:_.xmark})}),T&&a.jsx(B,{"aria-controls":y,"aria-label":s(v?h.maskButtonHide:h.maskButtonShow),color:O.primary,disabled:e,onClick:i,size:C.xs,type:"button",variant:M.ghost,children:a.jsx(A,{name:v?_.eye:_.eyeOff})}),d&&a.jsx(B,{"aria-label":s(h.searchButton),color:O.primary,disabled:e||m,size:C.xs,type:"submit",variant:M.ghost,children:a.jsx(A,{name:_.magnifyingGlass})})]})};$.__docgenInfo={description:"",methods:[],displayName:"InputActions",props:{disabled:{required:!1,tsType:{name:"boolean"},description:""},hasClearButton:{required:!0,tsType:{name:"boolean"},description:""},hasSearchButton:{required:!0,tsType:{name:"boolean"},description:""},hasToggleMaskIcon:{required:!0,tsType:{name:"boolean"},description:""},inputId:{required:!1,tsType:{name:"string"},description:""},isMaskOpen:{required:!0,tsType:{name:"boolean"},description:""},loading:{required:!0,tsType:{name:"boolean"},description:""},onClearClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onToggleMask:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},readOnly:{required:!1,tsType:{name:"boolean"},description:""}}};const ie="_input_1k3we_6",oe="_input__field_1k3we_45",R={input:ie,"input--with-actions":"_input--with-actions_1k3we_42",input__field:oe},D=n.forwardRef(({className:e,clearable:c=!1,defaultValue:d,i18n:T,id:y,invalid:v,loading:r=!1,locale:S,maskOption:i={enable:!1,initialState:I.close},onClear:m,type:p=b.text,value:u,...s},Z)=>{const F=n.useId(),o=Y(),l=n.useRef(null),[E,L]=n.useState(g(d)||g(u)),[k,G]=n.useState((i==null?void 0:i.initialState)===I.open),w=v||(o==null?void 0:o.invalid),V=y||(o==null?void 0:o.id)||F;n.useImperativeHandle(Z,()=>l.current,[l]),n.useEffect(()=>{u!==void 0&&L(g(u))},[u]);const x=n.useMemo(()=>c&&!r&&E,[c,E,r]),j=n.useMemo(()=>p===b.search&&!r,[r,p]),q=n.useMemo(()=>i.enable&&!r,[r,i.enable]),K=n.useMemo(()=>i.enable&&!k?b.password:p,[k,i.enable,p]),N=n.useMemo(()=>x||j||q||r,[x,j,q,r]);function U(f){s.onChange&&s.onChange(f),u===void 0&&L(g(f.target.value))}function J(){m&&m(),l.current&&(Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(l.current,""),l.current.dispatchEvent(new Event("input",{bubbles:!0})),l.current.focus())}function Q(){G(f=>!f)}return a.jsx(W,{i18n:T,locale:S,children:a.jsxs("div",{className:X(R.input,{[R["input--with-actions"]]:N},e),"data-disabled":s.disabled?!0:void 0,"data-invalid":w?!0:void 0,"data-readonly":s.readOnly?!0:void 0,role:N?"group":void 0,children:[a.jsx("input",{"aria-busy":r,"aria-describedby":s["aria-describedby"]||(o==null?void 0:o.ariaDescribedBy),"aria-invalid":w,className:R.input__field,"data-ods":"input","data-invalid":w?!0:void 0,defaultValue:d,id:V,ref:l,type:K,value:u,...s,onChange:U}),N&&a.jsx($,{disabled:s.disabled,hasClearButton:x,hasSearchButton:j,hasToggleMaskIcon:q,inputId:V,isMaskOpen:k,loading:r,onClearClick:J,onToggleMask:Q,readOnly:s.readOnly})]})})});D.displayName="Input";D.__docgenInfo={description:"",methods:[],displayName:"Input",props:{clearable:{required:!1,tsType:{name:"boolean"},description:"Whether the clear button is displayed.",defaultValue:{value:"false",computed:!1}},invalid:{required:!1,tsType:{name:"boolean"},description:"Whether the component is in error state."},i18n:{required:!1,tsType:{name:"Partial",elements:[{name:"Record",elements:[{name:"INPUT_I18N"},{name:"string"}],raw:"Record<INPUT_I18N, string>"}],raw:"Partial<Record<INPUT_I18N, string>>"},description:"Internal translations override."},loading:{required:!1,tsType:{name:"boolean"},description:"Whether the component is in loading state.",defaultValue:{value:"false",computed:!1}},locale:{required:!1,tsType:{name:"literal",value:"`${LOCALE}`"},description:"The locale used for the translation of the internal elements."},maskOption:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  enable: boolean,
  initialState?: InputMaskState,
}`,signature:{properties:[{key:"enable",value:{name:"boolean",required:!0}},{key:"initialState",value:{name:"literal",value:"`${INPUT_MASK_STATE}`",required:!1}}]}},description:"Whether the masked display is active and its initial state.",defaultValue:{value:"{ enable: false, initialState: INPUT_MASK_STATE.close }",computed:!1}},onClear:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Callback fired when the input value is cleared."},type:{required:!1,tsType:{name:"literal",value:"`${INPUT_TYPE}`"},description:"The input type.",defaultValue:{value:"INPUT_TYPE.text",computed:!0}}},composes:["Omit"]};export{D as I,ve as a,b,h as c};
