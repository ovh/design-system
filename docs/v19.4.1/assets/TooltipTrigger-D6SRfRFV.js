import{j as a}from"./jsx-runtime-Cfl8ynUo.js";import{a as B}from"./overlay-CZHjGBMC.js";import{s as K,P as W}from"./portal-Dz6APLpY.js";import{u as I,a as Y,P as Q}from"./use-presence-BpdcDhnz.js";import{c as U,P as u,Q as v,a4 as z,S as H,R as J,a7 as X,a8 as Z,z as ee,V as oe,l as y,a9 as te,aa as ne,C as re,u as ie,a2 as se,D as ae,a3 as le}from"./use-locale-context-Da8UBLVe.js";import{t as ce,i as pe}from"./index-C73mxVPS.js";import{g as de,a as b}from"./index-BY2p2mzr.js";import{r as c}from"./index-jIWwRBLr.js";import{c as D}from"./index-CqY9YpN0.js";import{u as ge}from"./context-C_-r2uoG.js";const[ue,f]=U({name:"TooltipContext",hookName:"useTooltipContext",providerName:"<TooltipProvider />"}),M=c.forwardRef((e,o)=>{const t=f(),n=u(t.getArrowProps(),e);return a.jsx(v.div,{...n,ref:o})});M.displayName="TooltipArrow";const N=c.forwardRef((e,o)=>{const t=f(),n=u(t.getArrowTipProps(),e);return a.jsx(v.div,{...n,ref:o})});N.displayName="TooltipArrowTip";const E=c.forwardRef((e,o)=>{const t=f(),n=I(),r=u(t.getContentProps(),n.getPresenceProps(),e);return n.unmounted?null:a.jsx(v.div,{...r,ref:z(n.ref,o)})});E.displayName="TooltipContent";const j=c.forwardRef((e,o)=>{const t=f(),n=u(t.getPositionerProps(),e);return I().unmounted?null:a.jsx(v.div,{...n,ref:o})});j.displayName="TooltipPositioner";var fe=H("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),m=fe.build(),R=e=>{var o;return((o=e.ids)==null?void 0:o.trigger)??`tooltip:${e.id}:trigger`},me=e=>{var o;return((o=e.ids)==null?void 0:o.content)??`tooltip:${e.id}:content`},ve=e=>{var o;return((o=e.ids)==null?void 0:o.arrow)??`tooltip:${e.id}:arrow`},S=e=>{var o;return((o=e.ids)==null?void 0:o.positioner)??`tooltip:${e.id}:popper`},T=e=>e.getById(R(e)),w=e=>e.getById(S(e)),p=Z({id:null});function Pe(e,o){const{state:t,context:n,send:r,scope:s,prop:i,event:P}=e,h=i("id"),C=!!i("aria-label"),g=t.matches("open","closing"),G=R(s),k=me(s),d=i("disabled"),O=de({...i("positioning"),placement:n.get("currentPlacement")});return{open:g,setOpen(l){t.matches("open","closing")!==l&&r({type:l?"open":"close"})},reposition(l={}){r({type:"positioning.set",options:l})},getTriggerProps(){return o.button({...m.trigger.attrs,id:G,dir:i("dir"),"data-expanded":J(g),"data-state":g?"open":"closed","aria-describedby":g?k:void 0,onClick(l){l.defaultPrevented||d||i("closeOnClick")&&r({type:"close",src:"trigger.click"})},onFocus(l){queueMicrotask(()=>{l.defaultPrevented||d||P.src!=="trigger.pointerdown"&&pe()&&r({type:"open",src:"trigger.focus"})})},onBlur(l){l.defaultPrevented||d||h===p.get("id")&&r({type:"close",src:"trigger.blur"})},onPointerDown(l){l.defaultPrevented||d||X(l)&&i("closeOnPointerDown")&&h===p.get("id")&&r({type:"close",src:"trigger.pointerdown"})},onPointerMove(l){l.defaultPrevented||d||l.pointerType!=="touch"&&r({type:"pointer.move"})},onPointerLeave(){d||r({type:"pointer.leave"})},onPointerCancel(){d||r({type:"pointer.leave"})}})},getArrowProps(){return o.element({id:ve(s),...m.arrow.attrs,dir:i("dir"),style:O.arrow})},getArrowTipProps(){return o.element({...m.arrowTip.attrs,dir:i("dir"),style:O.arrowTip})},getPositionerProps(){return o.element({id:S(s),...m.positioner.attrs,dir:i("dir"),style:O.floating})},getContentProps(){return o.element({...m.content.attrs,dir:i("dir"),hidden:!g,"data-state":g?"open":"closed",role:C?void 0:"tooltip",id:C?void 0:k,"data-placement":n.get("currentPlacement"),onPointerEnter(){r({type:"content.pointer.move"})},onPointerLeave(){r({type:"content.pointer.leave"})},style:{pointerEvents:i("interactive")?"auto":"none"}})}}}var{and:Oe,not:x}=oe(),ye=ee({initialState:({prop:e})=>e("open")||e("defaultOpen")?"open":"closed",props({props:e}){const o=e.closeOnClick??!0,t=e.closeOnPointerDown??o;return{id:"x",openDelay:400,closeDelay:150,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,disabled:!1,...e,closeOnPointerDown:t,closeOnClick:o,positioning:{placement:"bottom",...e.positioning}}},effects:["trackFocusVisible","trackStore"],context:({bindable:e})=>({currentPlacement:e(()=>({defaultValue:void 0})),hasPointerMoveOpened:e(()=>({defaultValue:!1}))}),watch({track:e,action:o,prop:t}){e([()=>t("disabled")],()=>{o(["closeIfDisabled"])}),e([()=>t("open")],()=>{o(["toggleVisibility"])})},states:{closed:{entry:["clearGlobalId"],on:{"controlled.open":{target:"open"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":{actions:["clearPointerMoveOpened"]},"pointer.move":[{guard:Oe("noVisibleTooltip",x("hasPointerMoveOpened")),target:"opening"},{guard:x("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{effects:["trackScroll","trackPointerlockChange","waitForOpenDelay"],on:{"after.openDelay":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"controlled.open":{target:"open"},"controlled.close":{target:"closed"},open:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"pointer.leave":[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose","toggleVisibility"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],close:[{guard:"isOpenControlled",actions:["invokeOnClose","toggleVisibility"]},{target:"closed",actions:["invokeOnClose"]}]}},open:{effects:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"controlled.close":{target:"closed"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.leave":[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"content.pointer.leave":{guard:"isInteractive",target:"closing"},"positioning.set":{actions:["reposition"]}}},closing:{effects:["trackPositioning","waitForCloseDelay"],on:{"after.closeDelay":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"controlled.close":{target:"closed"},"controlled.open":{target:"open"},close:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"pointer.move":[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen","toggleVisibility"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"content.pointer.move":{guard:"isInteractive",target:"open"},"positioning.set":{actions:["reposition"]}}}},implementations:{guards:{noVisibleTooltip:()=>p.get("id")===null,isVisible:({prop:e})=>e("id")===p.get("id"),isInteractive:({prop:e})=>!!e("interactive"),hasPointerMoveOpened:({context:e})=>e.get("hasPointerMoveOpened"),isOpenControlled:({prop:e})=>e("open")!==void 0},actions:{setGlobalId:({prop:e})=>{p.set("id",e("id"))},clearGlobalId:({prop:e})=>{e("id")===p.get("id")&&p.set("id",null)},invokeOnOpen:({prop:e})=>{var o;(o=e("onOpenChange"))==null||o({open:!0})},invokeOnClose:({prop:e})=>{var o;(o=e("onOpenChange"))==null||o({open:!1})},closeIfDisabled:({prop:e,send:o})=>{e("disabled")&&o({type:"close",src:"disabled.change"})},reposition:({context:e,event:o,prop:t,scope:n})=>{if(o.type!=="positioning.set")return;const r=()=>w(n);return b(T(n),r,{...t("positioning"),...o.options,defer:!0,listeners:!1,onComplete(s){e.set("currentPlacement",s.placement)}})},toggleVisibility:({prop:e,event:o,send:t})=>{queueMicrotask(()=>{t({type:e("open")?"controlled.open":"controlled.close",previousEvent:o})})},setPointerMoveOpened:({context:e})=>{e.set("hasPointerMoveOpened",!0)},clearPointerMoveOpened:({context:e})=>{e.set("hasPointerMoveOpened",!1)}},effects:{trackFocusVisible:({scope:e})=>{var o;return ce({root:(o=e.getRootNode)==null?void 0:o.call(e)})},trackPositioning:({context:e,prop:o,scope:t})=>{e.get("currentPlacement")||e.set("currentPlacement",o("positioning").placement);const n=()=>w(t);return b(T(t),n,{...o("positioning"),defer:!0,onComplete(r){e.set("currentPlacement",r.placement)}})},trackPointerlockChange:({send:e,scope:o})=>{const t=o.getDoc();return y(t,"pointerlockchange",()=>e({type:"close",src:"pointerlock:change"}),!1)},trackScroll:({send:e,prop:o,scope:t})=>{if(!o("closeOnScroll"))return;const n=T(t);if(!n)return;const s=te(n).map(i=>y(i,"scroll",()=>{e({type:"close",src:"scroll"})},{passive:!0,capture:!0}));return()=>{s.forEach(i=>i==null?void 0:i())}},trackStore:({prop:e,send:o})=>{let t;return queueMicrotask(()=>{t=p.subscribe(()=>{p.get("id")!==e("id")&&o({type:"close",src:"id.change"})})}),()=>t==null?void 0:t()},trackEscapeKey:({send:e,prop:o})=>o("closeOnEscape")?y(document,"keydown",n=>{ne(n)||n.key==="Escape"&&(n.stopPropagation(),e({type:"close",src:"keydown.escape"}))},!0):void 0,waitForOpenDelay:({send:e,prop:o})=>{const t=setTimeout(()=>{e({type:"after.openDelay"})},o("openDelay"));return()=>clearTimeout(t)},waitForCloseDelay:({send:e,prop:o})=>{const t=setTimeout(()=>{e({type:"after.closeDelay"})},o("closeDelay"));return()=>clearTimeout(t)}}}});re()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","defaultOpen","open","openDelay","positioning"]);const Te=e=>{const o=c.useId(),{getRootNode:t}=ie(),{dir:n}=se(),r={id:o,dir:n,getRootNode:t,...e},s=ae(ye,r);return Pe(s,le)},he=e=>{const[o,{children:t,...n}]=K(e),r=Te(n),s=Y(u({present:r.open},o));return a.jsx(ue,{value:r,children:a.jsx(Q,{value:s,children:t})})},V=c.forwardRef((e,o)=>{const t=f(),n=u(t.getTriggerProps(),e);return a.jsx(v.button,{...n,ref:o})});V.displayName="TooltipTrigger";const _=c.createContext(void 0);function A({children:e}){const[o,t]=c.useState();return a.jsx(_.Provider,{value:{setTriggerId:t,triggerId:o},children:e})}function q(){return ge(_)}A.__docgenInfo={description:"",methods:[],displayName:"TooltipProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const Ce=({children:e,closeDelay:o=50,onOpenChange:t,open:n,openDelay:r=0,position:s=B.top,...i})=>{const{triggerId:P}=q();return a.jsx(he,{closeDelay:o,closeOnClick:!1,closeOnPointerDown:!1,closeOnScroll:!1,ids:{trigger:P},interactive:!0,onOpenChange:t,open:n,openDelay:r,positioning:{placement:s},...i,children:e})},$=e=>a.jsx(A,{children:a.jsx(Ce,{...e})});$.displayName="Tooltip";$.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{closeDelay:{required:!1,tsType:{name:"number"},description:"Number of milliseconds before closing the tooltip."},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(detail: TooltipOpenChangeDetail) => void",signature:{arguments:[{type:{name:"TooltipOpenChangeDetail"},name:"detail"}],return:{name:"void"}}},description:"Callback fired when the tooltip open state changes."},open:{required:!1,tsType:{name:"boolean"},description:"The controlled open state of the tooltip."},openDelay:{required:!1,tsType:{name:"number"},description:"Number of milliseconds before opening the tooltip."},position:{required:!1,tsType:{name:"literal",value:"`${OVERLAY_POSITION}`"},description:`@type=TOOLTIP_POSITION
The tooltip position around the trigger.`}}};const ke={"tooltip-content":"_tooltip-content_v0j8b_2"},F=c.forwardRef(({children:e,className:o,createPortal:t=!0,withArrow:n=!1,...r},s)=>{const{open:i}=f();return a.jsx(W,{disabled:!t,children:a.jsx(j,{style:{zIndex:"var(--ods-theme-overlay-z-index)"},children:a.jsxs(E,{className:D(ke["tooltip-content"],o),"data-ods":"tooltip-content",ref:s,...r,style:{...r.style,...i?{}:{display:"none"}},children:[n&&a.jsx(M,{children:a.jsx(N,{})}),e]})})})});F.displayName="TooltipContent";F.__docgenInfo={description:"",methods:[],displayName:"TooltipContent",props:{createPortal:{required:!1,tsType:{name:"boolean"},description:"Whether the component should be rendered in the DOM close to the body tag.",defaultValue:{value:"true",computed:!1}},withArrow:{required:!1,tsType:{name:"boolean"},description:"Whether the component displays an arrow pointing to the trigger.",defaultValue:{value:"false",computed:!1}}},composes:["ComponentPropsWithRef"]};const be={"tooltip-trigger":"_tooltip-trigger_1musf_2"},L=c.forwardRef(({asChild:e,children:o,className:t,...n},r)=>{const{setTriggerId:s}=q();return c.useEffect(()=>{var i;if(!e&&n.id){s(n.id);return}o&&((i=o.props)!=null&&i.id)&&s(o.props.id)},[e,o,n,s]),a.jsx(V,{asChild:e,className:D(be["tooltip-trigger"],t),"data-ods":"tooltip-trigger",ref:r,role:"button",tabIndex:0,...n,children:o})});L.displayName="TooltipTrigger";L.__docgenInfo={description:"",methods:[],displayName:"TooltipTrigger",props:{asChild:{required:!1,tsType:{name:"boolean"},description:`Use the provided child element as the default rendered element, combining their props and behavior.
Be careful to pass an actual Node, not a Fragment.`}},composes:["ComponentPropsWithRef"]};export{L as T,F as a,$ as b};
