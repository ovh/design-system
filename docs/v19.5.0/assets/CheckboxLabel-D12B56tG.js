import{j as c}from"./jsx-runtime-Cfl8ynUo.js";import{c as q}from"./index-CqY9YpN0.js";import{r as u}from"./index-jIWwRBLr.js";import{u as F}from"./FormFieldLabelSubLabel-DCAb65DU.js";import{c as G,L as v,M as y,O as Y,N as C,av as Z,d as z,B as ee,y as te,R as oe,aw as re,ax as ae,am as se,ay as ne,a as D,_ as ce,$ as de,C as ie,a0 as le}from"./use-locale-context-kHyebpMI.js";import{u as L}from"./use-field-context-CnH3sryd.js";import{I as j,a as S}from"./icon-name-BpdEc4-2.js";import{i as ue,t as he}from"./index-BlUhyWms.js";import{u as me}from"./use-event-c9j7vq_1.js";const[pe,E]=G({name:"CheckboxContext",hookName:"useCheckboxContext",providerName:"<CheckboxProvider />"}),H=u.forwardRef((e,t)=>{const o=E(),r=v(o.getControlProps(),e);return c.jsx(y.div,{...r,ref:t})});H.displayName="CheckboxControl";var W=Y("checkbox").parts("root","label","control","indicator"),P=W.build(),$=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`checkbox:${e.id}`},w=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`checkbox:${e.id}:label`},ke=e=>{var t;return((t=e.ids)==null?void 0:t.control)??`checkbox:${e.id}:control`},_=e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`checkbox:${e.id}:input`},fe=e=>e.getById($(e)),T=e=>e.getById(_(e));function be(e,t){const{send:o,context:r,prop:a,computed:n,scope:s}=e,d=!!a("disabled"),h=!!a("readOnly"),m=!!a("required"),p=!!a("invalid"),f=!d&&r.get("focused"),b=!d&&r.get("focusVisible"),l=n("checked"),g=n("indeterminate"),x={"data-active":C(r.get("active")),"data-focus":C(f),"data-focus-visible":C(b),"data-readonly":C(h),"data-hover":C(r.get("hovered")),"data-disabled":C(d),"data-state":g?"indeterminate":l?"checked":"unchecked","data-invalid":C(p),"data-required":C(m)};return{checked:l,disabled:d,indeterminate:g,focused:f,checkedState:l,setChecked(k){o({type:"CHECKED.SET",checked:k,isTrusted:!1})},toggleChecked(){o({type:"CHECKED.TOGGLE",checked:l,isTrusted:!1})},getRootProps(){return t.label({...P.root.attrs,...x,dir:a("dir"),id:$(s),htmlFor:_(s),onPointerMove(){d||o({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){d||o({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(k){z(k)===T(s)&&k.stopPropagation()}})},getLabelProps(){return t.element({...P.label.attrs,...x,dir:a("dir"),id:w(s)})},getControlProps(){return t.element({...P.control.attrs,...x,dir:a("dir"),id:ke(s),"aria-hidden":!0})},getIndicatorProps(){return t.element({...P.indicator.attrs,...x,dir:a("dir"),hidden:!g&&!l})},getHiddenInputProps(){return t.input({id:_(s),type:"checkbox",required:a("required"),defaultChecked:l,disabled:d,"aria-labelledby":w(s),"aria-invalid":p,name:a("name"),form:a("form"),value:a("value"),style:Z,onFocus(){const k=ue();o({type:"CONTEXT.SET",context:{focused:!0,focusVisible:k}})},onBlur(){o({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(k){if(h){k.preventDefault();return}const i=k.currentTarget.checked;o({type:"CHECKED.SET",checked:i,isTrusted:!0})}})}}}var{not:O}=oe(),Ce=te({props({props:e}){return{value:"on",...e,defaultChecked:!!e.defaultChecked}},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(o){var r;(r=e("onCheckedChange"))==null||r({checked:o})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},watch({track:e,context:t,prop:o,action:r}){e([()=>o("disabled")],()=>{r(["removeFocusIfNeeded"])}),e([()=>t.get("checked")],()=>{r(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:O("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:O("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{indeterminate:({context:e})=>N(e.get("checked")),checked:({context:e})=>ge(e.get("checked")),disabled:({context:e,prop:t})=>!!t("disabled")||e.get("fieldsetDisabled")},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({context:e,computed:t,scope:o}){if(!t("disabled"))return ne({pointerNode:fe(o),keyboardNode:T(o),isValidKey:r=>r.key===" ",onPress:()=>e.set("active",!1),onPressStart:()=>e.set("active",!0),onPressEnd:()=>e.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){var o;if(!e("disabled"))return he({root:(o=t.getRootNode)==null?void 0:o.call(t)})},trackFormControlState({context:e,scope:t}){return se(T(t),{onFieldsetDisabledChange(o){e.set("fieldsetDisabled",o)},onFormReset(){e.set("checked",e.initial("checked"))}})}},actions:{setContext({context:e,event:t}){for(const o in t.context)e.set(o,t.context[o])},syncInputElement({context:e,computed:t,scope:o}){const r=T(o);r&&(ae(r,t("checked")),r.indeterminate=N(e.get("checked")))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.get("focused")&&(e.set("focused",!1),e.set("focusVisible",!1))},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e,computed:t}){const o=N(t("checked"))?!0:!t("checked");e.set("checked",o)},dispatchChangeEvent({computed:e,scope:t}){queueMicrotask(()=>{const o=T(t);re(o,{checked:e("checked")})})}}}});function N(e){return e==="indeterminate"}function ge(e){return N(e)?!1:!!e}ee()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const xe=W.extendWith("group");function ve(e){const{value:t,onChange:o,defaultValue:r}=e,[a,n]=u.useState(r),s=t!==void 0,d=s?t:a,h=u.useCallback(m=>(s||n(m),o==null?void 0:o(m)),[s,o]);return[d,h]}function ye(e={}){const{defaultValue:t,value:o,onValueChange:r,disabled:a,readOnly:n,name:s,invalid:d}=e,h=!(a||n),m=me(r,{sync:!0}),[p,f]=ve({value:o,defaultValue:t||[],onChange:m}),b=i=>p.some(V=>String(V)===String(i)),l=i=>{b(i)?x(i):g(i)},g=i=>{h&&(b(i)||f(p.concat(i)))},x=i=>{h&&f(p.filter(V=>String(V)!==String(i)))};return{isChecked:b,value:p,name:s,disabled:!!a,readOnly:!!n,invalid:!!d,setValue:f,addValue:g,toggleValue:l,getItemProps:i=>({checked:i.value!=null?b(i.value):void 0,onCheckedChange(){i.value!=null&&l(i.value)},name:s,disabled:a,readOnly:n,invalid:d})}}const[Te,Ee]=G({name:"CheckboxGroupContext",hookName:"useCheckboxGroupContext",providerName:"<CheckboxGroupProvider />",strict:!1}),A=u.forwardRef((e,t)=>{const[o,r]=D()(e,["defaultValue","value","onValueChange","disabled","invalid","readOnly","name"]),a=ye(o);return c.jsx(Te,{value:a,children:c.jsx(y.div,{ref:t,role:"group",...r,...xe.build().group.attrs})})});A.displayName="CheckboxGroup";const M=u.forwardRef((e,t)=>{const o=E(),r=v(o.getHiddenInputProps(),e),a=L();return c.jsx(y.input,{"aria-describedby":a==null?void 0:a.ariaDescribedby,...r,ref:t})});M.displayName="CheckboxHiddenInput";const R=u.forwardRef((e,t)=>{const{indeterminate:o,...r}=e,a=E(),n=v(a.getIndicatorProps(),r),s=o?a.indeterminate:a.checked;return c.jsx(y.div,{...n,hidden:!s,ref:t})});R.displayName="CheckboxIndicator";const K=u.forwardRef((e,t)=>{const o=E(),r=v(o.getLabelProps(),e);return c.jsx(y.span,{...r,ref:t})});K.displayName="CheckboxLabel";const Pe=(e={})=>{const t=Ee(),o=L(),r=u.useMemo(()=>v(e,(t==null?void 0:t.getItemProps({value:e.value}))??{}),[e,t]),a=u.useId(),{getRootNode:n}=ce(),{dir:s}=de(),d={id:a,ids:{label:o==null?void 0:o.ids.label,hiddenInput:o==null?void 0:o.ids.control},dir:s,disabled:o==null?void 0:o.disabled,readOnly:o==null?void 0:o.readOnly,invalid:o==null?void 0:o.invalid,required:o==null?void 0:o.required,getRootNode:n,...r},h=ie(Ce,d);return be(h,le)},B=u.forwardRef((e,t)=>{const[o,r]=D()(e,["checked","defaultChecked","disabled","form","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]),a=Pe(o),n=v(a.getRootProps(),r);return c.jsx(pe,{value:a,children:c.jsx(y.label,{...n,ref:t})})});B.displayName="CheckboxRoot";const Ne="_checkbox_9flio_2",Ve={checkbox:Ne},U=u.forwardRef(({checked:e,children:t,className:o,defaultChecked:r,disabled:a,id:n,invalid:s,name:d,onCheckedChange:h,required:m,value:p,...f},b)=>{const l=F();return c.jsx(B,{checked:e,className:q(Ve.checkbox,o),"data-ods":"checkbox",defaultChecked:r,disabled:a,id:n||(l==null?void 0:l.id),invalid:s||(l==null?void 0:l.invalid),name:d,onCheckedChange:h,ref:b,required:m,value:p,...f,children:t})});U.displayName="Checkbox";U.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{checked:{required:!1,tsType:{name:"union",raw:"boolean | 'indeterminate'",elements:[{name:"boolean"},{name:"literal",value:"'indeterminate'"}]},description:"The controlled checked state of the checkbox."},defaultChecked:{required:!1,tsType:{name:"boolean"},description:"The initial checked state of the checkbox. Use when you don't need to control the checked state of the checkbox."},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the component is disabled."},invalid:{required:!1,tsType:{name:"boolean"},description:"Whether the component is in error state."},name:{required:!1,tsType:{name:"string"},description:"The name of the form element. Useful for form submission."},onCheckedChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(detail: CheckboxCheckedChangeDetail) => void",signature:{arguments:[{type:{name:"CheckboxCheckedChangeDetail"},name:"detail"}],return:{name:"void"}}},description:"Callback fired when the checked state changes."},required:{required:!1,tsType:{name:"boolean"},description:"Whether the component is required."},value:{required:!1,tsType:{name:"string"},description:"The value of form element. Useful for form submission."}},composes:["ComponentPropsWithRef"]};const I={"checkbox-control":"_checkbox-control_184j0_2","checkbox-control__icon":"_checkbox-control__icon_184j0_46"},X=u.forwardRef(({className:e,...t},o)=>{const r=F(),a=u.useRef(null),{indeterminate:n}=E();return u.useEffect(()=>{a.current&&(a.current.indeterminate=n)},[n]),c.jsxs(c.Fragment,{children:[c.jsxs(H,{className:q(I["checkbox-control"],e),"data-ods":"checkbox-control",ref:o,...t,children:[c.jsx(R,{children:c.jsx(j,{className:I["checkbox-control__icon"],name:S.check})}),c.jsx(R,{indeterminate:!0,children:c.jsx(j,{className:I["checkbox-control__icon"],name:S.minus})})]}),c.jsx(M,{"aria-describedby":t["aria-describedby"]||(r==null?void 0:r.ariaDescribedBy),ref:a})]})});X.displayName="CheckboxControl";X.__docgenInfo={description:"",methods:[],displayName:"CheckboxControl",composes:["ComponentPropsWithRef"]};const Ie={"checkbox-group":"_checkbox-group_pas2n_2"},J=u.forwardRef(({children:e,className:t,defaultValue:o,disabled:r,invalid:a,name:n,onValueChange:s,readOnly:d,value:h,...m},p)=>c.jsx(A,{className:q(Ie["checkbox-group"],t),"data-ods":"checkbox-group",defaultValue:o,disabled:r,invalid:a,name:n,onValueChange:s,readOnly:d,ref:p,value:h,...m,children:e}));J.displayName="CheckboxGroup";J.__docgenInfo={description:"",methods:[],displayName:"CheckboxGroup",props:{defaultValue:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"The initial value of `value` when uncontrolled."},disabled:{required:!1,tsType:{name:"boolean"},description:"Whether the group is disabled."},invalid:{required:!1,tsType:{name:"boolean"},description:"Whether the group is in error."},name:{required:!1,tsType:{name:"string"},description:"The name of the form element. Useful for form submission."},onValueChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"value"}],return:{name:"void"}}},description:"Callback fired when the value changes."},readOnly:{required:!1,tsType:{name:"boolean"},description:"Whether the component is readonly."},value:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"The controlled value of the checkbox group."}},composes:["ComponentPropsWithRef"]};const Q=u.forwardRef(({children:e,...t},o)=>c.jsx(K,{"data-ods":"checkbox-label",ref:o,...t,children:e}));Q.displayName="CheckboxLabel";Q.__docgenInfo={description:"",methods:[],displayName:"CheckboxLabel",composes:["ComponentPropsWithRef"]};export{Q as C,J as a,X as b,U as c};
