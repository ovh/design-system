import{j as i}from"./jsx-runtime-Cfl8ynUo.js";import{m as y}from"./index-CWkFp9WS-BSIT86NH.js";import{r as a}from"./index-jIWwRBLr.js";import{l as te,e as ie}from"./Text-BGoUCJU7-CBjGeyCW.js";import{r as se}from"./ods-react121-5kwUyuQy.js";import{C as ne,g as oe,a as de,b as P,R as B,t as E,s as R}from"./useI18n-DC7LnvI--D3eFcqGA.js";import{a as L}from"./ods-react273-aAAP9SXj.js";import{a as z,l as j}from"./ods-react67-C395g5lW.js";import{t as r}from"./ods-react108-l5fgq-IX.js";const D=a.createContext({});function ue({children:e,id:n,invalid:t,...u}){const c=a.useId(),[s,l]=a.useState(),[d,o]=a.useState(),[b,f]=a.useState(),p=a.useMemo(()=>`${d||""} ${t&&s?s:""}`.trim(),[s,d,t]);return i.jsx(D.Provider,{value:{ariaDescribedBy:p,errorId:s,helperId:d,id:n??c,invalid:t,labelId:b,setErrorId:l,setHelperId:o,setLabelId:f,...u},children:e})}function N(){return a.useContext(D)}const ce={"form-field":"_form-field_12ogr_2"},$=a.forwardRef(({children:e,className:n,id:t,invalid:u,...c},s)=>i.jsx(ue,{id:t,invalid:u,children:i.jsx("div",{className:y(ce["form-field"],n),"data-ods":"form-field",ref:s,role:"group",...c,children:e})}));$.displayName="FormField";const me={"form-field-error":"_form-field-error_mbu11_2"},G=a.forwardRef(({children:e,className:n,id:t,...u},c)=>{const{invalid:s,setErrorId:l}=N(),d=a.useId(),o=a.useMemo(()=>t??d,[d,t]);return a.useEffect(()=>{l&&l(o)},[o,l]),s?i.jsx("span",{"aria-live":"polite",className:y(me["form-field-error"],n),"data-ods":"form-field-error",id:o,ref:c,...u,children:e}):i.jsx(i.Fragment,{})});G.displayName="FormFieldError";const U=a.forwardRef(({children:e,className:n,id:t,...u},c)=>{const{setHelperId:s}=N(),l=a.useId(),d=a.useMemo(()=>t??l,[l,t]);return a.useEffect(()=>{s&&s(d)},[d,s]),i.jsx("span",{className:n,"data-ods":"form-field-helper",id:d,ref:c,...u,children:e})});U.displayName="FormFieldHelper";const pe={"form-field-label":"_form-field-label_1is41_2"},Z=a.forwardRef(({children:e,className:n,id:t,...u},c)=>{const{id:s,setLabelId:l}=N(),d=a.useId(),o=a.useMemo(()=>t??d,[d,t]);return a.useEffect(()=>{l&&l(o)},[o,l]),i.jsx(te,{className:y(pe["form-field-label"],n),"data-ods":"form-field-label",htmlFor:s,id:o,preset:ie.label,ref:c,...u,children:e})});Z.displayName="FormFieldLabel";const fe={"form-field-label-sub-label":"_form-field-label-sub-label_xdm1r_2"},K=a.forwardRef(({children:e,className:n,...t},u)=>i.jsx("span",{className:y(fe["form-field-label-sub-label"],n),"data-ods":"form-field-label-sub-label",ref:u,...t,children:e}));K.displayName="FormFieldLabelSubLabel";$.__docgenInfo={description:"",methods:[],displayName:"FormField"};G.__docgenInfo={description:"",methods:[],displayName:"FormFieldError"};U.__docgenInfo={description:"",methods:[],displayName:"FormFieldHelper"};Z.__docgenInfo={description:"",methods:[],displayName:"FormFieldLabel"};K.__docgenInfo={description:"",methods:[],displayName:"FormFieldLabelSubLabel"};var I=(e=>(e.close="close",e.open="open",e))(I||{});const Se=Object.freeze(Object.values(I));var g=(e=>(e.email="email",e.number="number",e.password="password",e.search="search",e.text="text",e.time="time",e.url="url",e))(g||{});const Oe=Object.freeze(Object.values(g));function k(e){return Array.isArray(e)?e.length>0:!!e||e===0}var _=(e=>(e.clearButton="input.clear.button",e.maskButtonHide="input.mask.hide.button",e.maskButtonShow="input.mask.show.button",e.searchButton="input.search.button",e))(_||{});const be={"input.clear.button":{[r.de]:"Eingabe löschen",[r.en]:"Clear input",[r.es]:"Borrar entrada",[r.fr]:"Effacer l’entrée",[r.it]:"Cancella input",[r.nl]:"Invoer wissen",[r.pl]:"Wyczyść pole",[r.pt]:"Limpar a entrada"},"input.mask.hide.button":{[r.de]:"Ausblenden",[r.en]:"Hide",[r.es]:"Ocultar",[r.fr]:"Masquer",[r.it]:"Nascondi",[r.nl]:"Verbergen",[r.pl]:"Ukryj",[r.pt]:"Ocultar"},"input.mask.show.button":{[r.de]:"Anzeigen",[r.en]:"Show",[r.es]:"Mostrar",[r.fr]:"Afficher",[r.it]:"Mostra",[r.nl]:"Tonen",[r.pl]:"Pokaż",[r.pt]:"Mostrar"},"input.search.button":{[r.de]:"Suchen",[r.en]:"Search",[r.es]:"Buscar",[r.fr]:"Rechercher",[r.it]:"Cerca",[r.nl]:"Zoeken",[r.pl]:"Szukaj",[r.pt]:"Pesquisar"}},W=a.createContext(void 0);function he({children:e,i18n:n,locale:t}){return i.jsx(W.Provider,{value:{i18n:n,locale:t},children:e})}function ve(){return se(W)}const A={"input-actions":"_input-actions_ke1hx_2","input-actions__loading":"_input-actions__loading_ke1hx_7"},_e=({disabled:e,hasClearButton:n,hasSearchButton:t,hasToggleMaskIcon:u,inputId:c,isMaskOpen:s,loading:l,onClearClick:d,onToggleMask:o,readOnly:b})=>{const{i18n:f,locale:p}=ve(),{translate:m}=ne(be,p,f);return i.jsxs("div",{className:A["input-actions"],children:[l&&i.jsx(oe,{className:A["input-actions__loading"],color:e?P.neutral:P.primary,role:"none",size:de.xs}),n&&i.jsx(B,{"aria-controls":c,"aria-label":m(_.clearButton),color:L.neutral,disabled:e||b,onClick:d,size:R.xs,type:"button",variant:E.ghost,children:i.jsx(z,{name:j.xmark})}),u&&i.jsx(B,{"aria-controls":c,"aria-label":m(s?_.maskButtonHide:_.maskButtonShow),color:L.primary,disabled:e,onClick:o,size:R.xs,type:"button",variant:E.ghost,children:i.jsx(z,{name:s?j.eye:j.eyeOff})}),t&&i.jsx(B,{"aria-label":m(_.searchButton),color:L.primary,disabled:e||b,size:R.xs,type:"submit",variant:E.ghost,children:i.jsx(z,{name:j.magnifyingGlass})})]})},ge="_input_1k3we_6",ye="_input__field_1k3we_45",H={input:ge,"input--with-actions":"_input--with-actions_1k3we_42",input__field:ye},Y=a.forwardRef(({className:e,clearable:n=!1,defaultValue:t,i18n:u,id:c,invalid:s,loading:l=!1,locale:d,maskOption:o={enable:!1,initialState:I.close},onClear:b,type:f=g.text,value:p,...m},J)=>{const Q=a.useId(),v=N(),h=a.useRef(null),[q,T]=a.useState(k(t)||k(p)),[w,X]=a.useState((o==null?void 0:o.initialState)===I.open),F=s||(v==null?void 0:v.invalid),V=c||(v==null?void 0:v.id)||Q;a.useImperativeHandle(J,()=>h.current,[h]),a.useEffect(()=>{p!==void 0&&T(k(p))},[p]);const C=a.useMemo(()=>n&&!l&&q,[n,q,l]),M=a.useMemo(()=>f===g.search&&!l,[l,f]),S=a.useMemo(()=>o.enable&&!l,[l,o.enable]),ee=a.useMemo(()=>o.enable&&!w?g.password:f,[w,o.enable,f]),O=a.useMemo(()=>C||M||S||l,[C,M,S,l]);function ae(x){m.onChange&&m.onChange(x),p===void 0&&T(k(x.target.value))}function re(){b&&b(),h.current&&(Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(h.current,""),h.current.dispatchEvent(new Event("input",{bubbles:!0})),h.current.focus())}function le(){X(x=>!x)}return i.jsx(he,{i18n:u,locale:d,children:i.jsxs("div",{className:y(H.input,{[H["input--with-actions"]]:O},e),"data-disabled":m.disabled?!0:void 0,"data-invalid":F?!0:void 0,"data-readonly":m.readOnly?!0:void 0,role:O?"group":void 0,children:[i.jsx("input",{"aria-busy":l,"aria-describedby":m["aria-describedby"]||(v==null?void 0:v.ariaDescribedBy),"aria-invalid":F,className:H.input__field,"data-ods":"input","data-invalid":F?!0:void 0,defaultValue:t,id:V,ref:h,type:ee,value:p,...m,onChange:ae}),O&&i.jsx(_e,{disabled:m.disabled,hasClearButton:C,hasSearchButton:M,hasToggleMaskIcon:S,inputId:V,isMaskOpen:w,loading:l,onClearClick:re,onToggleMask:le,readOnly:m.readOnly})]})})});Y.displayName="Input";Y.__docgenInfo={description:"",methods:[],displayName:"Input",props:{clearable:{defaultValue:{value:"!1",computed:!1},required:!1},loading:{defaultValue:{value:"!1",computed:!1},required:!1},maskOption:{defaultValue:{value:"{ enable: !1, initialState: z.close }",computed:!1},required:!1},type:{defaultValue:{value:"g.text",computed:!0},required:!1}}};export{U as C,$ as H,Z as R,Se as c,Y as f,G as g,_ as n,I as o,N as p,g as r,Oe as t,K as w};
