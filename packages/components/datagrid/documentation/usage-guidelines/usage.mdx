import GenericStyle from '@ovhcloud/ods-common-core/docs/generic-style.mdx';
import './usage-style.css';
<GenericStyle />

## Usage

### Default with string
<osds-datagrid columns='[{"title":"Name","field":"name"},{"title":"Firstname","field":"firstname"},{"title":"Gender","field":"gender"},{"title":"Date Of Birth","field":"dob"}]'
    rows='[{"name":"Dupont","firstname":"Antoine","gender":"male","dob":"15/11/1996"},{"name":"Garnbret","firstname":"Janja","gender":"female","dob":"12/03/1999"}]'
    height="150"></osds-datagrid>

```html
<!-- Attributes need to be stringify -->
<osds-datagrid columns='[{"title":"Name","field":"name"},{"title":"Firstname","field":"firstname"},{"title":"Gender","field":"gender"},{"title":"Date Of Birth","field":"dob"}]'
    rows='[{"name":"Dupont","firstname":"Antoine","gender":"male","dob":"15/11/1996"},{"name":"Garnbret","firstname":"Janja","gender":"female","dob":"12/03/1999"}]'
    height="150"></osds-datagrid>
```

### Default with js
<osds-datagrid columns='[{"title":"Name","field":"name"},{"title":"Firstname","field":"firstname"},{"title":"Gender","field":"gender"},{"title":"Date Of Birth","field":"dob"}]'
    rows='[{"name":"Dupont","firstname":"Antoine","gender":"male","dob":"15/11/1996"},{"name":"Garnbret","firstname":"Janja","gender":"female","dob":"12/03/1999"}]'
    height="150"></osds-datagrid>

```html
<osds-datagrid id="datagrid"></osds-datagrid>

<script>
    const datagrid = document.querySelector('#datagrid')
    datagrid.columns = [
      { title: "Name", field: "name" },
      { title: "Firstname", field: "firstname" },
      { title: "Gender", field: "gender" },
      { title: "Date Of Birth", field: "dob" },
    ];
    datagrid.rows = [
      { name: "Dupont", firstname: "Antoine", gender: "male", dob: "15/11/1996" },
      { name: "Garnbret", firstname: "Janja", gender: "female", dob: "12/03/1999" },
    ];
    datagrid.height = 150;
</script>
```

### Selectable columns
<osds-datagrid 
  columns='[{"title":"Name","field":"name"},{"title":"Firstname","field":"firstname"},{"title":"Gender","field":"gender"},{"title":"Date Of Birth","field":"dob"}]'
  rows='[{"name":"Dupont","firstname":"Antoine","gender":"male","dob":"15/11/1996"},{"name":"Garnbret","firstname":"Janja","gender":"female","dob":"12/03/1999"}]'
  is-selectable
  height="150">
  </osds-datagrid>

```html
<!-- Attributes need to be stringify -->
<osds-datagrid 
  columns='[{"title":"Name","field":"name"},{"title":"Firstname","field":"firstname"},{"title":"Gender","field":"gender"},{"title":"Date Of Birth","field":"dob"}]'
  rows='[{"name":"Dupont","firstname":"Antoine","gender":"male","dob":"15/11/1996"},{"name":"Garnbret","firstname":"Janja","gender":"female","dob":"12/03/1999"}]'
  is-selectable
  height="150">
</osds-datagrid>
```

### With sortable columns
<osds-datagrid 
  columns='[{"title":"Name","field":"name", "isSortable": true},{"title":"Firstname","field":"firstname"},{"title":"Gender","field":"gender"},{"title":"Date Of Birth","field":"dob"}]'
  rows='[{"name":"Dupont","firstname":"Antoine","gender":"male","dob":"15/11/1996"},{"name":"Garnbret","firstname":"Janja","gender":"female","dob":"12/03/1999"}]'
  height="150">
</osds-datagrid>

```html
<osds-datagrid id="datagrid"></osds-datagrid>

<script>
    const datagrid = document.querySelector('#datagrid')
    datagrid.columns = [
      { title: "Name", field: "name", isSortable: true },
      { title: "Firstname", field: "firstname" },
      { title: "Gender", field: "gender" },
      { title: "Date Of Birth", field: "dob" },
    ];
    datagrid.rows = [
      { name: "Dupont", firstname: "Antoine", gender: "male", dob: "15/11/1996" },
      { name: "Garnbret", firstname: "Janja", gender: "female", dob: "12/03/1999" },
    ];
    datagrid.height = 150;
</script>
```

### With Formatter

export const datagridFormatter = () => {
  setTimeout(() => {
    const datagrid = document.getElementById('datagridWithFormatter');
    if (!datagrid) {
      return;
    }
    datagrid.columns = [
      { title: "Name", field: "name", isSortable: true },
      { title: "Firstname", field: "firstname" },
      { title: "Gender", field: "gender" },
      { title: "Date Of Birth", field: "dob", formatter: (value) => {
          return '<osds-icon name="calendar"></osds-icon> <osds-text color="text" size="400">' + value + '</osds-text>' 
        } 
      },
    ];
    datagrid.rows = [
      { name: "Dupont", firstname: "Antoine", gender: "male", dob: "15/11/1996" },
      { name: "Garnbret", firstname: "Janja", gender: "female", dob: "12/03/1999" },
    ];
    datagrid.height = 150;
  }, 0);
};

<osds-datagrid id="datagridWithFormatter">
</osds-datagrid>

<>{ datagridFormatter() }</>

```html
<osds-datagrid id="datagrid"></osds-datagrid>

<script>
    const datagrid = document.querySelector('#datagrid')
    datagrid.columns = [
      { title: "Name", field: "name", isSortable: true },
      { title: "Firstname", field: "firstname" },
      { title: "Gender", field: "gender" },
      { title: "Date Of Birth", field: "dob", formatter: (value) => {
          return '<osds-icon name="calendar"></osds-icon> <osds-text color="text" size="400"> ' + value + '</osds-text>' 
        } 
      },
    ];
    datagrid.rows = [
      { name: "Dupont", firstname: "Antoine", gender: "male", dob: "15/11/1996" },
      { name: "Garnbret", firstname: "Janja", gender: "female", dob: "12/03/1999" },
    ];
    datagrid.height = 150;
</script>
```

### Empty rows
<osds-datagrid 
  columns='[{"title":"Name","field":"name", "isSortable": true},{"title":"Firstname","field":"firstname"},{"title":"Gender","field":"gender"},{"title":"Date Of Birth","field":"dob"}]'
  rows='[]'
  no-result-label="Aucun résultat"
  height="150">
</osds-datagrid>

```html
<osds-datagrid id="datagrid" no-result-label="Aucun résultat"></osds-datagrid>

<script>
    const datagrid = document.querySelector('#datagrid')
    datagrid.columns = [
      { title: "Name", field: "name", isSortable: true },
      { title: "Firstname", field: "firstname" },
      { title: "Gender", field: "gender" },
      { title: "Date Of Birth", field: "dob" },
    ];
    datagrid.rows = [];
    datagrid.height = 150;
</script>
```

### Use Select, Tooltip, Menu or Popover in row formatter

export const datagridWithMenu = () => {
  setTimeout(() => {
    const datagrid = document.getElementById('datagridWithMenu');
    if (!datagrid) {
      return;
    }
    datagrid.columns = [
      { title: "Name", field: "name", formatter: (cellValue, rowValue) => {
          return `<osds-menu>
            <osds-button slot="menu-title" color="primary" variant="stroked">
              Action menu
              <osds-icon name="home" size="xs"></osds-icon>
            </osds-button>
            <osds-menu-item>
              <osds-button
                color="primary"
                size="sm"
                variant="ghost"
                text-align="start"
                flex=""
              >
                <span>Action 1</span>
              </osds-button>
            </osds-menu-item>
          </osds-menu>`
        }
      },
      { title: "Firstname", field: "firstname", isSortable: true },
      { title: "Gender", field: "gender", isSortable: true },
      { title: "Date Of Birth", field: "dob", isSortable: true },
    ];
    datagrid.rows = [
      { name: "Dupont", firstname: "Antoine", gender: "male", dob: "15/11/1996" },
      { name: "Garnbret", firstname: "Janja", gender: "female", dob: "12/03/1999" },
    ];
    datagrid.height = 150;
  }, 0);
};

<osds-datagrid id="datagridWithMenu">
</osds-datagrid>

<>{ datagridWithMenu() }</>

```html
<osds-datagrid id="datagrid" no-result-label="Aucun résultat"></osds-datagrid>

<style>
  :root {
    --ods-menu-position: absolute;
    --ods-select-position: absolute;
    --ods-popover-position: absolute;
    --ods-tooltip-position: absolute;
  }
</style> 

<script>
    const datagrid = document.querySelector('#datagrid')
     datagrid.columns = [
      { title: "Name", field: "name", formatter: (cellValue, rowValue) => {
          return `<osds-menu>
            <osds-button slot="menu-title" color="primary" variant="stroked">
              Action menu
              <osds-icon name="home" size="xs"></osds-icon>
            </osds-button>
            <osds-menu-item>
              <osds-button
                color="primary"
                size="sm"
                variant="ghost"
                text-align="start"
                flex=""
              >
                <span>Action 1</span>
              </osds-button>
            </osds-menu-item>
          </osds-menu>`
        }
      },
      { title: "Firstname", field: "firstname", isSortable: true },
      { title: "Gender", field: "gender", isSortable: true },
      { title: "Date Of Birth", field: "dob", isSortable: true },
    ];
    datagrid.rows = Array.from({ length: 5 }).fill({ name: "Garnbret", firstname: "Janja", gender: "female", dob: "12/03/1999" });
</script>
```