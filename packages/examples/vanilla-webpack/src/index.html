<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title><%= htmlWebpackPlugin.options.title %></title>

  <style>
    body {
      margin: 0;
    }

    .form {
      display: block;
      padding: 2rem;
    }

    .form__fields {
      display: flex;
      flex-flow: column;
      grid-row-gap: 1rem;
    }

    .form__fields__field {
      display: flex;
      flex-flow: column;
      grid-row-gap: .5rem;
    }

    .form__actions {
      display: flex;
      flex-flow: row;
      grid-column-gap: 1rem;
      justify-content: flex-end;
      margin-top: 1rem;
    }
  </style>
</head>

<body>
  <osds-form class="form"
             id="osds-form"
             initial-values='{ "user": "test", "password": "", "textarea": "", "country": "fr" }'>
    <div class="form__fields">
      <div class="form__fields__field">
        <osds-text>
          Input Text
        </osds-text>

        <osds-input clearable
                    inline
                    name="user"
                    type="text">
        </osds-input>
      </div>

      <div class="form__fields__field">
        <osds-text>
          Input Password
        </osds-text>

        <osds-input inline
                    name="password"
                    type="text"
                    required>
        </osds-input>
      </div>

      <div class="form__fields__field">
        <osds-text>
          Textarea
        </osds-text>

        <osds-textarea inline
                       name="textarea"
                       required>
        </osds-textarea>
      </div>

      <div class="form__fields__field">
        <osds-text>
          Select
        </osds-text>

        <osds-select id="country" name="country">
          <span slot="placeholder"><i>Select</i> Country</span>
          <osds-select-option value="fr">FR</osds-select-option>
          <osds-select-option value="gb">GB</osds-select-option>
          <osds-select-option value="pt">PT</osds-select-option>
        </osds-select>
      </div>
    </div>

    <div class="form__actions">
      <osds-button inline
                   type="reset"
                   variant="stroked">
        Reset
      </osds-button>

      <osds-button inline
                   type="submit">
        Submit
      </osds-button>

      <osds-button inline
                   id="log-btn"
                   type="button">
        Log form validity
      </osds-button>
    </div>
  </osds-form>

  <script>
    const form = document.querySelector('#osds-form');
    const logBtn = document.querySelector('#log-btn');

    logBtn.addEventListener('click', () => {
      form.getFormErrors().then((error) => {
        console.log(error);
      });
    });
  </script>
</body>
</html>
