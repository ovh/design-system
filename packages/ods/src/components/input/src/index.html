<!DOCTYPE html>
<html dir='ltr' lang='en'>
<head>
  <meta charset='utf-8' />
  <meta name='viewport' content='width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0' />
  <title>Dev ods-input</title>

  <script type='module' src='/build/ods-input.esm.js'></script>
  <script nomodule src='/build/ods-input.js'></script>
  <link rel="stylesheet" href="/build/ods-input.css">
</head>

<body>
<!--  <p>Default</p>-->
<!--  <ods-input value="Default" type="number" is-clearable>-->
<!--  </ods-input>-->

<!--  <p>Clearable</p>-->
<!--  <ods-input value="Clearable" is-clearable>-->
<!--  </ods-input>-->

<!--  <p>Disabled</p>-->
<!--  <ods-input value="Disabled" is-disabled is-clearable is-masked>-->
<!--  </ods-input>-->
<!--  <ods-input value="Disabled" is-disabled is-loading>-->
<!--  </ods-input>-->

<!--  <p>Disabled & Error</p>-->
<!--  <ods-input has-error is-disabled>-->
<!--  </ods-input>-->

<!--  <p>Error</p>-->
<!--  <ods-input has-error>-->
<!--  </ods-input>-->

<!--  <p>Placeholder</p>-->
<!--  <ods-input placeholder="Placeholder">-->
<!--  </ods-input>-->

<!--  <p>Loading</p>-->
<!--  <ods-input is-loading>-->
<!--  </ods-input>-->

<!--  <p>Masked</p>-->
<!--  <ods-input is-masked>-->
<!--  </ods-input>-->

<!--  <p>Masked & Clearable</p>-->
<!--  <ods-input is-masked is-clearable>-->
<!--  </ods-input>-->

<!--  <p>Pattern</p>-->
<!--  <ods-input pattern="[^12]+">-->
<!--  </ods-input>-->
    <!-- <script>
      const inputPattern = document.getElementById('my-input-pattern');
      inputPattern.addEventListener('odsChange', (event) => {
        inputPattern.hasError = !event.detail.validity.valid;
      });
    </script> -->

<!--  <p>Readonly</p>-->
<!--  <ods-input value="Readonly" is-readonly>-->
<!--  </ods-input>-->

<!--  <p>Readonly Clearable Masked</p>-->
<!--  <ods-input value="Readonly" is-readonly is-clearable is-masked>-->
<!--  </ods-input>-->

<!--  <p>Pattern just numbers</p>-->
<!--  <ods-input id="my-input-pattern" pattern="\d*">-->
<!--  </ods-input>-->

<!--  <p>Default value</p>-->
<!--  <ods-input default-value="Default">-->
<!--  </ods-input>-->

<!--  <p>Custom CSS</p>-->
<!--  <ods-input class="my-input">-->
<!--  </ods-input>-->
<!--  <style>-->
<!--    .my-input::part(input) {-->
<!--      width: 100px;-->
<!--    }-->
<!--  </style>-->

  <p>Form</p>
  <form id="input-form">
    <label for="input-form-first-name">First name:</label>
    <ods-input id="input-form-first-name"
               is-required
               name="firstName">
    </ods-input>

<!--    <label for="input-form-last-name">Last name:</label>-->
<!--    <ods-input id="input-form-last-name"-->
<!--               is-required-->
<!--               name="lastName">-->
<!--    </ods-input>-->

<!--    <input type="text" name="natif-input" required>-->

    <button id="input-form-toggle-custom-error-button" type="button">Toggle custom error</button>
    <button id="input-form-check-validity-button" type="button">Check validity</button>
<!--    <button id="input-form-clear-button" type="button">Clear</button>-->
<!--    <button id="input-form-reset-button" type="button">Reset</button>-->
<!--    <button type="reset">Global Form Reset</button>-->
    <button id="input-form-submit-button" type="submit">Submit</button>
  </form>
  <script>
    const formElement = document.querySelector('#input-form');
    const inputFormFirstName = document.querySelector('#input-form-first-name');
    const inputToggleCustomErrorButton = document.querySelector('#input-form-toggle-custom-error-button');
    const inputCheckValidityFormButton = document.querySelector('#input-form-check-validity-button');
    // const inputClearFormButton = document.querySelector('#input-form-clear-button');
    // const inputResetFormButton = document.querySelector('#input-form-reset-button');
    const inputSubmitFormButton = document.querySelector('#input-form-submit-button');

    inputToggleCustomErrorButton.addEventListener('click', async() => {
      await inputFormFirstName.setCustomValidity('NOP')
    });

    inputCheckValidityFormButton.addEventListener('click', async() => {
      console.log('Check validity: ', await inputFormFirstName.getValidity());
    });
    //
    // inputClearFormButton.addEventListener('click', async() => {
    //   await inputFormInput.clear();
    // });
    //
    // inputResetFormButton.addEventListener('click', async() => {
    //   await inputFormInput.reset();
    // });

    inputSubmitFormButton.addEventListener('click', async(e) => {
      // e.preventDefault(); // comment to test native validation messages
      const formData = new FormData(formElement);
      console.log('formData', formData);
      console.log(await inputFormFirstName?.getValidity())
    });

  </script>

<!--
  <p>With label</p>
  <label for="labelled-input">My input</label>
  <ods-input id="labelled-input" type="text">
  </ods-input> -->

  <p>With datalist</p>
  <ods-input id="input-with-datalist" list="my-list">
    <datalist slot="list">
      <option value="Chocolate"></option>
      <option value="Coconut"></option>
      <option value="Mint"></option>
      <option value="Strawberry"></option>
      <option value="Vanilla"></option>
    </datalist>
  </ods-input>
  <button id="update-datalist">Update Datalist</button>
  <script>
    const inputWithDatalistEl = document.querySelector('#input-with-datalist');
    const updateDatalistBtn = document.querySelector('#update-datalist');

    updateDatalistBtn.addEventListener('click', () => {
      inputWithDatalistEl.innerHTML = '<datalist slot="list"><option value="Cat"></option><option value="Dog"></option><option value="Rabbit"></option></datalist>';
    });
  </script>

<!--  <p>Methods</p>-->
<!--  <ods-input id="input-methods">-->
<!--  </ods-input>-->
<!--  <button id="clear-button">clear</button>-->
<!--  <button id="reset-button">reset</button>-->
<!--  <button id="toggle-mask-button">toggleMask</button>-->
<!--  <button id="get-validity-button">getValidity</button>-->

  <p>Methods</p>
  <ods-input id="input-methods"
             is-required
             default-value="rest">
  </ods-input>
  <button id="clear-button">clear</button>
  <button id="reset-button">reset</button>
  <button id="toggle-mask-button">toggleMask</button>
  <button id="get-validity-button">getValidity</button>
  <script>
    // const inputPattern = document.getElementById('my-input-pattern');
    // inputPattern.addEventListener('odsChange', (event) => {
    //   inputPattern.hasError = !event.detail.validity.valid;
    // });
    const input = document.getElementById('input-methods');
    const clearButton = document.getElementById('clear-button');
    const resetButton = document.getElementById('reset-button');
    const getValidityButton = document.getElementById('get-validity-button');
    const toggleMaskButton = document.getElementById('toggle-mask-button');

    clearButton.addEventListener('click', () => input.clear());

    resetButton.addEventListener('click', () => input.reset());

    getValidityButton.addEventListener('click', async () => {
      const validity = await input.getValidity();
      console.log('validity', validity);
    });

    toggleMaskButton.addEventListener('click', () => input.toggleMask());
  </script>

<!--  <p>With label</p>-->
<!--  <label for="labelled-input">My input</label>-->
<!--  <ods-input id="labelled-input" type="text">-->
<!--  </ods-input>-->
</body>
</html>
