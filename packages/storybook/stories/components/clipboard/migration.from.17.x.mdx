import { OdsBadge } from '@ovhcloud/ods-components/react';
import { Meta, Source } from '@storybook/blocks';
import * as ClipboardStories from './clipboard.stories';
import { Heading } from '../../../src/components/heading/Heading';

<Meta of={ ClipboardStories } name="Migration From 17.x" />

<Heading label="Clipboard - migrate from v17 to v18" level={ 1 } />

<Heading label="Usage changes" level={ 2 } />

The clipboard does not use slots anymore, it will provide default labels that you can customize using new attributes.

<Source code={`
<osds-clipboard value="Content to copy"
  Copier le contenu
  <span slot='success-message'>Copié !</span>
</osds-clipboard>
`}
        dark="true"
        language="html" />

The same result would now be achieved using:

<Source code={`
<ods-clipboard label-copy="Copier le contenu"
               label-copy-success="Copié !"
               value="Content to copy">
</ods-clipboard>
`}
        dark="true"
        language="html" />

<Heading label="Attributes changes" level={ 2 } />

`disabled` <OdsBadge color="information" label="Updated" size="sm" />

Has been updated.

You can use the new `isDisabled` attribute to obtain the same behavior.

`inline ` <OdsBadge color="critical" label="Removed" size="sm" />

Has been removed.

Clipboard is now `inline-block` by default.
You can add some style directly on the component if you want to override that.

`labelCopy` <OdsBadge color="success" label="New" size="sm" />

New attribute (optional).

Use this to customize the label on the tooltip when hovering before any copy action is triggered.

`labelCopySuccess` <OdsBadge color="success" label="New" size="sm" />

New attribute (optional).

Use this to customize the label on the tooltip when a successful copy did happen.

<Heading label="Migration examples" level={ 2 } />

Disabled clipboard:

<Source code={`
<osds-clipboard disabled>
</osds-clipboard>

<!-- is now -->

<ods-clipboard is-disabled>
</ods-clipboard>
`}
        dark="true"
        language="html" />

Inline clipboard:

<Source code={`
<osds-clipboard inline>
</osds-clipboard>

<!-- is now -->

<ods-clipboard>
</ods-clipboard>
`}
        dark="true"
        language="html" />

Custom labels:

<Source code={`
<osds-clipboard>
  Copier le contenu
  <span slot='success-message'>Copié !</span>
</osds-clipboard>

<!-- is now -->

<ods-clipboard label-copy="Copier le contenu"
               label-copy-success="Copié !">
</ods-clipboard>
`}
        dark="true"
        language="html" />
