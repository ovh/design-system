import { Meta } from '@storybook/blocks';
import * as CodeStories from './code.stories';

<Meta of={ CodeStories } name='Migration From 17.x' />

# Code - migrate from v17 to v18
----

## Usage changes

To add a copy button on the previous component, you had to add your own button in the `copy` slot.

This slot as been removed, you can now toggle the copy button using the new `can-copy` attribute.

## Attributes changes

`canCopy` <img src="https://img.shields.io/badge/new-008000" />

New attribute (optional).

Set this to add a copy button on the right side of the code container.

`color ` <img src="https://img.shields.io/badge/removed-FF0000" />

Has been removed.

You can use the style customization to achieve the same result.

`contrasted` <img src="https://img.shields.io/badge/removed-FF0000" />

Has been removed.

You can use the style customization to achieve the same result, until a new color get validated by the design team.

`size ` <img src="https://img.shields.io/badge/removed-FF0000" />

Has been removed.

You can use the style customization to achieve the same result.

## Migration examples

Default usage:
```html
<osds-code>
  import { OsdsText } from '@ovhcloud/ods-components/react';
</osds-code>

<!-- is now -->

<ods-code>
  import { OsdsText } from '@ovhcloud/ods-components/react';
</ods-code>
```

With a copy button:
```html
<osds-code>
  <osds-button slot="copy" variant="stroked">Copy</osds-button>
  import { OsdsText } from '@ovhcloud/ods-components/react';
</osds-code>

<!-- is now -->

<ods-code can-copy>
  import { OsdsText } from '@ovhcloud/ods-components/react';
</ods-code>
```
