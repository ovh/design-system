import { Badge } from '@ovhcloud/ods-react';
import { Meta, Source } from '@storybook/blocks';
import * as CodeStories from './code.stories';
import { Heading } from '../../../src/components/heading/Heading';

<Meta of={ CodeStories } name="Migration From 17.x" />

<Heading label="Code - migrate from v17 to v18" level={ 1 } />

<Heading label="Usage changes" level={ 2 } />

To add a copy button on the previous component, you had to add your own button in the `copy` slot.

This slot as been removed, you can now toggle the copy button using the new `can-copy` attribute.

<Heading label="Attributes changes" level={ 2 } />

`canCopy` <Badge color="success" size="sm">New</Badge>

New attribute (optional).

Set this to add a copy button on the right side of the code container.

`color ` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

You can use the style customization to achieve the same result.

`contrasted` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

You can use the style customization to achieve the same result, until a new color get validated by the design team.

`size ` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

You can use the style customization to achieve the same result.

<Heading label="Migration examples" level={ 2 } />

Default usage:

<Source code={`
<osds-code>
  import { OsdsText } from '@ovhcloud/ods-components/react';
</osds-code>

<!-- is now -->

<ods-code>
  import { OdsText } from '@ovhcloud/ods-components/react';
</ods-code>
`}
        dark="true"
        language="html" />

With a copy button:

<Source code={`
<osds-code>
  <osds-button slot="copy" variant="stroked">Copy</osds-button>
  import { OsdsText } from '@ovhcloud/ods-components/react';
</osds-code>

<!-- is now -->

<ods-code can-copy>
  import { OdsText } from '@ovhcloud/ods-components/react';
</ods-code>
`}
        dark="true"
        language="html" />
