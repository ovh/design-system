import { Badge } from '@ovhcloud/ods-react';
import { Meta, Source } from '@storybook/blocks';
import * as InputStories from './input.stories';
import { Heading } from '../../../src/components/heading/Heading';

<Meta of={InputStories} name="Migration From 17.x" />

<Heading label="Input - migrate from v17 to v18" level={ 1 } />

<Heading label="Attributes changes" level={ 2 } />

`clearable` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isClearable` attribute to obtain the same behavior.

`disabled` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isDisabled` attribute to obtain the same behavior.

`loading` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isLoading` attribute to obtain the same behavior.

`masked` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isMasked` attribute to obtain the same behavior.

`error` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `hasError` attribute to obtain the same behavior.

`readonly` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isReadonly` attribute to obtain the same behavior.

`required` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isRequired` attribute to obtain the same behavior.

`forbidden-values` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

You can replace it with a regex on the `pattern` attributes.

`inline` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

Input is now `inline-block` by default.
You can add some style directly on the component if you want to override that.

`label` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

To add a label on the input wrapped it with the component `form-field`.

`prefix-value` <Badge color="critical" size="sm">Removed</Badge>

Have been removed.

This feature is not supported anymore

`maxlength` <Badge color="success" size="sm">New</Badge>

New attribute (optional).

Defines the maximum string length that the user can enter into the input.

`minlength` <Badge color="success" size="sm">New</Badge>

New attribute (optional).

Defines the minimum string length that the user can enter into the input.

<Heading label="Migration examples" level={ 2 } />

Clearable input:

<Source code={`
<osds-input clearable>
</osds-input>

<!-- is now -->

<ods-input is-clearable>
</ods-input>
`}
        dark="true"
        language="html" />

Disabled input:

<Source code={`
<osds-input disabled>
</osds-input>

<!-- is now -->

<ods-input is-disabled>
</ods-input>
`}
        dark="true"
        language="html" />

Error input:

<Source code={`
<osds-input error>
</osds-input>

<!-- is now -->

<ods-input has-error>
</ods-input>
`}
        dark="true"
        language="html" />

Loading input:

<Source code={`
<osds-input loading>
</osds-input>

<!-- is now -->

<ods-input is-loading>
</ods-input>
`}
        dark="true"
        language="html" />

Masked input:

<Source code={`
<osds-input masked>
</osds-input>

<!-- is now -->

<ods-input is-masked>
</ods-input>
`}
        dark="true"
        language="html" />

Readonly input:

<Source code={`
<osds-input readonly>
</osds-input>

<!-- is now -->

<ods-input is-readonly>
</ods-input>
`}
        dark="true"
        language="html" />

Required input:

<Source code={`
<osds-input required>
</osds-input>

<!-- is now -->

<ods-input is-required>
</ods-input>
`}
        dark="true"
        language="html" />

Forbidden values input:

<Source code={`
<osds-input forbidden-values="['1', '2']">
</osds-input>

<!-- is now -->

<ods-input pattern="[^12]+">
</ods-input>
`}
        dark="true"
        language="html" />

Inline input:

<Source code={`
<osds-input inline>
</osds-input>

<!-- is now -->

<ods-input>
</ods-input>
`}
        dark="true"
        language="html" />

Label input:

<Source code={`
<osds-input label="My label">
</osds-input>

<!-- is now -->
<ods-form-field>
  <label slot='label'>My label</label>
  <ods-input type='text' value='Input'></ods-input>
</ods-form-field>
`}
        dark="true"
        language="html" />
