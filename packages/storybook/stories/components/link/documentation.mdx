import { Canvas, Meta } from '@storybook/blocks';
import { ODS_ICON_NAME } from '@ovhcloud/ods-components';
import { OdsIcon } from '@ovhcloud/ods-components/react';
import * as LinkStories from './link.stories';
import { Banner } from '../../../src/components/banner/Banner';
import { BestPractices } from '../../../src/components/bestPractices/BestPractices';
import { Heading } from '../../../src/components/heading/Heading';
import { IdentityCard } from '../../../src/components/identityCard/IdentityCard';
import { StorybookLink } from '../../../src/components/storybookLink/StorybookLink';
import { ATOMIC_TYPE } from '../../../src/constants/atomicDesign';
import { ODS_COMPONENTS_TITLE, STORY } from '../../../src/constants/meta';

<Meta of={ LinkStories } name="Documentation" />

<Banner of={ LinkStories } />

_**Link** is a component that enables redirection to a new page, section, website or other resources:_

<Canvas of={ LinkStories.Overview } sourceState="none" />

<Heading label="Overview" level={ 2 } />

<IdentityCard aliases={ ['Hyperlink', 'Anchor'] }
              atomicType={ ATOMIC_TYPE.quark }
              figmaLink="https://www.figma.com/design/9jDDTcR4a9jPRFcdjawAlf/ODS---UI-Kit?node-id=44-6837"
              githubUrl="https://github.com/ovh/design-system/tree/master/packages/ods/src/components/link"
              name="Link"
              relatedComponents={ [{ name: 'Icon' }] }>
  A **Link** allows users to move through a website by redirecting them to a different page or section.

  It can also enables **Links** to other resources.
</IdentityCard>

<Heading label="Anatomy" level={ 2 } />

![Component anatomy](components/link/anatomy.png "Component anatomy")

1. **Link text**: Communicates what is being linked to.
2. <StorybookLink kind={ ODS_COMPONENTS_TITLE.icon } label="Icon" story={ STORY.documentation } /> (optional): Indicates the destination or type of content being.

<Heading label="Usage" level={ 2 } />

**Links** are used as navigational elements.

They are also used when linking to another document. In that case, **Link** description should contain type and size of document.

<Heading label="When to use a Link or a Button" level={ 3 } />

They have different purposes so, make sure you are accurately using them.

<StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Button" story={ STORY.documentation } /> is used for actions while **Link** is used for navigation.

<Heading label="Dos & Don'ts" level={ 3 } />

<BestPractices
  donts={[
    <span>- Use a Link as a <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Button" story={ STORY.documentation } /> for actions such as 'save', 'cancel' or 'submit'</span>,
    '- Use "Click Here" or "Here" as description for a Link',
    '- Write a full long sentence as Link description',
    <span>- Use different color for Link and the optional <StorybookLink kind={ ODS_COMPONENTS_TITLE.icon } label="Icon" story={ STORY.documentation } /> when you add one</span>,
  ]}
  dos={[
    '- Use a Link to redirect user to a new page, section or website',
    '- Make a Link description self-explanatory to describe where user will be send after following this Link',
    '- Write short key words as Link description',
    '- Ensure users are aware of a Link containing a document by providing its type and size',
  ]}
/>

<Heading label="Placement" level={ 2 } />

A **Link** can stand alone on a page, or it can be placed within a sentence or a paragraph.

An optional <StorybookLink kind={ ODS_COMPONENTS_TITLE.icon } label="Icon" story={ STORY.documentation } /> can be displayed on the left or right of the **Link** label content.

<Heading label="Behavior" level={ 2 } />

**Link** component can be hovered, focused, clicked and disabled.

When disabled, users cannot focus nor click on the **Link**.

On hover, **Link** is underlined and its color changes.

When users clicks anywhere on the **Link**, even its optional <StorybookLink kind={ ODS_COMPONENTS_TITLE.icon } label="Icon" story={ STORY.documentation } />, they are redirected to the expected page or section.

<Heading label="Navigation" level={ 2 } />

While **Link** has focus, users can press `Enter` key to open it.

<Heading label="Variation" level={ 2 } />

N/A

<Heading label="Accessibility" level={ 2 } />

The accessibility of the **Link** component must be carefully considered during its implementation.

<Heading label="Best practices" level={ 3 } />

<Heading label="Icon-only Link" level={ 4 } />

If a **Link** is represented only by an Icon, it must have an explicit accessible label to provide context about its destination or action.

Example of an icon-only **Link** with `aria-label`:

<Canvas of={ LinkStories.AvailabilityIconOnly } sourceState="shown" />

<OdsIcon ariaHidden
         name={ ODS_ICON_NAME.circleCheck }
         style={{ color: 'var(--ods-color-success-500)' }} /> Screen readers will announce "Link, Go to homepage".

<Heading label="Link opening in a new tab" level={ 4 } />

When a **Link** opens in a new tab (`target="_blank"`), users should be informed to avoid confusion. This can be done by adding a visual indicator (e.g., ODS Icon: "external") and using `aria-label` to provide context.

Example of an external **Link**:

<Canvas of={ LinkStories.AvailabilityExternalLink } sourceState="shown" />

<OdsIcon ariaHidden
         name={ ODS_ICON_NAME.circleCheck }
         style={{ color: 'var(--ods-color-success-500)' }} /> The screen reader will announce "Link, Visit Example (opens in a new tab)".

<Heading label="Downloadable files" level={ 4 } />

If a **Link** points to a file download, it should include file type and size information to set user expectations.

Example of download **Links** with context:

<Canvas of={ LinkStories.AvailabilityDownloadLink1 } sourceState="shown" />

<OdsIcon ariaHidden
         name={ ODS_ICON_NAME.circleCheck }
         style={{ color: 'var(--ods-color-success-500)' }} /> The screen reader will announce "Link, Download WCAG20 Guidelines (PDF, 481 KB)".

<Canvas of={ LinkStories.AvailabilityDownloadLink2 } sourceState="shown" />

<OdsIcon ariaHidden
         name={ ODS_ICON_NAME.circleCheck }
         style={{ color: 'var(--ods-color-success-500)' }} /> The screen reader will announce "Link, WCAG20 Guidelines, Download WCAG20 Guidelines (PDF, 481 KB)", ensuring users know they are downloading a file.
