import { Canvas, Meta } from '@storybook/blocks';
import * as PaginationStories from './pagination.stories';
import { Banner } from '../../../src/components/banner/Banner';
import { BestPractices } from '../../../src/components/bestPractices/BestPractices';
import { Heading } from '../../../src/components/heading/Heading';
import { IdentityCard } from '../../../src/components/identityCard/IdentityCard';
import { StorybookLink } from '../../../src/components/storybookLink/StorybookLink';
import { ATOMIC_TYPE } from '../../../src/constants/atomicDesign';
import { ODS_COMPONENTS_TITLE, STORY } from '../../../src/constants/meta';

<Meta of={ PaginationStories } name="Documentation" />

<Banner of={ PaginationStories } />

_A **Pagination** component allows users to navigate through large sets of data by dividing the content into multiple pages._

<Canvas of={ PaginationStories.Overview } sourceState="none" />

<Heading label="Overview" level={ 2 } />

<IdentityCard aliases={ ['Page navigation'] }
              atomicType={ ATOMIC_TYPE.molecule }
              figmaLink="https://www.figma.com/design/9jDDTcR4a9jPRFcdjawAlf/ODS---UI-Kit?node-id=47-7743"
              githubUrl="https://github.com/ovh/design-system/tree/master/packages/ods/src/components/pagination"
              name="Pagination"
              relatedComponents={[
                { name: 'Button' },
                { name: 'Select', subtitle: 'Form elements' },
                { name: 'Tooltip' },
              ]}>
  The **Pagination** component is used to divide content into discrete pages and provide navigation controls to move between them.

  This component enhances usability by allowing users to browse through large sets of data without overwhelming the interface.

  **Pagination** can include various controls like next/previous buttons and page numbers.
</IdentityCard>

<Heading label="Anatomy" level={ 2 } />

![Component anatomy](components/pagination/anatomy.png "Component anatomy")

1. **Number of items Select**: grouping a defined number of items _(optional)_
2. **Total of items label**: A <StorybookLink kind={ ODS_COMPONENTS_TITLE.text } label="Text" story={ STORY.documentation } />, counting the total number of items _(optional)_
3. **Previous arrow icon Button**: let user navigate to the previous page
4. **Page number Buttons**: navigated to specific numbered page
5. **Current page Button**: highlight the current page navigated to
6. **Ellipsis Button**: shows the truncated pagination (in situations)
7. **Next arrow icon Button**: let user navigate to the next page

<Heading label="Usage" level={ 2 } />

A **Pagination** component is used in two situations :
* To navigate among a <StorybookLink kind={ ODS_COMPONENTS_TITLE.table } label="Table" story={ STORY.documentation } /> component
* To browse in a set of items (products list, ...)

<Heading label="Dos & Don'ts" level={ 3 } />

<BestPractices
  donts={[
    '- Use Pagination component for less than 2 pages to handle',
    '- For an unpredicted number of pages, prefer the use of infinite scrolling rather than a Pagination',
  ]}
  dos={[
    '- Use when user needs to maintain a sense of position and order inside a set of elements',
    '- When using Pagination, please display preferably ~25 items of the related set on each page',
  ]}
/>

<Heading label="Placement" level={ 2 } />

**Pagination** is presented to the user near the container it uses for pagination; it can be located just above or below it.

Usually, the **Pagination** is end-aligned horizontally, as its usage is not principal to the container.

<Heading label="Behavior" level={ 2 } />

<Heading label="Amount of items per page" level={ 3 } />

The number of items displayed in **Pagination** is depending on its referential.

However, there are few rules to be applied to display it correctly.

Number of items in the component can be chunked in packs of :
- 10
- 25
- 50
- 100
- 300

This value is conditioning the number of items that will be displayed per page.

By default, 10 items per page are displayed, but it can be set to match your need.

<Heading label="Amount of pages" level={ 3 } />

A maximum of 6 numbered page <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Buttons" story={ STORY.documentation } /> can be visible at once, with a minimum of 1.

Arrow Buttons are always visible, no matter what the amount of pages.

Depending on the current page number and the amount of pages, here are the different displays of the whole component:
- If amount of pages is less than 7, all numbered page <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Buttons" story={ STORY.documentation } /> can be visible at once
- If amount of pages is 7 or more :
  - If current page is the 4th one or less, the first 5 numbered <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Buttons" story={ STORY.documentation } /> are present, then an ellipsis and the last numbered <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Button" story={ STORY.documentation } /> corresponding of the amount of pages
  - If current page is the 4th to last or more, the first page <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Button" story={ STORY.documentation } /> is displayed followed by an ellipsis and the last 5 numbered <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Buttons" story={ STORY.documentation } />
  - If current page is between the previous bounds are displayed, in order :
    - the first page <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Button" story={ STORY.documentation } />,
    - an ellipsis,
    - 3 numbered <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Buttons" story={ STORY.documentation } />, corresponding to : previous-to-current / current / next-to-current page,
    - an ellipsis,
    - the last numbered <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Button" story={ STORY.documentation } />

<Heading label="Navigation" level={ 3 } />

Current page <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Button" story={ STORY.documentation } /> has a selected styling, yet it is a not clickable.

If the selected page number is the first page, the previous page arrow <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Button" story={ STORY.documentation } /> is disabled; same thing applies with the last page as selected and the next page arrow <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Button" story={ STORY.documentation } /> disabled.

An event is triggered when the current page changes in the Pagination, as well as the items per page changes.

<Heading label="Variation" level={ 2 } />

N/A

<Heading label="Accessibility" level={ 2 } />

All <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Buttons" story={ STORY.documentation } /> are accessible via tabulation controls.

Previous and next page arrow <StorybookLink kind={ ODS_COMPONENTS_TITLE.button } label="Buttons" story={ STORY.documentation } /> are labelled as their explicit usage.
