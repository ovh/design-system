import { Badge } from '@ovhcloud/ods-react';
import { Meta, Source } from '@storybook/blocks';
import * as PasswordStories from './password.stories';
import { Heading } from '../../../src/components/heading/Heading';

<Meta of={ PasswordStories } name="Migration v17 to v18" />

<Heading label="Password - migrate from v17 to v18" level={ 1 } />

<Heading label="Attributes changes" level={ 2 } />

`color ` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

Form components do not provide color variants anymore.
You can use custom CSS if you need to customize the component.

`contrasted` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

Form components do not provide contrasted variants anymore.
You can use custom CSS if you need to customize the component.

`clearable` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isClearable` attribute to obtain the same behavior.

`disabled` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isDisabled` attribute to obtain the same behavior.

`forbidden-values` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

You can replace it with a regex on the `pattern` attributes.

`label` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

To add a label on a password component, wrap it within `form-field` component.

`loading` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isLoading` attribute to obtain the same behavior.

`masked` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isMasked` attribute to obtain the same behavior.

`error` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `hasError` attribute to obtain the same behavior.

`readonly` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isReadonly` attribute to obtain the same behavior.

`required` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isRequired` attribute to obtain the same behavior.

`inline` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

Password is now `inline-block` by default.
You can add some style directly on the component if you want to override that.

`size ` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

Form components do not provide size variants anymore.
You can use custom CSS if you need to customize the component.

<Heading label="Migration examples" level={ 2 } />

Clearable password:

<Source code={`
<osds-password clearable>
</osds-password>

<!-- is now -->

<ods-password is-clearable>
</ods-password>
`}
        dark="true"
        language="html" />

Disabled password:

<Source code={`
<osds-password disabled>
</osds-password>

<!-- is now -->

<ods-password is-disabled>
</ods-password>
`}
        dark="true"
        language="html" />

Error password:

<Source code={`
<osds-password error>
</osds-password>

<!-- is now -->

<ods-password has-error>
</ods-password>
`}
        dark="true"
        language="html" />

Forbidden values password:

<Source code={`
<osds-password forbidden-values="['1', '2']">
</osds-password>

<!-- is now -->

<ods-password pattern="[^12]+">
</ods-password>
`}
        dark="true"
        language="html" />

Loading password:

<Source code={`
<osds-password loading>
</osds-password>

<!-- is now -->

<ods-password is-loading>
</ods-password>
`}
        dark="true"
        language="html" />

Masked password:

<Source code={`
<osds-password masked>
</osds-password>

<!-- is now -->

<ods-password is-masked>
</ods-password>
`}
        dark="true"
        language="html" />

Readonly password:

<Source code={`
<osds-password readonly>
</osds-password>

<!-- is now -->

<ods-password is-readonly>
</ods-password>
`}
        dark="true"
        language="html" />

Required password:

<Source code={`
<osds-password required>
</osds-password>

<!-- is now -->

<ods-password is-required>
</ods-password>
`}
        dark="true"
        language="html" />
