import { Canvas, Meta } from '@storybook/blocks';
import * as QuantityStories from './quantity.stories';
import { Banner } from '../../../src/components/banner/Banner';
import { BestPractices } from '../../../src/components/bestPractices/BestPractices';
import { Heading } from '../../../src/components/heading/Heading';
import { IdentityCard } from '../../../src/components/identityCard/IdentityCard';
import { ATOMIC_TYPE } from '../../../src/constants/atomicDesign';

<Meta of={ QuantityStories } name="Documentation" />

<Banner of={ QuantityStories } />

_**Quantity** is a component used to enter and modify a numeric value in a responsive and easy way_

<Canvas of={ QuantityStories.Overview } sourceState="none" />

<Heading label="Overview" level={ 2 } />

<IdentityCard aliases={ ['Numeric', 'Number input', 'Amount'] }
              atomicType={ ATOMIC_TYPE.molecule }
              figmaLink="https://www.figma.com/design/9jDDTcR4a9jPRFcdjawAlf/ODS---UI-Kit?node-id=49-9160"
              githubUrl="https://github.com/ovh/design-system/tree/master/packages/ods/src/components/quantity"
              name="Quantity">
  The **Quantity** component provides a user-friendly interface for selecting or entering numerical values.

  It includes an Input field combined with increment and decrement Buttons to adjust the value easily.
</IdentityCard>

<Heading label="Anatomy" level={ 2 } />

![Component anatomy](components/quantity/anatomy.png "Component anatomy")

1. **"Minus" icon Button**: allows users to decrease the value displayed in the numeric field
2. **Numeric Input**: displays / allows to type a value (equal to a quantity)
3. **"Plus" icon Button**: allows users to increase the value displayed in the numeric field

<Heading label="Usage" level={ 2 } />

**Quantity** is used to quickly adjust with a few clicks a numeric value within defined parameters.

Limits can be set as minimum or maximum value. In that case, the numeric value cannot exceed the defined boundaries.

<Heading label="Dos & Don'ts" level={ 3 } />

<BestPractices
  donts={[
    '- Don\'t use the Quantity component for large numeric changes that would require excessive clicking. Prefer a freeform numeric input or slider in those cases',
    '- Don\'t use the component outside of quantitative contexts: it should only be used to adjust measurable numeric values (e.g., quantity, amount)',
  ]}
  dos={[
    '- Use the Quantity component for small, incremental adjustments where users are likely to increase or decrease values with just a few clicks',
    '- Always allow users to manually input a number directly into the field, not just through the increment/decrement buttons',
    '- Set appropriate min/max limits to prevent invalid or unintended values',
    '- Provide contextual labels or grouping when needed to clarify what the quantity refers to',
  ]}
/>

<Heading label="Placement" level={ 2 } />

**Quantity** can be used to let users easily change an amount of items, for example, or similar situations.

It should be used with numeric Input that are in a fairly narrow range.

<Heading label="Behavior" level={ 2 } />

**Quantity** numeric field can be edited directly by the user.

The user can also decrease or increase the value by clicking on the Buttons.

In case that limits have been set to minimum and maximum value, corresponding control will be disabled when this value has been reached.

Each item of the **Quantity** component can be focused; the whole component can be disabled at once.

<Heading label="Navigation" level={ 2 } />

<Heading label="Focus Management" level={ 3 } />

When the **Quantity** component is focused, focus is automatically set to the first focusable and not disabled element.

If the Input field is read-only, it can still receive focus but cannot be edited.

If the "Plus" or "Minus" Button is disabled, it cannot be focused.

<Heading label="General Keyboard Shortcuts" level={ 3 } />

Pressing `Tab` moves focus forward:
* First to the "Minus" button, when not disabled
* Then to the input field
* Finally to the "Plus" button, when not disabled

Pressing `Shift` + `Tab` moves focus backward through the interactive elements.

Pressing `Arrow Up` when focused in the Input field increases the value.

Pressing `Arrow Down` when focused in the Input field decreases the value.

Pressing `Enter` on the "Minus" Button decreases the value.

Pressing `Enter` on the "Plus" Button increases the value.
