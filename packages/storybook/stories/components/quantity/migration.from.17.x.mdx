import { Meta } from '@storybook/blocks';
import * as QuantityStories from './quantity.stories';
import { linkTo } from '@storybook/addon-links';

<Meta of={ QuantityStories } name='Migration From 17.x' />

# Quantity - migrate from v17 to v18
----

## Usage changes

Quantity component was using slots, expecting specific components in it to work as expected.

It has been fully reworked to be a all-in-one form element component.

You can now use it directly as any input element.

Here is an example of the previous declaration with ODS component:

```html
<osds-quantity>
  <osds-button slot='minus' color='primary' size='sm'>
    <osds-icon size='sm' contrasted name='minus'></osds-icon>
  </osds-button>
  <osds-input type='number' color='primary'></osds-input>
  <osds-button slot='plus' color='primary' size='sm'>
    <osds-icon size='sm' contrasted name='plus'></osds-icon>
  </osds-button>
</osds-quantity>
```

The same result would now be achieved using:
```html
<ods-quantity>
</ods-quantity>
```


## Attributes changes

`disabled` <img src="https://img.shields.io/badge/updated-00FFFF" />

Has been updated.

You can use the new `isDisabled` attribute to obtain the same behavior.

`defaultValue` <img src="https://img.shields.io/badge/new-008000" />

New attribute (optional).

You can use the new `defaultValue` attribute to obtain the same behavior as with input.

`ariaLabel` <img src="https://img.shields.io/badge/new-008000" />

New attribute (optional).

You can use the new `ariaLabel` attribute to obtain the same behavior as with input.

`ariaLabelledby` <img src="https://img.shields.io/badge/new-008000" />

New attribute (optional).

You can use the new `araiLabelledby` attribute to obtain the same behavior as with input.

`hasError` <img src="https://img.shields.io/badge/new-008000" />

New attribute (optional).

You can use the new `hasError` attribute to obtain the same behavior as with input.

`isReadonly` <img src="https://img.shields.io/badge/new-008000" />

New attribute (optional).

You can use the new `isReadonly` attribute to obtain the same behavior as with input.

`isRequired` <img src="https://img.shields.io/badge/new-008000" />

New attribute (optional).

You can use the new `isRequired` attribute to obtain the same behavior as with input.

`max` <img src="https://img.shields.io/badge/new-008000" />

New attribute (optional).

You can use the new `max` attribute to obtain the same behavior as with input.

`min` <img src="https://img.shields.io/badge/new-008000" />

New attribute (optional).

You can use the new `min` attribute to obtain the same behavior as with input.

`name` <img src="https://img.shields.io/badge/new-008000" />

New attribute.

You can use the new `name` attribute to obtain the same behavior as with input.

`placeholder` <img src="https://img.shields.io/badge/new-008000" />

New attribute (optional).

You can use the new `placeholder` attribute to obtain the same behavior as with input.

`step` <img src="https://img.shields.io/badge/new-008000" />

New attribute (optional).

You can use the new `step` attribute to obtain the same behavior as with input.

`value` <img src="https://img.shields.io/badge/new-008000" />

New attribute (optional).

You can use the new `value` attribute to obtain the same behavior as with input.

## Slot changes

`slot:minus` <img src="https://img.shields.io/badge/removed-FF0000" />

Has been removed.

The slot minus is now automatically in the component with an ods-button

`slot:default` <img src="https://img.shields.io/badge/removed-FF0000" />

Has been removed.

The slot is now automatically in the component with an ods-input

`slot:plus` <img src="https://img.shields.io/badge/removed-FF0000" />

Has been removed.

The slot plus is now automatically in the component with an ods-button

## Input attributes changes
[Doc input](/docs/ods-components-form-input--migration-from-17-x)

## Button attributes changes
[Doc button](/docs/ods-components-actions-button--migration-from-17-x)

## Migration examples

Disabled quantity:
```html
<osds-quantity disabled>
  <osds-button slot='minus' color='primary' size='sm'>
    <osds-icon size='sm' contrasted name='minus'></osds-icon>
  </osds-button>
  <osds-input type='number' color='primary'></osds-input>
  <osds-button slot='plus' color='primary' size='sm'>
    <osds-icon size='sm' contrasted name='plus'></osds-icon>
  </osds-button>
</osds-quantity>

<!-- is now -->

<ods-quantity is-disabled>
</ods-quantity>
```

Slot quantity:
```html
<osds-quantity>
  <osds-button slot='minus' color='primary' size='sm'>
    <osds-icon size='sm' contrasted name='minus'></osds-icon>
  </osds-button>
  <osds-input type='number' color='primary'></osds-input>
  <osds-button slot='plus' color='primary' size='sm'>
    <osds-icon size='sm' contrasted name='plus'></osds-icon>
  </osds-button>
</osds-quantity>

<!-- is now -->

<ods-quantity>
</ods-quantity>
```
