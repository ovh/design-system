import { OdsBadge } from '@ovhcloud/ods-components/react';
import { Meta, Source } from '@storybook/blocks';
import { Heading } from '../../../src/components/heading/Heading';
import { StorybookLink } from '../../../src/components/storybookLink/StorybookLink';
import { ODS_COMPONENTS_TITLE, STORY } from '../../../src/constants/meta';

<Meta title="ODS Components/Search Bar" />

<Heading label="Search Bar - migrate from v17 to v18" level={ 1 } />

Search Bar has been removed from ODS components. <OdsBadge color="critical" label="Removed" size="sm" />

The component wasn't bringing any meaningful value and was not flexible enough regarding the different use cases
that may exist.

As an alternative to the Search Bar component, a similar functionality can be achieved using the <StorybookLink kind={ ODS_COMPONENTS_TITLE.input } label="ods-input" story={ STORY.documentation }></StorybookLink> component with the `search` type.

If you need to replace the previous search-bar, you can achieve the same result with the existing components,
here is a quick example:

<Source code={`
<style>
    .search-bar {
      display: grid;
      grid-template-columns: max-content 1fr max-content;
    }

    .search-bar__input::part(input) {
      border-radius: 0;
      border-left: 0;
    }

    .search-bar__button::part(button) {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }
  </style>

<div class="search-bar">
  <ods-select border-rounded="left"
              dropdown-width="auto">
    <option value="filter-1">Some filter</option>
    <!-- ... -->
  </ods-select>

  <ods-input class="search-bar__input">
  </ods-input>

  <ods-button class="search-bar__button"
              icon="magnifying-glass"
              size="sm">
  </ods-button>
</div>
`}
        dark="true"
        language="html" />
