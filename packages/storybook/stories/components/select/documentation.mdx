import { Canvas, Meta } from '@storybook/blocks';
import * as SelectStories from './select.stories';
import { Banner } from '../../../src/components/banner/Banner';
import { BestPractices } from '../../../src/components/bestPractices/BestPractices';
import { Heading } from '../../../src/components/heading/Heading';
import { IdentityCard } from '../../../src/components/identityCard/IdentityCard';
import { StorybookLink } from '../../../src/components/storybookLink/StorybookLink';
import { ATOMIC_TYPE } from '../../../src/constants/atomicDesign';
import { ODS_COMPONENTS_TITLE, STORY } from '../../../src/constants/meta';

<Meta of={ SelectStories } name="Documentation" />

<Banner of={ SelectStories } />

_**Select** component is used to select one or more items from a list of values_

<Canvas of={ SelectStories.Overview } sourceState="none" />

<Heading label="Overview" level={ 2 } />

<IdentityCard aliases={ ['Dropdown'] }
              atomicType={ ATOMIC_TYPE.molecule }
              figmaLink="https://www.figma.com/design/9jDDTcR4a9jPRFcdjawAlf/ODS---UI-Kit?node-id=49-24314"
              githubUrl="https://github.com/ovh/design-system/tree/master/packages/ods/src/components/select"
              name="Select"
              relatedComponents={[
                { name: 'Badge' },
                { name: 'Flag' },
                { name: 'Form Field', subtitle: 'Form elements' },
                { name: 'Text' },
              ]}>
  A **Select** is used to allow users to select one or more items from a list that is displayed after clicking on it.
</IdentityCard>

<Heading label="Anatomy" level={ 2 } />

![Component anatomy](components/select/anatomy.png "Component anatomy")

1. **Placeholder**
2. **Field** to represent the **Select** itself. It can be opened and closed on click/trigger.
3. "Chevron" <StorybookLink kind={ ODS_COMPONENTS_TITLE.icon } story={ STORY.documentation }>Icon</StorybookLink> to inform that the **Select** can display a list of choices.
4. **Dropdown** that displays a list of items or options. It is displayed on click/trigger so users can make their choice.

<Heading label="Usage" level={ 2 } />

A **Select** is used to display to the user a list of items or options to choose from.

The order of items or options in the list should be sorted as following, depending on the usage:
- **Frequency** of use: recommended item will be listed first
- **Alpha**: it can be used for countries or city locations for example
- **Numeric**: it can be used for sizes for example

<Heading label="Dos & Don'ts" level={ 3 } />

<BestPractices
  donts={[
    <span>- Use a Select to display a "yes" or "no" selection: use <StorybookLink kind={ ODS_COMPONENTS_TITLE.radio } story={ STORY.documentation }>Radio</StorybookLink> buttons</span>,
    <span>- Use a Select when a comparison between all items or options is needed: use <StorybookLink kind={ ODS_COMPONENTS_TITLE.radio } story={ STORY.documentation }>Radio</StorybookLink> buttons</span>,
  ]}
  dos={[
    '- Use a Select when there are 3 or more items to choose from',
    '- Make the order of the Select list based on the frequency of use, alpha or numeric',
    <span>- Use only one word or a very short <StorybookLink kind={ ODS_COMPONENTS_TITLE.text } story={ STORY.documentation }>Text</StorybookLink> for each item of the list: try to keep it to one line</span>,
  ]}
/>

<Heading label="Placement" level={ 2 } />

**Select** should be vertically aligned with other form components on a same page.

It has a width by default, but it can widen to match its container.

<Heading label="Behavior" level={ 2 } />

**Select** can be focused and hovered. It also can be disabled. A single option and a group of options can be disabled to be more precise in inner **Select** items.

When an item contains a <StorybookLink kind={ ODS_COMPONENTS_TITLE.text } story={ STORY.documentation }>Text</StorybookLink> that cannot fit on a single line, the <StorybookLink kind={ ODS_COMPONENTS_TITLE.text } story={ STORY.documentation }>Text</StorybookLink> will be truncated.

An event is triggered when the selected option changes.

An event is triggered on focusing, and a blur event is triggered when the **Select** loses the focus.

<Heading label="Variation" level={ 2 } />

<Heading label="Variant" level={ 3 } />

- **Single selection**: Allows the user to select a single item from a dropdown list of options.
- **Multiple selection**: Allows the user to select multiple items from a dropdown list of options. The whole line is clickable.
- **Grouped options**: Related options can be grouped together in both a single and multi **Select**.

<Heading label="Accessibility" level={ 2 } />

Like all form fields, **Select** component is focusable using `Tabulation` key.

When focused, using `Space` opens the **Select**'s dropdown; while opened, user can :
- Use `Up` or `Down` arrows to highlight an option
- Use `Echap` key to close the dropdown without selecting anything new
- Use `Enter` or `Tab` key to select the highlighted option
