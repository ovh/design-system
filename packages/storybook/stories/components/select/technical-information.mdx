import { Canvas, Meta, Markdown } from '@storybook/blocks';
import SpecificationsSelect from '@ovhcloud/ods-components/src/components/select/documentation/spec.md?raw';
import { Banner } from '../../banner';
import * as SelectStories from './select.stories';
import { Select as FormFieldSelect } from '../form-field/form-field.stories';

<Meta of={ SelectStories } name='Technical information' />

<Banner of={ SelectStories } />

## Overview

<Canvas of={ SelectStories.Overview } sourceState='none' />

<Markdown>{ SpecificationsSelect }</Markdown>

## Style customization

You can add your own style on the select element by adding class on the webcomponent directly.

Custom CSS:

<Canvas of={ SelectStories.CustomCSS } sourceState='shown'/>

## Examples

### Default

<Canvas of={ SelectStories.Default } sourceState='shown' />

### Group

<Canvas of={ SelectStories.Optgroup } sourceState='shown' />

### Multiple Selection

<Canvas of={ SelectStories.Multiple } sourceState='shown' />

### Disabled

<Canvas of={ SelectStories.Disabled } sourceState='shown' />

### Disabled option

<Canvas of={ SelectStories.DisabledOption } sourceState='shown' />

### Disabled group of options

<Canvas of={ SelectStories.DisabledGroupOfOptions } sourceState='shown' />

### Readonly

<Canvas of={ SelectStories.Readonly } sourceState='shown' />


### Custom Renderer

If you want to display something more complex that just a string, you can use your own render functions instead of native elements.

You can customize either:
- `item`: the currently selected element
- `option`: an option on the select option list

By default, each render function will receive as argument an object containing the following properties:
- `text`: the label of the option
- `value`: the value of the option

If you need more data per option, you can attach a `data-attribute` to each option, the value will be available
on the render function as well.

Here is an example of the customization of each elements using specific data:

<Canvas of={ SelectStories.CustomRenderer } sourceState='shown' />

### Custom Renderer For Multiple Selection

If you set the property `allow-multiple`, custom option rendering is quite the same as, except that you'll
have to take into account the selection checkbox that will be injected in the DOM.

As for now, item template is not customizable and will always render as the count of selected items.

Here is the same example as [previously](?path=/docs/ods-components-form-elements-select--documentation#custom-renderer) updated for multiple selection:

<Canvas of={ SelectStories.CustomRendererMultiple } sourceState='shown' />

### Included in a [**Form Field**](?path=/docs/ods-components-form-elements-form-field--technical-information)
<Canvas of={ FormFieldSelect } sourceState='shown' />
