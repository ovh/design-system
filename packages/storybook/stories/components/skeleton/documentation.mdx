import { Canvas, Meta } from '@storybook/blocks';
import * as SkeletonStories from './skeleton.stories';
import { Banner } from '../../../src/components/banner/Banner';
import { BestPractices } from '../../../src/components/bestPractices/BestPractices';
import { Heading } from '../../../src/components/heading/Heading';
import { IdentityCard } from '../../../src/components/identityCard/IdentityCard';
import { StorybookLink } from '../../../src/components/storybookLink/StorybookLink';
import { ATOMIC_TYPE } from '../../../src/constants/atomicDesign';
import { ODS_COMPONENTS_TITLE, STORY } from '../../../src/constants/meta';

<Meta of={ SkeletonStories } name='Documentation' />

<Banner of={ SkeletonStories } />

_**Skeleton** component indicates that data is loading. It improves the perceived loading time for the user._

<Canvas of={ SkeletonStories.Default } sourceState='none' />

<Heading label="Overview" level={ 2 } />

<IdentityCard aliases={ ['Skeleton loader'] }
              atomicType={ ATOMIC_TYPE.quark }
              figmaLink="https://www.figma.com/design/9jDDTcR4a9jPRFcdjawAlf/ODS---UI-Kit?node-id=52-10250"
              githubUrl="https://github.com/ovh/design-system/tree/master/packages/ods/src/components/skeleton"
              name="Skeleton">
  **Skeleton** indicates, through and animation, that content is loading and that the screen is not frozen.
</IdentityCard>

<Heading label="Anatomy" level={ 2 } />

![Component anatomy](components/skeleton/anatomy.png "Component anatomy")

1. **Main content**: the **Skeleton** itself.

<Heading label="Usage" level={ 2 } />

A **Skeleton** can be used in a variety of contexts such as in Cards, lists, and table content.

<Heading label="Spinner vs Skeleton" level={ 3 } />

Both <StorybookLink kind={ ODS_COMPONENTS_TITLE.spinner } story={ STORY.documentation }>Spinner</StorybookLink> and **Skeleton** indicate that content is loading, but they serve different purposes:

* Use a Spinner when the content or result is unknown and the user must wait. For example, after clicking a button or loading data from an API

* Use a **Skeleton** when the structure of the content is known, but the actual data hasn't loaded yet. It helps set expectations and makes the wait feel shorter

<Heading label="Dos & Don'ts" level={ 3 } />

<BestPractices
  donts={[
    '- Don\'t use Skeleton for static content that doesn\'t change, load it normally without placeholders',
    '- Don\'t apply Skeleton to interactive elements like buttons or inputs. Use Spinner or loading states instead',
    '- Don\'t show Skeleton for very short loading delays, it may feel like a glitch or visual noise',
    '- Don\'t animate excessively or use distracting visuals. Skeleton should feel smooth and unobtrusive',
  ]}
  dos={[
    '- Use a Skeleton to indicate loading states for dynamic content, such as user data or content blocks',
    '- Prefer Skeleton when content will take more than a moment to load (usually > 500ms)',
    '- Ensure Skeleton is replaced with real content as soon as it is available',
  ]}
/>

<Heading label="Placement" level={ 2 } />

A **Skeleton** can be placed whenever needed to indicate a content is loading.

<Heading label="Behavior" level={ 2 } />

The **Skeleton** component has a linear animation to show to indicates a content is loading.

<Heading label="Navigation" level={ 2 } />

The **Skeleton** component is non-interactive and does not receive keyboard focus. It is purely visual and serves as a placeholder for content loading, without affecting keyboard navigation.

<Heading label="Accessibility" level={ 2 } />

This component is only visual and does not provide any screen reader information.
