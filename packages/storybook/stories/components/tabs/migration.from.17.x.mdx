import { Badge } from '@ovhcloud/ods-react';
import { Meta, Source } from '@storybook/blocks';
import * as TabsStories from './tabs.stories';
import { Heading } from '../../../src/components/heading/Heading';

<Meta of={ TabsStories } name="Migration v17 to v18" />

<Heading label="Tabs - migrate from v17 to v18" level={ 1 } />

<Heading label="Usage changes" level={ 2 } />

Previous to v18, the component was managing the tabs and the panel associated to each tab.

This was causing some issue for some projects, as each may want to act differently on tab selection.

The component is now only a graphical component displaying tabs, triggering an event on tab selection.

The following component has been removed: <Badge color="critical" size="sm">Removed</Badge>
- `osds-tab-bar`
- `osds-tab-panel`

The following component has been updated: <Badge color="information" size="sm">Updated</Badge>
- `osds-tabs` is now `ods-tabs`
- `osds-tab-bar-item` is now `ods-tab`

<Heading label="Attributes changes" level={ 2 } />

<Heading label="Tabs" level={ 3 } />

`contrasted` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

You can use the style customization to achieve the same result, until a new color get validated by the design team.

`panel`  <Badge color="critical" size="sm">Removed</Badge>
Has been removed.

Not relevant anymore as the new component does not handle panels.

`size` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

You can use the style customization to achieve the same result.

<Heading label="Tab" level={ 3 } />

`active` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isSelected` attribute to obtain the same behavior.

`contrasted` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

You can use the style customization to achieve the same result, until a new color get validated by the design team.

`disabled` <Badge color="information" size="sm">Updated</Badge>

Has been updated.

You can use the new `isDisabled` attribute to obtain the same behavior.

`panel` <Badge color="critical" size="sm">Removed</Badge>

Has been removed.

Not relevant anymore as the new component does not handle panels.

<Heading label="Migration examples" level={ 2 } />

Basic tabs:

<Source code={`
<osds-tabs>
  <osds-tab-bar slot="top">
    <osds-tab-bar-item panel="default">Default</osds-tab-bar-item>
    <osds-tab-bar-item panel="hover">Hover</osds-tab-bar-item>
    <osds-tab-bar-item panel="active">Active</osds-tab-bar-item>
  </osds-tab-bar>
  <osds-tab-panel name="default">Default</osds-tab-panel>
  <osds-tab-panel name="hover">Hover</osds-tab-panel>
  <osds-tab-panel name="active">Active</osds-tab-panel>
</osds-tabs>

<!-- is now -->

<ods-tabs>
  <ods-tab>Default</ods-tab>
  <ods-tab>Hover</ods-tab>
  <ods-tab>Active</ods-tab>
</ods-tabs>
<!-- ... your own panel/view/page management ... -->
`}
        dark="true"
        language="html" />

Disabled tab:

<Source code={`
<osds-tabs>
  <osds-tab-bar slot="top">
    <osds-tab-bar-item disabled panel="default">Default</osds-tab-bar-item>
    <osds-tab-bar-item panel="hover">Hover</osds-tab-bar-item>
    <osds-tab-bar-item panel="active">Active</osds-tab-bar-item>
  </osds-tab-bar>
  <osds-tab-panel name="default">Default</osds-tab-panel>
  <osds-tab-panel name="hover">Hover</osds-tab-panel>
  <osds-tab-panel name="active">Active</osds-tab-panel>
</osds-tabs>

<!-- is now -->

<ods-tabs>
  <ods-tab is-disabled>Default</ods-tab>
  <ods-tab>Hover</ods-tab>
  <ods-tab>Active</ods-tab>
</ods-tabs>
<!-- ... your own panel/view/page management ... -->
`}
        dark="true"
        language="html" />

Selected tab:

<Source code={`
<osds-tabs>
  <osds-tab-bar slot="top">
    <osds-tab-bar-item active panel="default">Default</osds-tab-bar-item>
    <osds-tab-bar-item panel="hover">Hover</osds-tab-bar-item>
    <osds-tab-bar-item panel="active">Active</osds-tab-bar-item>
  </osds-tab-bar>
  <osds-tab-panel name="default">Default</osds-tab-panel>
  <osds-tab-panel name="hover">Hover</osds-tab-panel>
  <osds-tab-panel name="active">Active</osds-tab-panel>
</osds-tabs>

<!-- is now -->

<ods-tabs>
  <ods-tab is-selected>Default</ods-tab>
  <ods-tab>Hover</ods-tab>
  <ods-tab>Active</ods-tab>
</ods-tabs>
<!-- ... your own panel/view/page management ... -->
`}
        dark="true"
        language="html" />
