import { Meta } from '@storybook/addon-docs';

<Meta title="Contributing/Repository Strategy" />

# Repository strategy

When contributing to ODS repository, please follow guidelines and rules as below.
<!-- TOC -->

* [Repository strategy](#repository-strategy)
* [Feature branch](#feature-branch)
* [Creation](#creation)
* [Branch name](#branch-name)
* [Commits](#commits)
* [Pull requests](#pull-requests)

<!-- TOC -->

## Feature branch

### Creation

For each task, improvement or bug to handle, a feature branch has to be created.

This feature branch has to start from a `release/*` branch, depending on which release your Pull Request is for
(default is release/next, apart if it's for a specific release branch).

### Branch name

The branch name template should be the following:

```
%branch_type%/%scope%-%ref%
```

where:

* `%branch_type%` can be:
* feature, or feat, for new features or improvement
* fix, bugfix or hotfix for bug fixing
* test for testing purposes
* `%scope%` should include the related main topic (i.e. a component, a tool, etc.)

You can find relative information in
the [Git Branching Name Convention Proof Of Concept](https://dev.to/couchcamote/git-branching-name-convention-cch)

> ⚠️️ **Please note**<br/>
> `release/*` branch names are reserved for releasing

## Commits

Our commit message guidelines are following the
global [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0-beta.3/#summary) specification.

There are several purposes for this usage:

* acting uniformly on every commit message
* anticipating the following Pull requests' scope
* preparing future version's Changelog

> ℹ️ **Quick cheatsheet**
> ```
> %type%(%scope%): %title%
>
> %body%
> ```
>
> where:
> - `%type%` can be:
>
- feat for new features or improvements
>   - fix for bug fixing
>   - chore for tidying code
>   - docs for documentation
>   - style for UI styling only
>   - refactor for refactoring code
>   - perf for performance fixing
>   - test for testing purposes
> - *(optional)* `%scope%` should include the related main scope (i.e. a component, a tool, etc.)
> - `%title%` have to contain the main commit goal
> - *(optional)* `%body%` can contain a reference to tickets (using the ref: prefix) or BREAKING CHANGE if the commit
contains a breaking change

## Pull requests

When creating a pull request, you have to follow these rules:

* please describe what this PR is about into the description section
* please be sure **you are not pushing any sensitive content** in your PR since the repository is public

Following rules apply to ODS core team:

* when merging a pull request, rewrite commit message as following (for changelog): %commit message% - Pull request #%PR
number%
* all commits have to be squashed to only one commit when you merge


![PR merging example](contributing-images/merge-pr.png "PR merging example")
