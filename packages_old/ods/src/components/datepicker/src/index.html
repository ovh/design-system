<!DOCTYPE html>
<html dir='ltr' lang='en'>
<head>
  <meta charset='utf-8' />
  <meta name='viewport' content='width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0' />
  <title>Dev ods-datepicker</title>

  <script type='module' src='/build/ods-datepicker.esm.js'></script>
  <script nomodule src='/build/ods-datepicker.js'></script>
  <link rel="stylesheet" href="/build/ods-datepicker.css">

  <style>
    * {
      font-family: 'Source Sans Pro', sans-serif;
    }
  </style>
</head>

<body style="margin-bottom: 200px;">
  <p>Modal</p>

  <ods-button class="button-default" label="Trigger Modal"></ods-button>
  <ods-modal class="modal-default">
    <ods-datepicker is-clearable strategy="fixed">
    </ods-datepicker>
  </ods-modal>

  <script>
    (() => {
      const buttonDefault = document.querySelector('.button-default');
      const modalDefault = document.querySelector('.modal-default');

      buttonDefault.addEventListener('click', () => {
        modalDefault.open();
      });
    })();
  </script>

  <p>Default</p>
  <ods-datepicker is-clearable>
  </ods-datepicker>

  <!-- <p>Format</p>
  <ods-datepicker format='yyyy/mm/dd'></ods-datepicker>

  <p>Error</p>
  <ods-datepicker has-error>
  </ods-datepicker>

  <p>Placeholder</p>
  <ods-datepicker placeholder="Pick a date">
  </ods-datepicker>

  <p>Disabled</p>
  <ods-datepicker is-disabled>
  </ods-datepicker>
  <ods-datepicker is-disabled
                  is-loading>
  </ods-datepicker>
  <ods-datepicker id="disabled-datepicker"
                  is-disabled
                  is-clearable>
  </ods-datepicker>
  <script>
    const disabledDatepicker = document.querySelector('#disabled-datepicker');
    disabledDatepicker.value = new Date('05/01/2024');
  </script>

  <p>Readonly</p>
  <ods-datepicker id="readonly-datepicker"
                  is-readonly>
  </ods-datepicker>
  <ods-datepicker id="readonly-clearable-datepicker"
                  is-readonly
                  is-clearable>
  </ods-datepicker>
  <script>
    document.querySelector('#readonly-datepicker').value = new Date('05/01/2024');
    document.querySelector('#readonly-clearable-datepicker').value = new Date('05/01/2024');
  </script>

  <p>Loading</p>
  <ods-datepicker is-loading>
  </ods-datepicker>

  <p>Clearable</p>
  <ods-datepicker is-clearable>
  </ods-datepicker>

  <p>Min Date (Today)</p>
  <ods-datepicker id='min-datepicker'></ods-datepicker>
  <script>
    const datepickerMinDateUsage = document.querySelector('#min-datepicker');
    datepickerMinDateUsage.min = new Date();
  </script>

  <p>Max Date (Today)</p>
  <ods-datepicker id='max-datepicker'></ods-datepicker>
  <script>
    const datepickerMaxDateUsage = document.querySelector('#max-datepicker');
    datepickerMaxDateUsage.max = new Date();
  </script>

  <p>Date disabled (Today)</p>
  <ods-datepicker id='datepicker-dates-disabled'></ods-datepicker>
  <script>
    const datepickerDatesDisabledUsage = document.querySelector('#datepicker-dates-disabled');
    datepickerDatesDisabledUsage.datesDisabled = [new Date()];
  </script>

  <p>Days of Week disabled</p>
  <ods-datepicker id='datepicker-days-of-week-disabled'></ods-datepicker>
  <script>
    const datepickerDaysOfWeekDisabledUsage = document.querySelector('#datepicker-days-of-week-disabled');
    datepickerDaysOfWeekDisabledUsage.daysOfWeekDisabled = [0, 6];
  </script>

  <p>Locales</p>
  <ods-datepicker locale="fr">
  </ods-datepicker>
  <ods-datepicker locale="en">
  </ods-datepicker>

  <p>Value</p>
  <ods-datepicker id="value" is-clearable></ods-datepicker>
  <script>
    const valueDatepicker = document.querySelector('#value');
    valueDatepicker.value = new Date('10 May 2024');
  </script>

  <p>Default Value</p>
  <ods-datepicker id="default-value" is-clearable></ods-datepicker>
  <script>
    const defaultValueDatepicker = document.querySelector('#default-value');
    defaultValueDatepicker.defaultValue = new Date('04/21/2024');
  </script> -->

  <p>Methods & Events</p>
  <ods-datepicker id="datepicker-methods" min="21-11-2024" format="dd-mm-yyyy" max="29-11-2024">
  </ods-datepicker>
  <button id="datepicker-clear-button">Clear</button>
  <button id="datepicker-reset-button">Reset</button>
  <button id="datepicker-get-validity-button">GetValidity</button>
  <button id="datepicker-update-required-button">update required</button>
  <button id="datepicker-close-button">Close</button>
  <script>
    const datepickerMethods = document.getElementById('datepicker-methods');
    // setTimeout(() => datepickerMethods.value = new Date(), 0);
    const datepickerClearButton = document.getElementById('datepicker-clear-button');
    const datepickerResetButton = document.getElementById('datepicker-reset-button');
    const datepickerGetValidityButton = document.getElementById('datepicker-get-validity-button');
    const datepickerUpdateRequiredButton = document.getElementById('datepicker-update-required-button');
    const datepickerCloseButton = document.getElementById('datepicker-close-button');

    datepickerClearButton.addEventListener('click', () => datepickerMethods.clear());
    datepickerResetButton.addEventListener('click', () => datepickerMethods.reset());
    datepickerUpdateRequiredButton.addEventListener('click', () => datepickerMethods.isRequired = !datepickerMethods.isRequired);
    datepickerCloseButton.addEventListener('click', () => datepickerMethods.close());
    datepickerGetValidityButton.addEventListener('click', async() => {
      console.log(await datepickerMethods.getValidity());
    });

    datepickerMethods.addEventListener('odsBlur', () => { console.log('on blur') });
    datepickerMethods.addEventListener('odsChange', (e) => { console.log('on change', e) });
    datepickerMethods.addEventListener('odsClear', () => { console.log('on clear') });
    datepickerMethods.addEventListener('odsFocus', () => { console.log('on focus') });
    datepickerMethods.addEventListener('odsReset', () => { console.log('on reset') });
  </script>

  <!-- <p>Form</p>
  <form id="datepicker-form" onsubmit="return false">
    <ods-datepicker is-required id="datepicker-in-form"
                    name="datepicker"
                    default-value="14/10/2024">
    </ods-datepicker>
    <button id="datepicker-form-reset-button" type="reset">Reset</button>
    <button id="datepicker-form-submit-button" type="submit">Submit</button>
  </form>
  <script>
    const datepickerFormElement = document.querySelector('#datepicker-in-form');
    // datepickerFormElement.value = new Date();
    // datepickerFormElement.defaultValue = new Date();
    const datepickerForm = document.querySelector('#datepicker-form');
    const datepickerSubmitFormButton = document.querySelector('#datepicker-form-submit-button');

    datepickerSubmitFormButton.addEventListener('click', () => {
      const formData = new FormData(datepickerForm);
      console.log('formData', formData);
    });
  </script> -->

  <!-- <p>Dynamic Prop Change</p>
  <ods-datepicker id="dynamic-datepicker"></ods-datepicker>
  <button id="dynamic-datepicker-change-prop-button" type="button">Change Prop</button>
  <script>
    const dynamicDatepicker = document.querySelector('#dynamic-datepicker');
    const changePropButton = document.querySelector('#dynamic-datepicker-change-prop-button');
    dynamicDatepicker.min = new Date();

    changePropButton.addEventListener('click', () => {
      dynamicDatepicker.min = new Date(Date.now() - 86400000);
      // dynamicDatepicker.locale = 'fr';
    });
  </script>

  <p>With label</p>
  <label for="labelled-datepicker">My datepicker</label>
  <ods-datepicker id="labelled-datepicker">
  </ods-datepicker> -->
</body>
</html>
