import { Canvas, Meta } from '@storybook/blocks';
import * as SwitchStories from './switch.stories';
import { Banner } from '../../../src/components/banner/Banner';
import { BestPractices } from '../../../src/components/bestPractices/BestPractices';
import { Heading } from '../../../src/components/heading/Heading';
import { IdentityCard } from '../../../src/components/identityCard/IdentityCard';
import { StorybookLink } from '../../../src/components/storybookLink/StorybookLink';
import { ATOMIC_TYPE } from '../../../src/constants/atomicDesign';
import { ODS_COMPONENTS_TITLE, STORY } from '../../../src/constants/meta';

<Meta of={ SwitchStories } name="Documentation" />

<Banner of={ SwitchStories } />

_A **Switch** allows users to quickly and easily switch between several states, actions or options in a row._

<Canvas of={ SwitchStories.Overview } sourceState="none" />

<Heading label="Overview" level={ 2 } />

<IdentityCard aliases={ ['Button group', 'Segmented control', 'Toggle group'] }
              atomicType={ ATOMIC_TYPE.atom }
              figmaLink="https://www.figma.com/design/9jDDTcR4a9jPRFcdjawAlf/ODS---UI-Kit?node-id=52-10578"
              githubUrl="https://github.com/ovh/design-system/tree/master/packages/ods/src/components/switch"
              name="Switch"
              relatedComponents={ [{ name: 'Form Field', subtitle: 'Form elements' }, { name: 'Text' }] }>
  A **Switch** allows users to quickly and easily switch between several states, actions or options in a row.
</IdentityCard>

<Heading label="Anatomy" level={ 2 } />

![Component anatomy](components/switch/anatomy.png "Component anatomy")

1. **Controls**: the user clicks on them to choose a state or an item. Controls' content can be <StorybookLink kind={ ODS_COMPONENTS_TITLE.text } label="Text" story={ STORY.documentation } />, <StorybookLink kind={ ODS_COMPONENTS_TITLE.icon } label="Icon" story={ STORY.documentation } />, or both.
2. **Track**: it is a trail where the controls are displayed. The user can switch from one state or item to another

<Heading label="Usage" level={ 2 } />

A **Switch** is used to switch between multiple states, actions or options (up-to 4).

It can be used for many use cases such as selecting a state within a group of states or filtering.

<Heading label="Dos & Don'ts" level={ 3 } />

<BestPractices
  donts={[
    <span>- Use a Switch when there are more than four options to display to the user: use others component such as <StorybookLink kind={ ODS_COMPONENTS_TITLE.checkbox } label="Checkbox" story={ STORY.documentation } /> button, <StorybookLink kind={ ODS_COMPONENTS_TITLE.radio } label="Radio" story={ STORY.documentation } /> button or <StorybookLink kind={ ODS_COMPONENTS_TITLE.select } label="Select" story={ STORY.documentation } /></span>,
    <span>- Use a Switch when you are not expecting an immediate effect by clicking on it: use a <StorybookLink kind={ ODS_COMPONENTS_TITLE.checkbox } label="Checkbox" story={ STORY.documentation } /> component instead</span>,
    '- Use a Switch with states, actions or options that are not strongly related',
  ]}
  dos={[
    '- Use a Switch when the user has to select only one state or action active at a time',
    '- Make it clear in every Switch control content about what the user is selecting: give a strong indication',
    <span>- Consider whether a <StorybookLink kind={ ODS_COMPONENTS_TITLE.text } label="Text" story={ STORY.documentation } />, an <StorybookLink kind={ ODS_COMPONENTS_TITLE.icon } label="Icon" story={ STORY.documentation } />, or both would suit better to your Switch controls content</span>,
  ]}
/>

<Heading label="Placement" level={ 2 } />

A **Switch** can be used in a page when the user needs to select a choice from multiple states or items.
It may replace two <StorybookLink kind={ ODS_COMPONENTS_TITLE.radio } label="Radio" story={ STORY.documentation } /> buttons or a single <StorybookLink kind={ ODS_COMPONENTS_TITLE.checkbox } label="Checkbox" story={ STORY.documentation } /> to allow users to choose between several states.

By default, the width of a **Switch** control is defined by the length of content.
A custom width can be set so all controls on the track will have the same size regardless of content length.

<Heading label="Behavior" level={ 2 } />

**One of the controls is always selected by default.**

The user can switch between states by clicking the **Switch** controls, and it has an immediate effect.

An event is triggered when the **Switch** item changes.

<Heading label="Variation" level={ 2 } />

N/A

<Heading label="Accessibility" level={ 2 } />

All **Switch** items can be focused using `Tabulation`, selecting an item can be done using `Space`/`Enter` keys.
