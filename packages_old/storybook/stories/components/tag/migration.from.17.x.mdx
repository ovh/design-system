import { OdsBadge } from '@ovhcloud/ods-components/react';
import { Meta, Source } from '@storybook/blocks';
import * as TagStories from './tag.stories';
import { Heading } from '../../../src/components/heading/Heading';

<Meta of={ TagStories } name="Migration From 17.x" />

<Heading label="Tag - migrate from v17 to v18" level={ 1 } />

<Heading label="Usage changes" level={ 2 } />

Previous to v18, Tag component was actually a Chip component with specific properties set.

Chip has been split into two new components (Tag and Badge):
- use Tag when you need an interactive Chip that can be removed.
- use Badge when you need a presentational Chip.

On Chip component, slots were used to allow any content to be put inside the chip.

The new tag design enforces the usage of only text as the main content, with an optional icon on the left side.

Therefore, slots have been replaced by two attributes: `label` and `icon`.

<Source code={`
<osds-chip removable>
  <osds-icon name="star"></osds-icon>
  My tag
</osds-chip>
`}
        dark="true"
        language="html" />

The same result would now be achieved using:

<Source code={`
<ods-tag icon="star"
         label="My tag">
</ods-tag>
`}
        dark="true"
        language="html" />

<Heading label="Attributes changes" level={ 2 } />

`contrasted` <OdsBadge color="critical" label="Removed" size="sm" />

Has been removed.

You can use the style customization to achieve the same result, until a new color get validated by the design team.

`disabled` <OdsBadge color="information" label="Updated" size="sm" />

Has been updated.

You can use the new `isDisabled` attribute to obtain the same behavior.

`icon` <OdsBadge color="success" label="New" size="sm" />

New attribute (optional).

Allow you to render an icon on the left side of the tag.

`inline` <OdsBadge color="critical" label="Removed" size="sm" />

Has been removed.

Tags are inline by default. If you need to change this, you can use the style customization.

`label` <OdsBadge color="success" label="New" size="sm" />

New attribute (required).

The label you want to render in the tag.

`removable` <OdsBadge color="critical" label="Removed" size="sm" />

Has been removed.

Tag are all removable. If you want to display information without the removal, use the Badge component.

`selectable` <OdsBadge color="critical" label="Removed" size="sm" />

Has been removed.

Tag are not meant to be selected.
You may eventually mimic previous behavior using some style customization,
but we'll advise to reach out the design team before doing so.

<Heading label="Migration examples" level={ 2 } />

Basic tag:

<Source code={`
<osds-chip>
  My tag
</osds-chip>

<!-- is now -->

<ods-tag label="My tag">
</ods-tag>
`}
        dark="true"
        language="html" />

Disabled tag:

<Source code={`
<osds-chip disabled>
  My tag
</osds-chip>

<!-- is now -->

<ods-tag label="My tag" is-disabled>
</ods-tag>
`}
        dark="true"
        language="html" />

Inline tag:

<Source code={`
<osds-chip inline>
  My tag
</osds-chip>

<!-- is now -->

<ods-tag label="My tag">
</ods-tag>
`}
        dark="true"
        language="html" />
